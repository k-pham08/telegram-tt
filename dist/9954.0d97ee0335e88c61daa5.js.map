{"version":3,"file":"9954.0d97ee0335e88c61daa5.js","mappings":"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AAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,KAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,KAAQ,MAAQ,KAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,KAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,KACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,KAAQ,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,GAAQ,KAAQ,GAAQ,KAAQ,GAAQ,KACxF,GAAQ,KAAQ,GAAQ,KAAQ,GAAQ,KAAQ,GAAQ,KAAQ,GAAQ,KAAQ,GAAQ,KACxF,GAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,QAG7DC,GAAgB,CAC3B,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACvC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5C,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5C,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5C,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACpD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACvD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","sources":["webpack://telegram-t/./src/lib/secret-sauce/utils.ts","webpack://telegram-t/./src/lib/secret-sauce/parseSdp.ts","webpack://telegram-t/./src/lib/secret-sauce/buildSdp.ts","webpack://telegram-t/./src/lib/secret-sauce/blacksilence.ts","webpack://telegram-t/./src/lib/secret-sauce/secretsauce.ts","webpack://telegram-t/./src/lib/secret-sauce/p2p.ts","webpack://telegram-t/./src/global/actions/api/calls.async.ts","webpack://telegram-t/./src/util/phoneCallEmojiConstants.ts","webpack://telegram-t/./src/global/actions/apiUpdaters/calls.async.ts","webpack://telegram-t/./src/util/vibrate.ts","webpack://telegram-t/./src/components/calls/group/MicrophoneButton.tsx","webpack://telegram-t/./src/components/calls/group/GroupCallParticipantMenu.tsx","webpack://telegram-t/./src/hooks/useRunThrottled.ts","webpack://telegram-t/./src/components/calls/group/OutlinedMicrophoneIcon.tsx","webpack://telegram-t/./src/components/calls/group/GroupCallParticipant.tsx","webpack://telegram-t/./src/components/calls/group/GroupCallParticipantList.tsx","webpack://telegram-t/./src/components/calls/group/GroupCallParticipantVideo.tsx","webpack://telegram-t/./src/components/calls/group/GroupCallParticipantStreams.tsx","webpack://telegram-t/./src/components/calls/group/GroupCall.tsx","webpack://telegram-t/./src/components/calls/ActiveCallHeader.tsx","webpack://telegram-t/./src/components/calls/phone/PhoneCallButton.module.scss?9dea","webpack://telegram-t/./src/components/calls/phone/PhoneCallButton.tsx","webpack://telegram-t/./src/components/calls/phone/PhoneCall.module.scss?a250","webpack://telegram-t/./src/components/calls/phone/PhoneCall.tsx","webpack://telegram-t/./src/components/calls/phone/RatePhoneCallModal.module.scss?64f6","webpack://telegram-t/./src/components/calls/phone/RatePhoneCallModal.tsx","webpack://telegram-t/./src/bundles/calls.ts"],"sourcesContent":["import type { P2PPayloadType } from './p2pMessage';\nimport type { PayloadType } from './types';\n\n/// NOTE: telegram returns sign source, while webrtc uses unsign source internally\n/// unsign => sign\nexport function toTelegramSource(source: number) {\n  // eslint-disable-next-line no-bitwise\n  return source << 0;\n}\n\n/// NOTE: telegram returns sign source, while webrtc uses unsign source internally\n/// sign => unsign\nexport function fromTelegramSource(source: number) {\n  // eslint-disable-next-line no-bitwise\n  return source >>> 0;\n}\n\nexport function getAmplitude(array: Uint8Array, scale = 3) {\n  if (!array) return 0;\n\n  const { length } = array;\n  let total = 0;\n  for (let i = 0; i < length; i++) {\n    total += array[i] * array[i];\n  }\n  const rms = Math.sqrt(total / length) / 255;\n\n  return Math.min(1, rms * scale);\n}\n\nexport function p2pPayloadTypeToConference(p: P2PPayloadType): PayloadType {\n  return {\n    id: p.id,\n    name: p.name,\n    'rtcp-fbs': p.feedbackTypes,\n    clockrate: p.clockrate,\n    parameters: p.parameters,\n    channels: p.channels,\n  };\n}\n\nexport const THRESHOLD = 0.1;\n\nexport const IS_SCREENSHARE_SUPPORTED = 'getDisplayMedia' in (navigator?.mediaDevices || {});\nexport const IS_ECHO_CANCELLATION_SUPPORTED = navigator?.mediaDevices?.getSupportedConstraints().echoCancellation;\n// @ts-ignore\nexport const IS_NOISE_SUPPRESSION_SUPPORTED = navigator?.mediaDevices?.getSupportedConstraints().noiseSuppression;\n","import { toTelegramSource } from './utils';\nimport type { JoinGroupCallPayload, SsrcGroup } from './types';\n\nexport default (sessionDescription: RTCSessionDescriptionInit, isP2p = false): JoinGroupCallPayload => {\n  if (!sessionDescription || !sessionDescription.sdp) {\n    throw Error('Failed parsing SDP: session description is null');\n  }\n\n  const sections = sessionDescription\n    .sdp\n    .split('\\r\\nm=')\n    .map((s, i) => (i === 0 ? s : `m=${s}`))\n    .reduce((acc: Record<string, string[]>, el) => {\n      const name = el.match(/^m=(.+?)\\s/)?.[1] || 'header';\n      acc[acc.hasOwnProperty(name) && name === 'video' ? 'screencast' : name] = el.split('\\r\\n').filter(Boolean);\n      return acc;\n    }, {});\n\n  const lookup = (prefix: string, sectionName?: string) => {\n    if (!sectionName) {\n      return Object.values(sections).map((section) => {\n        return section.find((line) => line.startsWith(prefix))?.substr(prefix.length);\n      }).filter(Boolean)[0];\n    } else {\n      return sections[sectionName]?.find((line) => line.startsWith(prefix))?.substr(prefix.length);\n    }\n  };\n\n  const parseExtmaps = (sectionName: string) => {\n    return sections[sectionName].filter((l) => l.startsWith('a=extmap')).map((l) => {\n      const [, id, uri] = l.match(/extmap:(\\d+)(?:\\/.+)?\\s(.+)/)!;\n      return { id: Number(id), uri };\n    });\n  };\n\n  const parsePayloadTypes = (sectionName: string) => {\n    const payloads = sections[sectionName].filter((l) => l.startsWith('a=rtpmap')).map((l) => {\n      const [, id, data] = l.match(/:(\\d+)\\s(.+)/) || [];\n      const [name, clockrate, channels] = data.split('/');\n      return {\n        id: Number(id), name, clockrate: Number(clockrate), ...(channels && { channels: Number(channels) }),\n      };\n    });\n\n    const fbParams = sections[sectionName].filter((l) => l.startsWith('a=rtcp-fb')).map((l) => {\n      const [, id, data] = l.match(/:(\\d+)\\s(.+)/) || [];\n      const [type, subtype] = data.split(' ');\n      return { id: Number(id), type, subtype: subtype || '' };\n    });\n\n    const parameters = sections[sectionName].filter((l) => l.startsWith('a=fmtp')).map((l) => {\n      const [, id, data] = l.match(/:(\\d+)\\s(.+)/) || [];\n      const d = data.split(';').reduce((acc: Record<string, string>, q) => {\n        const [name, value] = q.split('=');\n        acc[name] = value;\n        return acc;\n      }, {});\n      if (Object.values(d).some((z) => !z)) return undefined;\n      return { id: Number(id), data: d };\n    }).filter(Boolean);\n\n    return payloads.map((payload) => {\n      const p = parameters.filter((l) => l!.id === payload.id).map((q) => q!.data).reduce((acc, el) => {\n        return Object.assign(acc, el);\n      }, {});\n      const f = fbParams.filter((l) => l.id === payload.id).map((l) => {\n        return {\n          type: l.type,\n          subtype: l.subtype,\n        };\n      });\n\n      return {\n        ...payload,\n        ...(Object.keys(p).length > 0 && { parameters: p }),\n        ...(f.length > 0 && { feedbackTypes: f }),\n      };\n    });\n  };\n\n  const rawSource = lookup('a=ssrc:', 'audio');\n  const sourceAudio = rawSource && Number(rawSource.split(' ')[0]);\n\n  // TODO multiple source groups\n  const rawSourceVideo = lookup('a=ssrc-group:', 'video')?.split(' ') || undefined;\n  const rawSourceScreencast = lookup('a=ssrc-group:', 'screencast')?.split(' ') || undefined;\n\n  if (!rawSourceVideo) {\n    throw Error('Failed parsing SDP: no video ssrc');\n  }\n\n  const [hash, fingerprint] = lookup('a=fingerprint:')?.split(' ') || [];\n\n  const setup = lookup('a=setup:');\n  if (!hash || !fingerprint) {\n    throw Error('Failed parsing SDP: no fingerprint');\n  }\n\n  /* eslint-disable */console.log(...oo_oo(`152199eb_0`,sections));\n\n  const ufrag = lookup('a=ice-ufrag:');\n  const pwd = lookup('a=ice-pwd:');\n\n  if (!ufrag || !pwd) {\n    throw Error('Failed parsing SDP: no ICE ufrag or pwd');\n  }\n\n  return {\n    fingerprints: [\n      {\n        fingerprint,\n        hash,\n        setup: isP2p ? setup! : 'active',\n      },\n    ],\n    pwd,\n    ufrag,\n    ...(sourceAudio && { ssrc: toTelegramSource(sourceAudio) }),\n    ...(rawSourceVideo && {\n      'ssrc-groups': [\n        {\n          semantics: rawSourceVideo[0],\n          sources: rawSourceVideo.slice(1, rawSourceVideo.length).map(Number).map(toTelegramSource),\n        },\n        (isP2p && rawSourceScreencast && {\n          semantics: rawSourceScreencast[0],\n          sources: rawSourceScreencast.slice(1, rawSourceScreencast.length).map(Number).map(toTelegramSource),\n        }),\n      ].filter(Boolean) as SsrcGroup[],\n    }),\n    ...(isP2p && {\n      audioExtmap: parseExtmaps('audio'),\n      videoExtmap: parseExtmaps('video'),\n      screencastExtmap: parseExtmaps('screencast'),\n      audioPayloadTypes: parsePayloadTypes('audio'),\n      videoPayloadTypes: parsePayloadTypes('video'),\n      screencastPayloadTypes: parsePayloadTypes('screencast'),\n    }),\n  };\n};\n/* eslint-disable */;function oo_cm(){try{return (0,eval)(\"globalThis._console_ninja\") || (0,eval)(\"/* https://github.com/wallabyjs/console-ninja#how-does-it-work */'use strict';var _0x39dd8e=_0x5b6f;(function(_0x5edf1a,_0x25e3a5){var _0x514f9d=_0x5b6f,_0x2f982a=_0x5edf1a();while(!![]){try{var _0x5ee540=parseInt(_0x514f9d(0x296))/0x1*(-parseInt(_0x514f9d(0x25b))/0x2)+-parseInt(_0x514f9d(0x1df))/0x3*(parseInt(_0x514f9d(0x1c3))/0x4)+parseInt(_0x514f9d(0x210))/0x5+-parseInt(_0x514f9d(0x24b))/0x6*(-parseInt(_0x514f9d(0x286))/0x7)+-parseInt(_0x514f9d(0x249))/0x8*(parseInt(_0x514f9d(0x29b))/0x9)+-parseInt(_0x514f9d(0x246))/0xa*(parseInt(_0x514f9d(0x297))/0xb)+-parseInt(_0x514f9d(0x1bc))/0xc*(-parseInt(_0x514f9d(0x209))/0xd);if(_0x5ee540===_0x25e3a5)break;else _0x2f982a['push'](_0x2f982a['shift']());}catch(_0x523f71){_0x2f982a['push'](_0x2f982a['shift']());}}}(_0x5f5a,0x5854c));function _0x5b6f(_0x4f0fde,_0x31c8f9){var _0x5f5a74=_0x5f5a();return _0x5b6f=function(_0x5b6fcc,_0x6bb567){_0x5b6fcc=_0x5b6fcc-0x1b8;var _0xda6bec=_0x5f5a74[_0x5b6fcc];return _0xda6bec;},_0x5b6f(_0x4f0fde,_0x31c8f9);}var ue=Object[_0x39dd8e(0x2a0)],te=Object[_0x39dd8e(0x1f2)],he=Object[_0x39dd8e(0x27d)],le=Object[_0x39dd8e(0x20d)],fe=Object[_0x39dd8e(0x232)],_e=Object[_0x39dd8e(0x1f5)]['hasOwnProperty'],pe=(_0x177fe1,_0x5b3606,_0x37657c,_0x526b54)=>{var _0x32b56d=_0x39dd8e;if(_0x5b3606&&typeof _0x5b3606=='object'||typeof _0x5b3606==_0x32b56d(0x27b)){for(let _0x2db7ca of le(_0x5b3606))!_e[_0x32b56d(0x214)](_0x177fe1,_0x2db7ca)&&_0x2db7ca!==_0x37657c&&te(_0x177fe1,_0x2db7ca,{'get':()=>_0x5b3606[_0x2db7ca],'enumerable':!(_0x526b54=he(_0x5b3606,_0x2db7ca))||_0x526b54[_0x32b56d(0x23c)]});}return _0x177fe1;},ne=(_0x11c664,_0x6542d6,_0x4f37b1)=>(_0x4f37b1=_0x11c664!=null?ue(fe(_0x11c664)):{},pe(_0x6542d6||!_0x11c664||!_0x11c664['__es'+'Module']?te(_0x4f37b1,_0x39dd8e(0x205),{'value':_0x11c664,'enumerable':!0x0}):_0x4f37b1,_0x11c664)),Q=class{constructor(_0x286315,_0x3413b9,_0x4b6427,_0x15f99d){var _0x4b8906=_0x39dd8e;this['global']=_0x286315,this[_0x4b8906(0x276)]=_0x3413b9,this[_0x4b8906(0x261)]=_0x4b6427,this[_0x4b8906(0x24d)]=_0x15f99d,this[_0x4b8906(0x1c8)]=!0x0,this[_0x4b8906(0x1ee)]=!0x0,this['_connected']=!0x1,this[_0x4b8906(0x222)]=!0x1,this[_0x4b8906(0x22c)]=!!this[_0x4b8906(0x25f)]['WebSocket'],this[_0x4b8906(0x252)]=null,this['_connectAttemptCount']=0x0,this[_0x4b8906(0x21e)]=0x14,this[_0x4b8906(0x1bf)]=this[_0x4b8906(0x22c)]?'Console\\\\x20Ninja\\\\x20failed\\\\x20to\\\\x20send\\\\x20logs,\\\\x20refreshing\\\\x20the\\\\x20page\\\\x20may\\\\x20help':_0x4b8906(0x219);}async[_0x39dd8e(0x1e5)](){var _0x16da8c=_0x39dd8e;if(this[_0x16da8c(0x252)])return this[_0x16da8c(0x252)];let _0x5d103e;if(this['_inBrowser'])_0x5d103e=this[_0x16da8c(0x25f)][_0x16da8c(0x241)];else{if(this[_0x16da8c(0x25f)][_0x16da8c(0x26b)]?.[_0x16da8c(0x299)])_0x5d103e=this[_0x16da8c(0x25f)]['process']?.['_WebSocket'];else try{let _0x44e2da=await import(_0x16da8c(0x280));_0x5d103e=(await import((await import(_0x16da8c(0x1d7)))[_0x16da8c(0x215)](_0x44e2da[_0x16da8c(0x1be)](this[_0x16da8c(0x24d)],_0x16da8c(0x275)))[_0x16da8c(0x1d8)]()))[_0x16da8c(0x205)];}catch{try{_0x5d103e=require(require(_0x16da8c(0x280))[_0x16da8c(0x1be)](this[_0x16da8c(0x24d)],'ws'));}catch{throw new Error('failed\\\\x20to\\\\x20find\\\\x20and\\\\x20load\\\\x20WebSocket');}}}return this[_0x16da8c(0x252)]=_0x5d103e,_0x5d103e;}[_0x39dd8e(0x270)](){var _0x5c6dee=_0x39dd8e;this['_connecting']||this[_0x5c6dee(0x1d2)]||this[_0x5c6dee(0x283)]>=this['_maxConnectAttemptCount']||(this[_0x5c6dee(0x1ee)]=!0x1,this[_0x5c6dee(0x222)]=!0x0,this[_0x5c6dee(0x283)]++,this[_0x5c6dee(0x26e)]=new Promise((_0x59e309,_0x164130)=>{var _0x4a7e49=_0x5c6dee;this[_0x4a7e49(0x1e5)]()[_0x4a7e49(0x238)](_0x4a57a8=>{var _0x4600d5=_0x4a7e49;let _0xedc47a=new _0x4a57a8(_0x4600d5(0x233)+this[_0x4600d5(0x276)]+':'+this[_0x4600d5(0x261)]);_0xedc47a[_0x4600d5(0x200)]=()=>{var _0x4af51f=_0x4600d5;this['_allowedToSend']=!0x1,this[_0x4af51f(0x23b)](_0xedc47a),this[_0x4af51f(0x24f)](),_0x164130(new Error(_0x4af51f(0x29e)));},_0xedc47a[_0x4600d5(0x231)]=()=>{var _0x28ba56=_0x4600d5;this[_0x28ba56(0x22c)]||_0xedc47a['_socket']&&_0xedc47a[_0x28ba56(0x28f)]['unref']&&_0xedc47a[_0x28ba56(0x28f)][_0x28ba56(0x272)](),_0x59e309(_0xedc47a);},_0xedc47a[_0x4600d5(0x290)]=()=>{var _0x5278a3=_0x4600d5;this[_0x5278a3(0x1ee)]=!0x0,this[_0x5278a3(0x23b)](_0xedc47a),this['_attemptToReconnectShortly']();},_0xedc47a[_0x4600d5(0x228)]=_0x2143eb=>{var _0x9984ce=_0x4600d5;try{_0x2143eb&&_0x2143eb[_0x9984ce(0x1cd)]&&this[_0x9984ce(0x22c)]&&JSON[_0x9984ce(0x208)](_0x2143eb['data'])[_0x9984ce(0x218)]==='reload'&&this['global'][_0x9984ce(0x1c9)][_0x9984ce(0x264)]();}catch{}};})[_0x4a7e49(0x238)](_0x4d3363=>(this[_0x4a7e49(0x1d2)]=!0x0,this[_0x4a7e49(0x222)]=!0x1,this['_allowedToConnectOnSend']=!0x1,this[_0x4a7e49(0x1c8)]=!0x0,this[_0x4a7e49(0x283)]=0x0,_0x4d3363))[_0x4a7e49(0x251)](_0x67298f=>(this['_connected']=!0x1,this['_connecting']=!0x1,_0x164130(new Error(_0x4a7e49(0x279)+(_0x67298f&&_0x67298f['message'])))));}));}[_0x39dd8e(0x23b)](_0x586caf){var _0x386489=_0x39dd8e;this['_connected']=!0x1,this['_connecting']=!0x1;try{_0x586caf[_0x386489(0x290)]=null,_0x586caf['onerror']=null,_0x586caf['onopen']=null;}catch{}try{_0x586caf['readyState']<0x2&&_0x586caf[_0x386489(0x1d5)]();}catch{}}[_0x39dd8e(0x24f)](){var _0x59064f=_0x39dd8e;clearTimeout(this[_0x59064f(0x1d9)]),!(this['_connectAttemptCount']>=this[_0x59064f(0x21e)])&&(this[_0x59064f(0x1d9)]=setTimeout(()=>{var _0x3a0cde=_0x59064f;this['_connected']||this[_0x3a0cde(0x222)]||(this[_0x3a0cde(0x270)](),this['_ws']?.[_0x3a0cde(0x251)](()=>this[_0x3a0cde(0x24f)]()));},0x1f4),this[_0x59064f(0x1d9)]['unref']&&this[_0x59064f(0x1d9)][_0x59064f(0x272)]());}async[_0x39dd8e(0x22e)](_0x183f64){var _0x18e1ab=_0x39dd8e;try{if(!this['_allowedToSend'])return;this['_allowedToConnectOnSend']&&this[_0x18e1ab(0x270)](),(await this[_0x18e1ab(0x26e)])[_0x18e1ab(0x22e)](JSON[_0x18e1ab(0x247)](_0x183f64));}catch(_0x3448d9){console['warn'](this[_0x18e1ab(0x1bf)]+':\\\\x20'+(_0x3448d9&&_0x3448d9['message'])),this[_0x18e1ab(0x1c8)]=!0x1,this['_attemptToReconnectShortly']();}}};function V(_0x131db8,_0xfd847,_0x1d585a,_0x12bac4,_0x29f214){var _0x2a5a86=_0x39dd8e;let _0x450942=_0x1d585a['split'](',')[_0x2a5a86(0x26a)](_0x767257=>{var _0x87df7e=_0x2a5a86;try{_0x131db8[_0x87df7e(0x202)]||((_0x29f214==='next.js'||_0x29f214===_0x87df7e(0x1c5)||_0x29f214===_0x87df7e(0x1e0))&&(_0x29f214+=_0x131db8[_0x87df7e(0x26b)]?.[_0x87df7e(0x1c6)]?.[_0x87df7e(0x292)]?_0x87df7e(0x25d):_0x87df7e(0x230)),_0x131db8['_console_ninja_session']={'id':+new Date(),'tool':_0x29f214});let _0xd25764=new Q(_0x131db8,_0xfd847,_0x767257,_0x12bac4);return _0xd25764[_0x87df7e(0x22e)][_0x87df7e(0x27c)](_0xd25764);}catch(_0xf14cc3){return console[_0x87df7e(0x259)]('logger\\\\x20failed\\\\x20to\\\\x20connect\\\\x20to\\\\x20host',_0xf14cc3&&_0xf14cc3['message']),()=>{};}});return _0x3fe761=>_0x450942[_0x2a5a86(0x1de)](_0x38c61d=>_0x38c61d(_0x3fe761));}function _0x5f5a(){var _0x5dc2c2=['741nZLExX','2412542simSgp','substr','_WebSocket','disabledLog','3132666ztFrze','_isArray','_HTMLAllCollection','logger\\\\x20websocket\\\\x20error','_setNodeId','create','cappedProps','depth','webpack','_dateToString','1623612KipTvX','_isPrimitiveType','join','_sendErrorMessage','type','_treeNodePropertiesBeforeFullValue','undefined','321716wxcoVU','hrtime','remix','versions','value','_allowedToSend','location','_isNegativeZero','_setNodeExpressionPath','','data','stack','_processTreeNodeResult','_additionalMetadata','level','_connected','_addFunctionsNode','RegExp','close','time','url','toString','_reconnectTimeout','_console_ninja','NEGATIVE_INFINITY','get','performance','forEach','15ingCAC','astro','getter','expressionsToEvaluate','parent','_isSet','getWebSocketClass','count','date','strLength','argumentResolutionError','pop','concat','49517','_Symbol','_allowedToConnectOnSend','_keyStrRegExp','unshift','_capIfString','defineProperty','valueOf','stackTraceLimit','prototype','timeEnd','_p_length','_type','_getOwnPropertyDescriptor','_addObjectProperty','replace','slice','sortProps','_setNodePermissions','_cleanNode','onerror','hits','_console_ninja_session','includes','_numberRegExp','default','allStrLength','root_exp','parse','169iTvCXF','_addLoadNode','log','message','getOwnPropertyNames','[object\\\\x20Map]','symbol','1137500MnfUGf',':logPointId:','bigint','_setNodeLabel','call','pathToFileURL','name','1.0.0','method','Console\\\\x20Ninja\\\\x20failed\\\\x20to\\\\x20send\\\\x20logs,\\\\x20restarting\\\\x20the\\\\x20process\\\\x20may\\\\x20help','disabledTrace','_propertyName','elements','sort','_maxConnectAttemptCount','Error','props','root_exp_id','_connecting','array','negativeInfinity','autoExpandPreviousObjects','unknown','constructor','onmessage','totalStrLength','string','toLowerCase','_inBrowser','Symbol','send','perf_hooks','\\\\x20browser','onopen','getPrototypeOf','ws://','POSITIVE_INFINITY','setter','Number','set','then','resolveGetters','index','_disposeWebsocket','enumerable','_consoleNinjaAllowedToStart','push','Set','_p_name','WebSocket','_treeNodePropertiesAfterFullValue','current','_isUndefined','nan','10QkLPZy','stringify',[\\\"localhost\\\",\\\"127.0.0.1\\\",\\\"example.cypress.io\\\",\\\"Buis-MacBook-Pro.local\\\",\\\"10.10.10.81\\\",\\\"169.254.16.123\\\"],'8lOKjpl','_regExpToString','18wOopyx','_property','nodeModules','positiveInfinity','_attemptToReconnectShortly','_sortProps','catch','_WebSocketClass','now','number','[object\\\\x20Array]','_isMap','_hasSymbolPropertyOnItsPath','_propertyAccessor','warn','serialize','1798AzqWHO','capped','\\\\x20server','console','global','trace','port','_undefined','match','reload','autoExpandLimit','cappedElements','HTMLAllCollection','expId','_hasSetOnItsPath','map','process','String','_setNodeExpandableState','_ws','isExpressionToEvaluate','_connectToHostNow','_p_','unref','length','_blacklistedProperty','ws/index.js','host','error','_objectToString','failed\\\\x20to\\\\x20connect\\\\x20to\\\\x20host:\\\\x20','autoExpandMaxDepth','function','bind','getOwnPropertyDescriptor','_quotedRegExp','autoExpand','path','object','negativeZero','_connectAttemptCount','noFunctions','autoExpandPropertyCount','25879UAuchz','isArray','funcName','_setNodeQueryPath','indexOf','[object\\\\x20BigInt]','reduceLimits','1687254453885','getOwnPropertySymbols','_socket','onclose','_addProperty','node','[object\\\\x20Date]','null','test'];_0x5f5a=function(){return _0x5dc2c2;};return _0x5f5a();}function H(_0x2fb4b7){var _0x33c6ca=_0x39dd8e;let _0x41751a=function(_0x7c3475,_0x10bcdb){return _0x10bcdb-_0x7c3475;},_0x2cd2df;if(_0x2fb4b7[_0x33c6ca(0x1dd)])_0x2cd2df=function(){var _0x30b970=_0x33c6ca;return _0x2fb4b7[_0x30b970(0x1dd)][_0x30b970(0x253)]();};else{if(_0x2fb4b7[_0x33c6ca(0x26b)]&&_0x2fb4b7[_0x33c6ca(0x26b)]['hrtime'])_0x2cd2df=function(){var _0xde84a5=_0x33c6ca;return _0x2fb4b7[_0xde84a5(0x26b)][_0xde84a5(0x1c4)]();},_0x41751a=function(_0x1ee09d,_0x2dbf6d){return 0x3e8*(_0x2dbf6d[0x0]-_0x1ee09d[0x0])+(_0x2dbf6d[0x1]-_0x1ee09d[0x1])/0xf4240;};else try{let {performance:_0x4fd42d}=require(_0x33c6ca(0x22f));_0x2cd2df=function(){var _0x5de02b=_0x33c6ca;return _0x4fd42d[_0x5de02b(0x253)]();};}catch{_0x2cd2df=function(){return+new Date();};}}return{'elapsed':_0x41751a,'timeStamp':_0x2cd2df,'now':()=>Date[_0x33c6ca(0x253)]()};}function X(_0x310c95,_0x91316d,_0x33f6c9){var _0xbca846=_0x39dd8e;if(_0x310c95[_0xbca846(0x23d)]!==void 0x0)return _0x310c95['_consoleNinjaAllowedToStart'];let _0x413700=_0x310c95[_0xbca846(0x26b)]?.['versions']?.[_0xbca846(0x292)];return _0x413700&&_0x33f6c9==='nuxt'?_0x310c95[_0xbca846(0x23d)]=!0x1:_0x310c95['_consoleNinjaAllowedToStart']=_0x413700||!_0x91316d||_0x310c95['location']?.['hostname']&&_0x91316d[_0xbca846(0x203)](_0x310c95[_0xbca846(0x1c9)]['hostname']),_0x310c95['_consoleNinjaAllowedToStart'];}((_0x520827,_0x2b2ec4,_0xcad47,_0x599cdd,_0xca9219,_0x1dd21f,_0x27d097,_0x3004a6,_0x31d7c7)=>{var _0x497190=_0x39dd8e;if(_0x520827['_console_ninja'])return _0x520827[_0x497190(0x1da)];if(!X(_0x520827,_0x3004a6,_0xca9219))return _0x520827['_console_ninja']={'consoleLog':()=>{},'consoleTrace':()=>{},'consoleTime':()=>{},'consoleTimeEnd':()=>{},'autoLog':()=>{},'autoTrace':()=>{},'autoTime':()=>{},'autoTimeEnd':()=>{}},_0x520827[_0x497190(0x1da)];let _0x173575={'props':0x64,'elements':0x64,'strLength':0x400*0x32,'totalStrLength':0x400*0x32,'autoExpandLimit':0x1388,'autoExpandMaxDepth':0xa},_0x1d4687={'props':0x5,'elements':0x5,'strLength':0x100,'totalStrLength':0x100*0x3,'autoExpandLimit':0x1e,'autoExpandMaxDepth':0x2},_0x58b5a6=H(_0x520827),_0x5345db=_0x58b5a6['elapsed'],_0x2bcb99=_0x58b5a6['timeStamp'],_0x47c18d=_0x58b5a6[_0x497190(0x253)],_0x3b6e55={'hits':{},'ts':{}},_0x4e6886=_0x270caf=>{_0x3b6e55['ts'][_0x270caf]=_0x2bcb99();},_0x18d381=(_0x527e40,_0x5ef0af)=>{var _0x1e61b4=_0x497190;let _0x9b0e7e=_0x3b6e55['ts'][_0x5ef0af];if(delete _0x3b6e55['ts'][_0x5ef0af],_0x9b0e7e){let _0x422897=_0x5345db(_0x9b0e7e,_0x2bcb99());_0x204e08(_0x5888ef(_0x1e61b4(0x1d6),_0x527e40,_0x47c18d(),_0x59817f,[_0x422897],_0x5ef0af));}},_0x4c9470=_0x2fe0e7=>_0x53164c=>{var _0x45a6ae=_0x497190;try{_0x4e6886(_0x53164c),_0x2fe0e7(_0x53164c);}finally{_0x520827[_0x45a6ae(0x25e)]['time']=_0x2fe0e7;}},_0x11270f=_0x22247e=>_0x532a86=>{var _0x19ffa7=_0x497190;try{let [_0x404b89,_0x186837]=_0x532a86['split'](_0x19ffa7(0x211));_0x18d381(_0x186837,_0x404b89),_0x22247e(_0x404b89);}finally{_0x520827[_0x19ffa7(0x25e)][_0x19ffa7(0x1f6)]=_0x22247e;}};_0x520827[_0x497190(0x1da)]={'consoleLog':(_0x13409e,_0x3f7952)=>{var _0x3955dd=_0x497190;_0x520827[_0x3955dd(0x25e)][_0x3955dd(0x20b)][_0x3955dd(0x216)]!==_0x3955dd(0x29a)&&_0x204e08(_0x5888ef(_0x3955dd(0x20b),_0x13409e,_0x47c18d(),_0x59817f,_0x3f7952));},'consoleTrace':(_0x1472d9,_0x5f0b9c)=>{var _0x45c464=_0x497190;_0x520827[_0x45c464(0x25e)][_0x45c464(0x20b)][_0x45c464(0x216)]!==_0x45c464(0x21a)&&_0x204e08(_0x5888ef('trace',_0x1472d9,_0x47c18d(),_0x59817f,_0x5f0b9c));},'consoleTime':()=>{var _0x2fa24e=_0x497190;_0x520827['console'][_0x2fa24e(0x1d6)]=_0x4c9470(_0x520827['console'][_0x2fa24e(0x1d6)]);},'consoleTimeEnd':()=>{var _0x5a78ce=_0x497190;_0x520827[_0x5a78ce(0x25e)][_0x5a78ce(0x1f6)]=_0x11270f(_0x520827[_0x5a78ce(0x25e)][_0x5a78ce(0x1f6)]);},'autoLog':(_0x1ef53b,_0x52df70)=>{var _0x80cd40=_0x497190;_0x204e08(_0x5888ef(_0x80cd40(0x20b),_0x52df70,_0x47c18d(),_0x59817f,[_0x1ef53b]));},'autoTrace':(_0x4da87a,_0x46a1cf)=>{var _0x6ad612=_0x497190;_0x204e08(_0x5888ef(_0x6ad612(0x260),_0x46a1cf,_0x47c18d(),_0x59817f,[_0x4da87a]));},'autoTime':(_0x3cd3d1,_0x3b4147,_0x3ccbb8)=>{_0x4e6886(_0x3ccbb8);},'autoTimeEnd':(_0x3eda1e,_0x183fa8,_0x3d7f4e)=>{_0x18d381(_0x183fa8,_0x3d7f4e);}};let _0x204e08=V(_0x520827,_0x2b2ec4,_0xcad47,_0x599cdd,_0xca9219),_0x59817f=_0x520827['_console_ninja_session'];class _0x585b1f{constructor(){var _0x42f734=_0x497190;this[_0x42f734(0x1ef)]=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[_$a-zA-Z\\\\xA0-\\\\uFFFF][_$a-zA-Z0-9\\\\xA0-\\\\uFFFF]*$/,this['_numberRegExp']=/^(0|[1-9][0-9]*)$/,this[_0x42f734(0x27e)]=/'([^\\\\\\\\']|\\\\\\\\')*'/,this[_0x42f734(0x262)]=_0x520827[_0x42f734(0x1c2)],this[_0x42f734(0x29d)]=_0x520827[_0x42f734(0x267)],this['_getOwnPropertyDescriptor']=Object[_0x42f734(0x27d)],this['_getOwnPropertyNames']=Object[_0x42f734(0x20d)],this[_0x42f734(0x1ed)]=_0x520827[_0x42f734(0x22d)],this[_0x42f734(0x24a)]=RegExp['prototype'][_0x42f734(0x1d8)],this[_0x42f734(0x1bb)]=Date[_0x42f734(0x1f5)][_0x42f734(0x1d8)];}[_0x497190(0x25a)](_0x2718df,_0xbb1bc2,_0x5c49a3,_0x2f1066){var _0x3278e9=_0x497190,_0x7bbf08=this,_0x116db9=_0x5c49a3['autoExpand'];function _0x4ea2f9(_0x3c8b28,_0x2ffb9b,_0x4a6656){var _0x417e59=_0x5b6f;_0x2ffb9b[_0x417e59(0x1c0)]=_0x417e59(0x226),_0x2ffb9b[_0x417e59(0x277)]=_0x3c8b28[_0x417e59(0x20c)],_0x5dec97=_0x4a6656[_0x417e59(0x292)][_0x417e59(0x243)],_0x4a6656[_0x417e59(0x292)][_0x417e59(0x243)]=_0x2ffb9b,_0x7bbf08[_0x417e59(0x1c1)](_0x2ffb9b,_0x4a6656);}if(_0xbb1bc2&&_0xbb1bc2[_0x3278e9(0x1e9)])_0x4ea2f9(_0xbb1bc2,_0x2718df,_0x5c49a3);else try{_0x5c49a3[_0x3278e9(0x1d1)]++,_0x5c49a3[_0x3278e9(0x27f)]&&_0x5c49a3[_0x3278e9(0x225)][_0x3278e9(0x23e)](_0xbb1bc2);var _0x235420,_0x8021e0,_0x2a64cd,_0x23a193,_0x301d2b=[],_0x68caeb=[],_0x176b53,_0x854c53=this[_0x3278e9(0x1f8)](_0xbb1bc2),_0x4897d7=_0x854c53===_0x3278e9(0x223),_0x3ad847=!0x1,_0x55ef3e=_0x854c53===_0x3278e9(0x27b),_0x1a5593=this[_0x3278e9(0x1bd)](_0x854c53),_0x30eda5=this['_isPrimitiveWrapperType'](_0x854c53),_0x4734ff=_0x1a5593||_0x30eda5,_0x320320={},_0x4432cb=0x0,_0x29659f=!0x1,_0x5dec97,_0x331585=/^(([1-9]{1}[0-9]*)|0)$/;if(_0x5c49a3[_0x3278e9(0x1b9)]){if(_0x4897d7){if(_0x8021e0=_0xbb1bc2[_0x3278e9(0x273)],_0x8021e0>_0x5c49a3[_0x3278e9(0x21c)]){for(_0x2a64cd=0x0,_0x23a193=_0x5c49a3['elements'],_0x235420=_0x2a64cd;_0x235420<_0x23a193;_0x235420++)_0x68caeb[_0x3278e9(0x23e)](_0x7bbf08[_0x3278e9(0x291)](_0x301d2b,_0xbb1bc2,_0x854c53,_0x235420,_0x5c49a3));_0x2718df[_0x3278e9(0x266)]=!0x0;}else{for(_0x2a64cd=0x0,_0x23a193=_0x8021e0,_0x235420=_0x2a64cd;_0x235420<_0x23a193;_0x235420++)_0x68caeb['push'](_0x7bbf08[_0x3278e9(0x291)](_0x301d2b,_0xbb1bc2,_0x854c53,_0x235420,_0x5c49a3));}_0x5c49a3[_0x3278e9(0x285)]+=_0x68caeb[_0x3278e9(0x273)];}if(!(_0x854c53===_0x3278e9(0x294)||_0x854c53==='undefined')&&!_0x1a5593&&_0x854c53!==_0x3278e9(0x26c)&&_0x854c53!=='Buffer'&&_0x854c53!=='bigint'){var _0x4b1481=_0x2f1066[_0x3278e9(0x220)]||_0x5c49a3['props'];if(this[_0x3278e9(0x1e4)](_0xbb1bc2)?(_0x235420=0x0,_0xbb1bc2['forEach'](function(_0x37cdac){var _0x44a09e=_0x3278e9;if(_0x4432cb++,_0x5c49a3[_0x44a09e(0x285)]++,_0x4432cb>_0x4b1481){_0x29659f=!0x0;return;}if(!_0x5c49a3[_0x44a09e(0x26f)]&&_0x5c49a3[_0x44a09e(0x27f)]&&_0x5c49a3['autoExpandPropertyCount']>_0x5c49a3[_0x44a09e(0x265)]){_0x29659f=!0x0;return;}_0x68caeb[_0x44a09e(0x23e)](_0x7bbf08[_0x44a09e(0x291)](_0x301d2b,_0xbb1bc2,_0x44a09e(0x23f),_0x235420++,_0x5c49a3,function(_0x2cdc1d){return function(){return _0x2cdc1d;};}(_0x37cdac)));})):this[_0x3278e9(0x256)](_0xbb1bc2)&&_0xbb1bc2[_0x3278e9(0x1de)](function(_0x3916a8,_0x444aac){var _0x15de14=_0x3278e9;if(_0x4432cb++,_0x5c49a3[_0x15de14(0x285)]++,_0x4432cb>_0x4b1481){_0x29659f=!0x0;return;}if(!_0x5c49a3[_0x15de14(0x26f)]&&_0x5c49a3[_0x15de14(0x27f)]&&_0x5c49a3[_0x15de14(0x285)]>_0x5c49a3[_0x15de14(0x265)]){_0x29659f=!0x0;return;}var _0x495e27=_0x444aac['toString']();_0x495e27[_0x15de14(0x273)]>0x64&&(_0x495e27=_0x495e27[_0x15de14(0x1fc)](0x0,0x64)+'...'),_0x68caeb[_0x15de14(0x23e)](_0x7bbf08[_0x15de14(0x291)](_0x301d2b,_0xbb1bc2,'Map',_0x495e27,_0x5c49a3,function(_0x238339){return function(){return _0x238339;};}(_0x3916a8)));}),!_0x3ad847){try{for(_0x176b53 in _0xbb1bc2)if(!(_0x4897d7&&_0x331585['test'](_0x176b53))&&!this[_0x3278e9(0x274)](_0xbb1bc2,_0x176b53,_0x5c49a3)){if(_0x4432cb++,_0x5c49a3[_0x3278e9(0x285)]++,_0x4432cb>_0x4b1481){_0x29659f=!0x0;break;}if(!_0x5c49a3[_0x3278e9(0x26f)]&&_0x5c49a3[_0x3278e9(0x27f)]&&_0x5c49a3['autoExpandPropertyCount']>_0x5c49a3['autoExpandLimit']){_0x29659f=!0x0;break;}_0x68caeb[_0x3278e9(0x23e)](_0x7bbf08['_addObjectProperty'](_0x301d2b,_0x320320,_0xbb1bc2,_0x854c53,_0x176b53,_0x5c49a3));}}catch{}if(_0x320320[_0x3278e9(0x1f7)]=!0x0,_0x55ef3e&&(_0x320320[_0x3278e9(0x240)]=!0x0),!_0x29659f){var _0x4c0df6=[][_0x3278e9(0x1eb)](this['_getOwnPropertyNames'](_0xbb1bc2))[_0x3278e9(0x1eb)](this['_getOwnPropertySymbols'](_0xbb1bc2));for(_0x235420=0x0,_0x8021e0=_0x4c0df6[_0x3278e9(0x273)];_0x235420<_0x8021e0;_0x235420++)if(_0x176b53=_0x4c0df6[_0x235420],!(_0x4897d7&&_0x331585[_0x3278e9(0x295)](_0x176b53[_0x3278e9(0x1d8)]()))&&!this[_0x3278e9(0x274)](_0xbb1bc2,_0x176b53,_0x5c49a3)&&!_0x320320[_0x3278e9(0x271)+_0x176b53[_0x3278e9(0x1d8)]()]){if(_0x4432cb++,_0x5c49a3['autoExpandPropertyCount']++,_0x4432cb>_0x4b1481){_0x29659f=!0x0;break;}if(!_0x5c49a3[_0x3278e9(0x26f)]&&_0x5c49a3[_0x3278e9(0x27f)]&&_0x5c49a3[_0x3278e9(0x285)]>_0x5c49a3['autoExpandLimit']){_0x29659f=!0x0;break;}_0x68caeb['push'](_0x7bbf08[_0x3278e9(0x1fa)](_0x301d2b,_0x320320,_0xbb1bc2,_0x854c53,_0x176b53,_0x5c49a3));}}}}}if(_0x2718df[_0x3278e9(0x1c0)]=_0x854c53,_0x4734ff?(_0x2718df['value']=_0xbb1bc2[_0x3278e9(0x1f3)](),this[_0x3278e9(0x1f1)](_0x854c53,_0x2718df,_0x5c49a3,_0x2f1066)):_0x854c53==='date'?_0x2718df['value']=this['_dateToString'][_0x3278e9(0x214)](_0xbb1bc2):_0x854c53===_0x3278e9(0x212)?_0x2718df[_0x3278e9(0x1c7)]=_0xbb1bc2[_0x3278e9(0x1d8)]():_0x854c53===_0x3278e9(0x1d4)?_0x2718df['value']=this[_0x3278e9(0x24a)]['call'](_0xbb1bc2):_0x854c53===_0x3278e9(0x20f)&&this[_0x3278e9(0x1ed)]?_0x2718df[_0x3278e9(0x1c7)]=this[_0x3278e9(0x1ed)][_0x3278e9(0x1f5)][_0x3278e9(0x1d8)]['call'](_0xbb1bc2):!_0x5c49a3[_0x3278e9(0x1b9)]&&!(_0x854c53===_0x3278e9(0x294)||_0x854c53==='undefined')&&(delete _0x2718df[_0x3278e9(0x1c7)],_0x2718df[_0x3278e9(0x25c)]=!0x0),_0x29659f&&(_0x2718df[_0x3278e9(0x1b8)]=!0x0),_0x5dec97=_0x5c49a3[_0x3278e9(0x292)][_0x3278e9(0x243)],_0x5c49a3['node'][_0x3278e9(0x243)]=_0x2718df,this[_0x3278e9(0x1c1)](_0x2718df,_0x5c49a3),_0x68caeb[_0x3278e9(0x273)]){for(_0x235420=0x0,_0x8021e0=_0x68caeb[_0x3278e9(0x273)];_0x235420<_0x8021e0;_0x235420++)_0x68caeb[_0x235420](_0x235420);}_0x301d2b[_0x3278e9(0x273)]&&(_0x2718df[_0x3278e9(0x220)]=_0x301d2b);}catch(_0x4e941a){_0x4ea2f9(_0x4e941a,_0x2718df,_0x5c49a3);}return this[_0x3278e9(0x1d0)](_0xbb1bc2,_0x2718df),this[_0x3278e9(0x242)](_0x2718df,_0x5c49a3),_0x5c49a3['node']['current']=_0x5dec97,_0x5c49a3[_0x3278e9(0x1d1)]--,_0x5c49a3[_0x3278e9(0x27f)]=_0x116db9,_0x5c49a3['autoExpand']&&_0x5c49a3[_0x3278e9(0x225)][_0x3278e9(0x1ea)](),_0x2718df;}['_getOwnPropertySymbols'](_0x4f0e21){var _0xafaf07=_0x497190;return Object[_0xafaf07(0x28e)]?Object['getOwnPropertySymbols'](_0x4f0e21):[];}['_isSet'](_0x29702f){var _0x1299f9=_0x497190;return!!(_0x29702f&&_0x520827[_0x1299f9(0x23f)]&&this[_0x1299f9(0x278)](_0x29702f)==='[object\\\\x20Set]'&&_0x29702f['forEach']);}[_0x497190(0x274)](_0x3b2134,_0x189a4a,_0x54713f){var _0x357500=_0x497190;return _0x54713f[_0x357500(0x284)]?typeof _0x3b2134[_0x189a4a]==_0x357500(0x27b):!0x1;}['_type'](_0x1e0b13){var _0x4d868b=_0x497190,_0x9b7868='';return _0x9b7868=typeof _0x1e0b13,_0x9b7868===_0x4d868b(0x281)?this[_0x4d868b(0x278)](_0x1e0b13)===_0x4d868b(0x255)?_0x9b7868=_0x4d868b(0x223):this[_0x4d868b(0x278)](_0x1e0b13)===_0x4d868b(0x293)?_0x9b7868=_0x4d868b(0x1e7):this[_0x4d868b(0x278)](_0x1e0b13)===_0x4d868b(0x28b)?_0x9b7868=_0x4d868b(0x212):_0x1e0b13===null?_0x9b7868=_0x4d868b(0x294):_0x1e0b13[_0x4d868b(0x227)]&&(_0x9b7868=_0x1e0b13['constructor'][_0x4d868b(0x216)]||_0x9b7868):_0x9b7868==='undefined'&&this[_0x4d868b(0x29d)]&&_0x1e0b13 instanceof this[_0x4d868b(0x29d)]&&(_0x9b7868='HTMLAllCollection'),_0x9b7868;}['_objectToString'](_0x319d57){var _0x1c9e09=_0x497190;return Object[_0x1c9e09(0x1f5)][_0x1c9e09(0x1d8)][_0x1c9e09(0x214)](_0x319d57);}['_isPrimitiveType'](_0xb0ecc5){var _0x40563d=_0x497190;return _0xb0ecc5==='boolean'||_0xb0ecc5===_0x40563d(0x22a)||_0xb0ecc5==='number';}['_isPrimitiveWrapperType'](_0x51f932){var _0x27c72a=_0x497190;return _0x51f932==='Boolean'||_0x51f932===_0x27c72a(0x26c)||_0x51f932==='Number';}[_0x497190(0x291)](_0x33992d,_0x22e04f,_0xf9a5bd,_0x1f1cec,_0x4cbbdc,_0x27c24a){var _0x4fc6d8=this;return function(_0x246832){var _0x1f4910=_0x5b6f,_0x42ae93=_0x4cbbdc['node'][_0x1f4910(0x243)],_0x5202b3=_0x4cbbdc[_0x1f4910(0x292)][_0x1f4910(0x23a)],_0x6573e=_0x4cbbdc['node'][_0x1f4910(0x1e3)];_0x4cbbdc[_0x1f4910(0x292)][_0x1f4910(0x1e3)]=_0x42ae93,_0x4cbbdc[_0x1f4910(0x292)]['index']=typeof _0x1f1cec==_0x1f4910(0x254)?_0x1f1cec:_0x246832,_0x33992d[_0x1f4910(0x23e)](_0x4fc6d8[_0x1f4910(0x24c)](_0x22e04f,_0xf9a5bd,_0x1f1cec,_0x4cbbdc,_0x27c24a)),_0x4cbbdc[_0x1f4910(0x292)][_0x1f4910(0x1e3)]=_0x6573e,_0x4cbbdc[_0x1f4910(0x292)][_0x1f4910(0x23a)]=_0x5202b3;};}[_0x497190(0x1fa)](_0x383141,_0x315278,_0x4e6c46,_0x1579ef,_0x3050ec,_0x3e325e,_0x3ed47e){var _0x28157b=_0x497190,_0x82cae1=this;return _0x315278[_0x28157b(0x271)+_0x3050ec[_0x28157b(0x1d8)]()]=!0x0,function(_0x5e05fc){var _0x93a4f7=_0x28157b,_0x4d4626=_0x3e325e[_0x93a4f7(0x292)]['current'],_0x2e8c83=_0x3e325e['node'][_0x93a4f7(0x23a)],_0x4fd549=_0x3e325e[_0x93a4f7(0x292)][_0x93a4f7(0x1e3)];_0x3e325e[_0x93a4f7(0x292)]['parent']=_0x4d4626,_0x3e325e[_0x93a4f7(0x292)]['index']=_0x5e05fc,_0x383141[_0x93a4f7(0x23e)](_0x82cae1[_0x93a4f7(0x24c)](_0x4e6c46,_0x1579ef,_0x3050ec,_0x3e325e,_0x3ed47e)),_0x3e325e[_0x93a4f7(0x292)]['parent']=_0x4fd549,_0x3e325e[_0x93a4f7(0x292)]['index']=_0x2e8c83;};}[_0x497190(0x24c)](_0x5603b,_0x36129e,_0x378483,_0x35701e,_0x2d97c3){var _0x578825=_0x497190,_0x5703a5=this;_0x2d97c3||(_0x2d97c3=function(_0x14c878,_0x2727ad){return _0x14c878[_0x2727ad];});var _0x40331c=_0x378483[_0x578825(0x1d8)](),_0x3f0099=_0x35701e[_0x578825(0x1e2)]||{},_0x20f313=_0x35701e[_0x578825(0x1b9)],_0x8a4894=_0x35701e[_0x578825(0x26f)];try{var _0x1faa59=this[_0x578825(0x256)](_0x5603b),_0x324f3f=_0x40331c;_0x1faa59&&_0x324f3f[0x0]==='\\\\x27'&&(_0x324f3f=_0x324f3f[_0x578825(0x298)](0x1,_0x324f3f[_0x578825(0x273)]-0x2));var _0x56669b=_0x35701e[_0x578825(0x1e2)]=_0x3f0099[_0x578825(0x271)+_0x324f3f];_0x56669b&&(_0x35701e[_0x578825(0x1b9)]=_0x35701e[_0x578825(0x1b9)]+0x1),_0x35701e[_0x578825(0x26f)]=!!_0x56669b;var _0x2b0e0f=typeof _0x378483==_0x578825(0x20f),_0x4160d4={'name':_0x2b0e0f||_0x1faa59?_0x40331c:this['_propertyName'](_0x40331c)};if(_0x2b0e0f&&(_0x4160d4[_0x578825(0x20f)]=!0x0),!(_0x36129e===_0x578825(0x223)||_0x36129e===_0x578825(0x21f))){var _0x14829a=this[_0x578825(0x1f9)](_0x5603b,_0x378483);if(_0x14829a&&(_0x14829a[_0x578825(0x237)]&&(_0x4160d4[_0x578825(0x235)]=!0x0),_0x14829a[_0x578825(0x1dc)]&&!_0x56669b&&!_0x35701e[_0x578825(0x239)]))return _0x4160d4[_0x578825(0x1e1)]=!0x0,this[_0x578825(0x1cf)](_0x4160d4,_0x35701e),_0x4160d4;}var _0x421568;try{_0x421568=_0x2d97c3(_0x5603b,_0x378483);}catch(_0x38e589){return _0x4160d4={'name':_0x40331c,'type':'unknown','error':_0x38e589[_0x578825(0x20c)]},this[_0x578825(0x1cf)](_0x4160d4,_0x35701e),_0x4160d4;}var _0x6cb4a2=this['_type'](_0x421568),_0x5eb72a=this[_0x578825(0x1bd)](_0x6cb4a2);if(_0x4160d4['type']=_0x6cb4a2,_0x5eb72a)this[_0x578825(0x1cf)](_0x4160d4,_0x35701e,_0x421568,function(){var _0xbb1a1c=_0x578825;_0x4160d4['value']=_0x421568['valueOf'](),!_0x56669b&&_0x5703a5[_0xbb1a1c(0x1f1)](_0x6cb4a2,_0x4160d4,_0x35701e,{});});else{var _0x207753=_0x35701e[_0x578825(0x27f)]&&_0x35701e[_0x578825(0x1d1)]<_0x35701e['autoExpandMaxDepth']&&_0x35701e[_0x578825(0x225)][_0x578825(0x28a)](_0x421568)<0x0&&_0x6cb4a2!=='function'&&_0x35701e[_0x578825(0x285)]<_0x35701e[_0x578825(0x265)];_0x207753||_0x35701e['level']<_0x20f313||_0x56669b?(this[_0x578825(0x25a)](_0x4160d4,_0x421568,_0x35701e,_0x56669b||{}),this[_0x578825(0x1d0)](_0x421568,_0x4160d4)):this[_0x578825(0x1cf)](_0x4160d4,_0x35701e,_0x421568,function(){var _0x25a69f=_0x578825;_0x6cb4a2===_0x25a69f(0x294)||_0x6cb4a2==='undefined'||(delete _0x4160d4[_0x25a69f(0x1c7)],_0x4160d4[_0x25a69f(0x25c)]=!0x0);});}return _0x4160d4;}finally{_0x35701e[_0x578825(0x1e2)]=_0x3f0099,_0x35701e[_0x578825(0x1b9)]=_0x20f313,_0x35701e['isExpressionToEvaluate']=_0x8a4894;}}[_0x497190(0x1f1)](_0x383034,_0x2bac95,_0x3c4b47,_0x391693){var _0x3d9c81=_0x497190,_0xf6a594=_0x391693[_0x3d9c81(0x1e8)]||_0x3c4b47['strLength'];if((_0x383034===_0x3d9c81(0x22a)||_0x383034===_0x3d9c81(0x26c))&&_0x2bac95[_0x3d9c81(0x1c7)]){let _0x3f4c2c=_0x2bac95[_0x3d9c81(0x1c7)][_0x3d9c81(0x273)];_0x3c4b47[_0x3d9c81(0x206)]+=_0x3f4c2c,_0x3c4b47[_0x3d9c81(0x206)]>_0x3c4b47['totalStrLength']?(_0x2bac95['capped']='',delete _0x2bac95['value']):_0x3f4c2c>_0xf6a594&&(_0x2bac95['capped']=_0x2bac95[_0x3d9c81(0x1c7)]['substr'](0x0,_0xf6a594),delete _0x2bac95['value']);}}[_0x497190(0x256)](_0x4ed1a1){var _0x20f122=_0x497190;return!!(_0x4ed1a1&&_0x520827['Map']&&this[_0x20f122(0x278)](_0x4ed1a1)===_0x20f122(0x20e)&&_0x4ed1a1[_0x20f122(0x1de)]);}[_0x497190(0x21b)](_0x2e3654){var _0x5d16f2=_0x497190;if(_0x2e3654[_0x5d16f2(0x263)](/^\\\\d+$/))return _0x2e3654;var _0x2332bb;try{_0x2332bb=JSON[_0x5d16f2(0x247)](''+_0x2e3654);}catch{_0x2332bb='\\\\x22'+this[_0x5d16f2(0x278)](_0x2e3654)+'\\\\x22';}return _0x2332bb[_0x5d16f2(0x263)](/^\\\"([a-zA-Z_][a-zA-Z_0-9]*)\\\"$/)?_0x2332bb=_0x2332bb[_0x5d16f2(0x298)](0x1,_0x2332bb[_0x5d16f2(0x273)]-0x2):_0x2332bb=_0x2332bb[_0x5d16f2(0x1fb)](/'/g,'\\\\x5c\\\\x27')[_0x5d16f2(0x1fb)](/\\\\\\\\\\\"/g,'\\\\x22')[_0x5d16f2(0x1fb)](/(^\\\"|\\\"$)/g,'\\\\x27'),_0x2332bb;}[_0x497190(0x1cf)](_0x4f849b,_0x18ff33,_0x5c9f5d,_0x3570e5){var _0x345494=_0x497190;this['_treeNodePropertiesBeforeFullValue'](_0x4f849b,_0x18ff33),_0x3570e5&&_0x3570e5(),this[_0x345494(0x1d0)](_0x5c9f5d,_0x4f849b),this[_0x345494(0x242)](_0x4f849b,_0x18ff33);}[_0x497190(0x1c1)](_0xe00747,_0x4a4d16){var _0x1b870a=_0x497190;this[_0x1b870a(0x29f)](_0xe00747,_0x4a4d16),this[_0x1b870a(0x289)](_0xe00747,_0x4a4d16),this[_0x1b870a(0x1cb)](_0xe00747,_0x4a4d16),this[_0x1b870a(0x1fe)](_0xe00747,_0x4a4d16);}['_setNodeId'](_0x50e02d,_0x568fd4){}[_0x497190(0x289)](_0x11a0bd,_0x222723){}[_0x497190(0x213)](_0x25fe69,_0x2373fa){}[_0x497190(0x244)](_0x282753){var _0x29cd20=_0x497190;return _0x282753===this[_0x29cd20(0x262)];}[_0x497190(0x242)](_0xa8bfff,_0x32f524){var _0x2b738f=_0x497190;this[_0x2b738f(0x213)](_0xa8bfff,_0x32f524),this[_0x2b738f(0x26d)](_0xa8bfff),_0x32f524['sortProps']&&this[_0x2b738f(0x250)](_0xa8bfff),this['_addFunctionsNode'](_0xa8bfff,_0x32f524),this[_0x2b738f(0x20a)](_0xa8bfff,_0x32f524),this[_0x2b738f(0x1ff)](_0xa8bfff);}['_additionalMetadata'](_0x1658cc,_0x33137b){var _0xa34bad=_0x497190;try{_0x1658cc&&typeof _0x1658cc[_0xa34bad(0x273)]==_0xa34bad(0x254)&&(_0x33137b['length']=_0x1658cc[_0xa34bad(0x273)]);}catch{}if(_0x33137b[_0xa34bad(0x1c0)]===_0xa34bad(0x254)||_0x33137b[_0xa34bad(0x1c0)]===_0xa34bad(0x236)){if(isNaN(_0x33137b[_0xa34bad(0x1c7)]))_0x33137b[_0xa34bad(0x245)]=!0x0,delete _0x33137b['value'];else switch(_0x33137b[_0xa34bad(0x1c7)]){case Number[_0xa34bad(0x234)]:_0x33137b[_0xa34bad(0x24e)]=!0x0,delete _0x33137b['value'];break;case Number[_0xa34bad(0x1db)]:_0x33137b[_0xa34bad(0x224)]=!0x0,delete _0x33137b[_0xa34bad(0x1c7)];break;case 0x0:this['_isNegativeZero'](_0x33137b['value'])&&(_0x33137b[_0xa34bad(0x282)]=!0x0);break;}}else _0x33137b['type']===_0xa34bad(0x27b)&&typeof _0x1658cc[_0xa34bad(0x216)]==_0xa34bad(0x22a)&&_0x1658cc[_0xa34bad(0x216)]&&_0x33137b['name']&&_0x1658cc[_0xa34bad(0x216)]!==_0x33137b[_0xa34bad(0x216)]&&(_0x33137b[_0xa34bad(0x288)]=_0x1658cc[_0xa34bad(0x216)]);}[_0x497190(0x1ca)](_0x5b8c1d){var _0x1440ea=_0x497190;return 0x1/_0x5b8c1d===Number[_0x1440ea(0x1db)];}['_sortProps'](_0x42f6a2){var _0x5a9795=_0x497190;!_0x42f6a2[_0x5a9795(0x220)]||!_0x42f6a2[_0x5a9795(0x220)][_0x5a9795(0x273)]||_0x42f6a2[_0x5a9795(0x1c0)]==='array'||_0x42f6a2[_0x5a9795(0x1c0)]==='Map'||_0x42f6a2[_0x5a9795(0x1c0)]==='Set'||_0x42f6a2[_0x5a9795(0x220)][_0x5a9795(0x21d)](function(_0x1dfdb6,_0x5539f8){var _0x58c729=_0x5a9795,_0x162fca=_0x1dfdb6[_0x58c729(0x216)]['toLowerCase'](),_0x284cb5=_0x5539f8[_0x58c729(0x216)][_0x58c729(0x22b)]();return _0x162fca<_0x284cb5?-0x1:_0x162fca>_0x284cb5?0x1:0x0;});}[_0x497190(0x1d3)](_0x247f12,_0x161ecd){var _0x20b6e3=_0x497190;if(!(_0x161ecd[_0x20b6e3(0x284)]||!_0x247f12['props']||!_0x247f12[_0x20b6e3(0x220)][_0x20b6e3(0x273)])){for(var _0x19142c=[],_0x5ae314=[],_0x35a97b=0x0,_0x34cb3b=_0x247f12[_0x20b6e3(0x220)][_0x20b6e3(0x273)];_0x35a97b<_0x34cb3b;_0x35a97b++){var _0x407a29=_0x247f12[_0x20b6e3(0x220)][_0x35a97b];_0x407a29[_0x20b6e3(0x1c0)]===_0x20b6e3(0x27b)?_0x19142c[_0x20b6e3(0x23e)](_0x407a29):_0x5ae314[_0x20b6e3(0x23e)](_0x407a29);}if(!(!_0x5ae314[_0x20b6e3(0x273)]||_0x19142c[_0x20b6e3(0x273)]<=0x1)){_0x247f12[_0x20b6e3(0x220)]=_0x5ae314;var _0x5db8da={'functionsNode':!0x0,'props':_0x19142c};this['_setNodeId'](_0x5db8da,_0x161ecd),this[_0x20b6e3(0x213)](_0x5db8da,_0x161ecd),this['_setNodeExpandableState'](_0x5db8da),this[_0x20b6e3(0x1fe)](_0x5db8da,_0x161ecd),_0x5db8da['id']+='\\\\x20f',_0x247f12['props'][_0x20b6e3(0x1f0)](_0x5db8da);}}}[_0x497190(0x20a)](_0x382ef0,_0x1d8840){}[_0x497190(0x26d)](_0x54b14a){}[_0x497190(0x29c)](_0x47bc00){var _0x40ebc0=_0x497190;return Array[_0x40ebc0(0x287)](_0x47bc00)||typeof _0x47bc00=='object'&&this[_0x40ebc0(0x278)](_0x47bc00)==='[object\\\\x20Array]';}['_setNodePermissions'](_0x564807,_0x5c6386){}[_0x497190(0x1ff)](_0x83f79d){var _0x128e4d=_0x497190;delete _0x83f79d[_0x128e4d(0x257)],delete _0x83f79d[_0x128e4d(0x269)],delete _0x83f79d['_hasMapOnItsPath'];}[_0x497190(0x1cb)](_0x3b73cf,_0x441d89){}[_0x497190(0x258)](_0x2ec3c5){var _0x3981ea=_0x497190;return _0x2ec3c5?_0x2ec3c5['match'](this[_0x3981ea(0x204)])?'['+_0x2ec3c5+']':_0x2ec3c5[_0x3981ea(0x263)](this[_0x3981ea(0x1ef)])?'.'+_0x2ec3c5:_0x2ec3c5[_0x3981ea(0x263)](this[_0x3981ea(0x27e)])?'['+_0x2ec3c5+']':'[\\\\x27'+_0x2ec3c5+'\\\\x27]':'';}}let _0x7e30a3=new _0x585b1f();function _0x5888ef(_0x3c2c8a,_0x164f59,_0x2da2cb,_0x4bb1dd,_0x965ae1,_0x303ae2){var _0x198a80=_0x497190;let _0x5a1db8,_0x49227f;try{_0x49227f=_0x2bcb99(),_0x5a1db8=_0x3b6e55[_0x164f59],!_0x5a1db8||_0x49227f-_0x5a1db8['ts']>0x1f4&&_0x5a1db8[_0x198a80(0x1e6)]&&_0x5a1db8['time']/_0x5a1db8['count']<0x64?(_0x3b6e55[_0x164f59]=_0x5a1db8={'count':0x0,'time':0x0,'ts':_0x49227f},_0x3b6e55['hits']={}):_0x49227f-_0x3b6e55[_0x198a80(0x201)]['ts']>0x32&&_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1e6)]&&_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1d6)]/_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1e6)]<0x64&&(_0x3b6e55[_0x198a80(0x201)]={});let _0x1003e9=[],_0x2ddcfc=_0x5a1db8[_0x198a80(0x28c)]||_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x28c)]?_0x1d4687:_0x173575,_0x3bd483=_0x192caf=>{var _0x55f45b=_0x198a80;let _0x43b0a0={};return _0x43b0a0[_0x55f45b(0x220)]=_0x192caf[_0x55f45b(0x220)],_0x43b0a0['elements']=_0x192caf[_0x55f45b(0x21c)],_0x43b0a0[_0x55f45b(0x1e8)]=_0x192caf[_0x55f45b(0x1e8)],_0x43b0a0[_0x55f45b(0x229)]=_0x192caf[_0x55f45b(0x229)],_0x43b0a0['autoExpandLimit']=_0x192caf[_0x55f45b(0x265)],_0x43b0a0[_0x55f45b(0x27a)]=_0x192caf[_0x55f45b(0x27a)],_0x43b0a0[_0x55f45b(0x1fd)]=!0x1,_0x43b0a0[_0x55f45b(0x284)]=!_0x31d7c7,_0x43b0a0[_0x55f45b(0x1b9)]=0x1,_0x43b0a0['level']=0x0,_0x43b0a0[_0x55f45b(0x268)]=_0x55f45b(0x221),_0x43b0a0['rootExpression']=_0x55f45b(0x207),_0x43b0a0[_0x55f45b(0x27f)]=!0x0,_0x43b0a0[_0x55f45b(0x225)]=[],_0x43b0a0[_0x55f45b(0x285)]=0x0,_0x43b0a0[_0x55f45b(0x239)]=!0x0,_0x43b0a0[_0x55f45b(0x206)]=0x0,_0x43b0a0[_0x55f45b(0x292)]={'current':void 0x0,'parent':void 0x0,'index':0x0},_0x43b0a0;};for(var _0x579544=0x0;_0x579544<_0x965ae1[_0x198a80(0x273)];_0x579544++)_0x1003e9[_0x198a80(0x23e)](_0x7e30a3[_0x198a80(0x25a)]({'timeNode':_0x3c2c8a==='time'||void 0x0},_0x965ae1[_0x579544],_0x3bd483(_0x2ddcfc),{}));if(_0x3c2c8a===_0x198a80(0x260)){let _0x2f2551=Error[_0x198a80(0x1f4)];try{Error[_0x198a80(0x1f4)]=0x1/0x0,_0x1003e9[_0x198a80(0x23e)](_0x7e30a3[_0x198a80(0x25a)]({'stackNode':!0x0},new Error()[_0x198a80(0x1ce)],_0x3bd483(_0x2ddcfc),{'strLength':0x1/0x0}));}finally{Error[_0x198a80(0x1f4)]=_0x2f2551;}}return{'method':_0x198a80(0x20b),'version':_0x1dd21f,'args':[{'ts':_0x2da2cb,'session':_0x4bb1dd,'args':_0x1003e9,'id':_0x164f59,'context':_0x303ae2}]};}catch(_0x245a88){return{'method':_0x198a80(0x20b),'version':_0x1dd21f,'args':[{'ts':_0x2da2cb,'session':_0x4bb1dd,'args':[{'type':_0x198a80(0x226),'error':_0x245a88&&_0x245a88[_0x198a80(0x20c)]}],'id':_0x164f59,'context':_0x303ae2}]};}finally{try{if(_0x5a1db8&&_0x49227f){let _0x690d71=_0x2bcb99();_0x5a1db8[_0x198a80(0x1e6)]++,_0x5a1db8['time']+=_0x5345db(_0x49227f,_0x690d71),_0x5a1db8['ts']=_0x690d71,_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1e6)]++,_0x3b6e55['hits'][_0x198a80(0x1d6)]+=_0x5345db(_0x49227f,_0x690d71),_0x3b6e55[_0x198a80(0x201)]['ts']=_0x690d71,(_0x5a1db8[_0x198a80(0x1e6)]>0x32||_0x5a1db8[_0x198a80(0x1d6)]>0x64)&&(_0x5a1db8[_0x198a80(0x28c)]=!0x0),(_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1e6)]>0x3e8||_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1d6)]>0x12c)&&(_0x3b6e55[_0x198a80(0x201)]['reduceLimits']=!0x0);}}catch{}}}return _0x520827[_0x497190(0x1da)];})(globalThis,'127.0.0.1',_0x39dd8e(0x1ec),\\\"/Users/buigiang/.vscode/extensions/wallabyjs.console-ninja-0.0.156/node_modules\\\",_0x39dd8e(0x1ba),_0x39dd8e(0x217),_0x39dd8e(0x28d),_0x39dd8e(0x248),_0x39dd8e(0x1cc));\");}catch(e){}};function oo_oo(i:string,...v:any[]){try{oo_cm().consoleLog(i, v);}catch(e){} return v};oo_oo;function oo_tr(i:string,...v:any[]){try{oo_cm().consoleTrace(i, v);}catch(e){} return v};oo_tr;function oo_ts(){try{oo_cm().consoleTime();}catch(e){}};oo_ts;function oo_te(){try{oo_cm().consoleTimeEnd();}catch(e){}};oo_te;/*eslint eslint-comments/disable-enable-pair:,eslint-comments/no-unlimited-disable:,eslint-comments/no-aggregating-enable:,eslint-comments/no-duplicate-disable:,eslint-comments/no-unused-disable:,eslint-comments/no-unused-enable:,*/","import type {\n  Candidate, GroupCallTransport, PayloadType, RTPExtension, SsrcGroup,\n} from './types';\nimport { fromTelegramSource } from './utils';\n\nexport type Conference = {\n  sessionId: number;\n  audioExtensions: RTPExtension[];\n  videoExtensions: RTPExtension[];\n  audioPayloadTypes: PayloadType[];\n  videoPayloadTypes: PayloadType[];\n  ssrcs: Ssrc[];\n  transport: GroupCallTransport;\n};\n\nexport type Ssrc = {\n  userId: string;\n  endpoint: string;\n  mid: string;\n  isMain: boolean;\n  isRemoved?: boolean;\n  isVideo: boolean;\n  isPresentation?: boolean;\n  sourceGroups: SsrcGroup[];\n};\n\nexport default (conference: Conference, isAnswer = false, isPresentation = false, isP2p = false) => {\n  const lines: string[] = [];\n\n  const add = (value: string) => {\n    lines.push(value);\n  };\n\n  const {\n    sessionId,\n    ssrcs,\n    audioExtensions,\n    videoExtensions,\n    audioPayloadTypes,\n    videoPayloadTypes,\n    transport: {\n      ufrag,\n      pwd,\n      fingerprints,\n      candidates,\n    },\n  } = conference;\n\n  // Header\n  add('v=0'); // version\n  add(`o=- ${sessionId} 2 IN IP4 0.0.0.0`); // sessionId, 2=sessionVersion\n  add('s=-'); // name of the session\n  add('t=0 0'); // time when session is valid\n  add('a=ice-options:trickle');\n  add('a=msid-semantic:WMS *');\n  add(`a=group:BUNDLE ${ssrcs.map((ssrc) => ssrc.mid).join(' ')}${isPresentation ? '' : ` ${isP2p ? '3' : '2'}`}`);\n  // ice-lite: is a minimal version of the ICE specification, intended only for servers running on a public IP address\n  if (!isP2p) add('a=ice-lite');\n\n  const addCandidate = (c: Candidate) => {\n    if (c.sdpString) {\n      add(`a=${c.sdpString}`);\n    } else {\n      let str = '';\n      str += 'a=candidate:';\n      str += `${c.foundation} ${c.component} ${c.protocol} ${c.priority} ${c.ip} ${c.port} typ ${c.type}`;\n      if ('rel-addr' in c) {\n        str += ` raddr ${c['rel-addr']} rport ${c['rel-port']}`;\n      }\n      str += ` generation ${c.generation}`;\n      add(str);\n    }\n  };\n\n  const addTransport = () => {\n    add(`a=ice-ufrag:${ufrag}`);\n    add(`a=ice-pwd:${pwd}`);\n    fingerprints.forEach((fingerprint) => {\n      add(`a=fingerprint:${fingerprint.hash} ${fingerprint.fingerprint}`);\n      add(`a=setup:${isP2p ? (fingerprint.setup) : 'passive'}`);\n    });\n\n    candidates.forEach(addCandidate);\n  };\n\n  const addPayloadType = (payloadType: PayloadType) => {\n    const {\n      channels, id, name, clockrate, parameters,\n    } = payloadType;\n\n    const channelsString = channels ? `/${channels}` : '';\n    add(`a=rtpmap:${id} ${name}/${clockrate}${channelsString}`);\n\n    if (parameters) {\n      const parametersString = Object.keys(parameters).map((key) => {\n        return `${key}=${parameters![key]};`;\n      }).join(' ');\n\n      add(`a=fmtp:${id} ${parametersString}`);\n    }\n\n    payloadType['rtcp-fbs']?.forEach((fbParam) => {\n      add(`a=rtcp-fb:${id} ${fbParam.type}${fbParam.subtype ? ` ${fbParam.subtype}` : ''}`);\n    });\n  };\n\n  const addSsrcEntry = (entry: Ssrc) => {\n    const payloadTypes = entry.isVideo ? videoPayloadTypes : audioPayloadTypes;\n\n    const type = entry.isVideo ? 'video' : 'audio';\n    add(`m=${type} ${entry.isMain ? 1 : 0} RTP/SAVPF ${payloadTypes.map((l) => l.id).join(' ')}`);\n    add('c=IN IP4 0.0.0.0');\n    add('b=AS:1300'); // 1300000 / 1000\n    add(`a=mid:${entry.mid}`);\n    add('a=rtcp-mux');\n    payloadTypes.forEach(addPayloadType);\n\n    add('a=rtcp:1 IN IP4 0.0.0.0');\n    if (entry.isVideo) {\n      add('a=rtcp-rsize');\n    }\n\n    (entry.isVideo ? videoExtensions : audioExtensions).forEach(({ id, uri }) => {\n      add(`a=extmap:${id} ${uri}`);\n    });\n\n    if (entry.isRemoved) {\n      add('a=inactive');\n      return;\n    }\n\n    addTransport();\n\n    if (isP2p) {\n      add('a=sendrecv');\n      add('a=bundle-only');\n    } else {\n      if (isAnswer) {\n        add('a=recvonly');\n        return;\n      }\n      if (entry.isMain) {\n        add('a=sendrecv');\n      } else {\n        add('a=sendonly');\n        add('a=bundle-only');\n      }\n    }\n\n    entry.sourceGroups.forEach((sourceGroup) => {\n      add(`a=ssrc-group:${sourceGroup.semantics} ${sourceGroup.sources.map(fromTelegramSource).join(' ')}`);\n      sourceGroup.sources.forEach((ssrcTelegram) => {\n        const ssrc = fromTelegramSource(ssrcTelegram);\n        add(`a=ssrc:${ssrc} cname:${entry.endpoint}`);\n        add(`a=ssrc:${ssrc} msid:${entry.endpoint} ${entry.endpoint}`);\n        add(`a=ssrc:${ssrc} mslabel:${entry.endpoint}`);\n        add(`a=ssrc:${ssrc} label:${entry.endpoint}`);\n      });\n    });\n  };\n\n  if (!isP2p) {\n    ssrcs.filter((ssrc) => ssrc.mid === '0' || ssrc.mid === '1').map(addSsrcEntry);\n  } else {\n    ssrcs.filter(addSsrcEntry);\n  }\n\n  if (!isPresentation) {\n    add('m=application 1 UDP/DTLS/SCTP webrtc-datachannel');\n    add('c=IN IP4 0.0.0.0');\n    addTransport();\n    add('a=ice-options:trickle');\n    add(`a=mid:${isP2p ? '3' : (isPresentation ? '1' : '2')}`);\n    add('a=sctp-port:5000');\n    add('a=max-message-size:262144');\n  }\n\n  if (!isP2p) {\n    ssrcs.filter((ssrc) => ssrc.mid !== '0' && ssrc.mid !== '1').map(addSsrcEntry);\n  }\n\n  return `${lines.join('\\n')}\\n`;\n};\n","// https://blog.mozilla.org/webrtc/warm-up-with-replacetrack/\n\nexport const silence = (ctx: AudioContext) => {\n  const oscillator = ctx.createOscillator();\n  const dst = oscillator.connect(ctx.createMediaStreamDestination());\n  oscillator.start();\n  return new MediaStream([Object.assign((dst as any).stream.getAudioTracks()[0], { enabled: false })]);\n};\n\nexport const black = ({ width = 640, height = 480 } = {}) => {\n  const canvas = Object.assign(document.createElement('canvas'), { width, height });\n  const ctx = canvas.getContext('2d');\n  if (!ctx) throw Error('Cannot create canvas ctx');\n\n  ctx.fillRect(0, 0, width, height);\n  const stream = canvas.captureStream();\n  return new MediaStream([Object.assign(stream.getVideoTracks()[0], { enabled: false })]);\n};\n","import parseSdp from './parseSdp';\nimport { ColibriClass } from './colibriClass';\nimport type {\n  GroupCallConnectionData, GroupCallConnectionState, GroupCallParticipant, JoinGroupCallPayload,\n} from './types';\nimport buildSdp, { Conference, Ssrc } from './buildSdp';\nimport { black, silence } from './blacksilence';\nimport {\n  getAmplitude,\n  IS_ECHO_CANCELLATION_SUPPORTED,\n  IS_NOISE_SUPPRESSION_SUPPORTED,\n  THRESHOLD,\n} from './utils';\n\nexport type StreamType = 'audio' | 'video' | 'presentation';\nconst DEFAULT_MID = 3;\ntype GroupCallState = {\n  connection?: RTCPeerConnection;\n  screenshareConnection?: RTCPeerConnection;\n  dataChannel?: RTCDataChannel;\n  screenshareDataChannel?: RTCDataChannel;\n  participants?: GroupCallParticipant[];\n  conference?: Partial<Conference>;\n  screenshareConference?: Partial<Conference>;\n  streams?: Record<string, {\n    audio?: MediaStream;\n    video?: MediaStream;\n    presentation?: MediaStream;\n  }>;\n  participantFunctions?: Record<string, {\n    setVolume?: (volume: number) => void;\n    toggleMute?: (muted: boolean) => void;\n    getCurrentAmplitude?: () => number;\n  }>;\n  onUpdate?: (...args: any[]) => void;\n  myId?: string;\n  black?: MediaStream;\n  silence?: MediaStream;\n  updatingParticipantsQueue?: any[];\n  facingMode?: VideoFacingModeEnum;\n  isSpeakerDisabled?: boolean;\n  analyserInterval?: number;\n  speaking?: Record<string, number>;\n  audioElement?: HTMLAudioElement;\n  destination?: MediaStreamAudioDestinationNode;\n  audioContext?: AudioContext;\n  mediaStream?: MediaStream;\n  lastMid: number;\n};\n\nlet state: GroupCallState | undefined;\n\nexport async function getDevices(streamType: StreamType, isInput = true) {\n  return (await navigator.mediaDevices.enumerateDevices())\n    .filter((l) => l.kind === `${streamType}${isInput ? 'input' : 'output'}`);\n}\n\nexport function toggleSpeaker() {\n  if (!state) {\n    return;\n  }\n\n  state.isSpeakerDisabled = !state.isSpeakerDisabled;\n  state?.onUpdate?.({\n    '@type': 'updateGroupCallConnectionState',\n    connectionState: 'connected',\n    isSpeakerDisabled: state.isSpeakerDisabled,\n  });\n  if (state.participantFunctions) {\n    Object.values(state.participantFunctions).forEach((l) => {\n      l.toggleMute?.(!!state?.isSpeakerDisabled);\n    });\n  }\n}\n\nfunction leavePresentation(isFromToggle?: boolean) {\n  if (!state) {\n    return;\n  }\n  state.screenshareDataChannel?.close();\n  state.screenshareConnection?.close();\n\n  if (!isFromToggle) {\n    state.onUpdate?.({\n      '@type': 'updateGroupCallLeavePresentation',\n    });\n  }\n}\n\nexport function toggleNoiseSuppression() {\n  if (!state || !state.myId || !state.streams) {\n    return;\n  }\n\n  const audioStream = state.streams[state.myId].audio;\n  if (!audioStream) {\n    return;\n  }\n\n  const track = audioStream.getTracks()[0];\n\n  if (!track) {\n    return;\n  }\n\n  // @ts-ignore\n  const { echoCancellation, noiseSuppression } = track.getConstraints();\n\n  track.applyConstraints({\n    echoCancellation: !echoCancellation,\n    // @ts-ignore\n    noiseSuppression: !noiseSuppression,\n  });\n}\n\nexport function getUserStreams(userId: string) {\n  return state?.streams?.[userId];\n}\n\nexport function setVolume(userId: string, volume: number) {\n  const participantFunctions = state?.participantFunctions?.[userId];\n  if (!participantFunctions) return;\n  participantFunctions.setVolume?.(volume);\n}\n\nexport function isStreamEnabled(streamType: StreamType, userId?: string) {\n  const id = userId || state?.myId;\n  const stream = id && getUserStreams(id)?.[streamType];\n  if (!stream) return false;\n\n  return stream.getTracks()[0]?.enabled;\n}\n\nfunction updateGroupCallStreams(userId: string) {\n  state?.onUpdate?.({\n    '@type': 'updateGroupCallStreams',\n    userId,\n    hasAudioStream: isStreamEnabled('audio', userId),\n    hasVideoStream: isStreamEnabled('video', userId),\n    hasPresentationStream: isStreamEnabled('presentation', userId),\n    amplitude: state.speaking?.[userId],\n  });\n}\n\nfunction getUserStream(streamType: StreamType, facing: VideoFacingModeEnum = 'user') {\n  if (streamType === 'presentation') {\n    return (navigator.mediaDevices as any).getDisplayMedia({\n      audio: false,\n      video: true,\n    });\n  }\n\n  return navigator.mediaDevices.getUserMedia({\n    audio: streamType === 'audio' ? {\n      // @ts-ignore\n      ...(IS_ECHO_CANCELLATION_SUPPORTED && { echoCancellation: true }),\n      ...(IS_NOISE_SUPPRESSION_SUPPORTED && { noiseSuppression: true }),\n    } : false,\n    video: streamType === 'video' ? {\n      facingMode: facing,\n    } : false,\n\n  });\n}\n\nexport async function switchCameraInput() {\n  if (!state?.myId || !state.connection || !state.streams || !state.facingMode) {\n    return;\n  }\n\n  const stream = getUserStreams(state.myId)?.video;\n\n  if (!stream) return;\n\n  const track = stream.getTracks()[0];\n\n  if (!track) {\n    return;\n  }\n\n  const sender = state.connection.getSenders().find((l) => track.id === l.track?.id);\n\n  if (!sender) {\n    return;\n  }\n\n  state.facingMode = state.facingMode === 'environment' ? 'user' : 'environment';\n  try {\n    const newStream = await getUserStream('video', state.facingMode);\n\n    await sender.replaceTrack(newStream.getTracks()[0]);\n    state.streams[state.myId].video = newStream;\n  } catch (e) {\n\n  }\n}\n\nexport async function toggleStream(streamType: StreamType, value: boolean | undefined = undefined) {\n  if (!state || !state.myId || !state.connection || !state.streams) {\n    return;\n  }\n\n  const stream = getUserStreams(state.myId)?.[streamType];\n  if (!stream) return;\n\n  const track = stream.getTracks()[0];\n\n  if (!track) {\n    return;\n  }\n\n  const sender = [\n    ...state.connection.getSenders(),\n    ...(state.screenshareConnection?.getSenders() || []),\n  ].find((l) => track.id === l.track?.id);\n\n  if (!sender) {\n    return;\n  }\n\n  value = value === undefined ? !track.enabled : value;\n\n  try {\n    if (value && !track.enabled) {\n      const newStream = await getUserStream(streamType);\n      await sender.replaceTrack(newStream.getTracks()[0]);\n      state.streams[state.myId][streamType] = newStream;\n      if (streamType === 'video') {\n        state.facingMode = 'user';\n      } else if (streamType === 'audio') {\n        const { audioContext } = state;\n        if (!audioContext) return;\n        const source = audioContext.createMediaStreamSource(newStream);\n\n        const analyser = audioContext.createAnalyser();\n        analyser.minDecibels = -100;\n        analyser.maxDecibels = -30;\n        analyser.smoothingTimeConstant = 0.05;\n        analyser.fftSize = 1024;\n\n        source.connect(analyser);\n\n        state = {\n          ...state,\n          participantFunctions: {\n            ...state.participantFunctions,\n            [state.myId]: {\n              ...state.participantFunctions?.[state.myId],\n              getCurrentAmplitude: () => {\n                const array = new Uint8Array(analyser.frequencyBinCount);\n                analyser.getByteFrequencyData(array);\n                return getAmplitude(array, 1.5);\n              },\n            },\n          },\n        };\n      }\n    } else if (!value && track.enabled) {\n      track.stop();\n      const newStream = streamType === 'audio' ? state.silence : state.black;\n      if (!newStream) return;\n\n      await sender.replaceTrack(newStream.getTracks()[0]);\n      state.streams[state.myId][streamType] = newStream;\n      if (streamType === 'video') {\n        state.facingMode = undefined;\n      }\n    }\n    updateGroupCallStreams(state.myId!);\n    if (streamType === 'presentation' && !value) leavePresentation(true);\n  } catch (e) {\n\n  }\n}\n\nfunction updateConnectionState(connectionState: GroupCallConnectionState) {\n  state?.onUpdate?.({\n    '@type': 'updateGroupCallConnectionState',\n    connectionState,\n  });\n}\n\nexport function leaveGroupCall() {\n  if (!state) {\n    return;\n  }\n\n  if (state.myId && state.streams?.[state.myId]) {\n    Object.values(state.streams[state.myId] || {}).forEach((stream) => {\n      stream?.getTracks().forEach((track) => {\n        track.stop();\n      });\n    });\n  }\n  leavePresentation(true);\n  state.dataChannel?.close();\n  state.connection?.close();\n  updateConnectionState('disconnected');\n\n  if (state.analyserInterval) {\n    clearInterval(state.analyserInterval);\n  }\n\n  state = undefined;\n}\n\nfunction analyzeAmplitudes() {\n  if (!state || !state.participantFunctions) return;\n\n  Object.keys(state.participantFunctions).forEach((id) => {\n    const { getCurrentAmplitude } = state!.participantFunctions![Number(id)];\n\n    if (getCurrentAmplitude) {\n      const amplitude = getCurrentAmplitude();\n      const prevAmplitude = state!.speaking![id] || 0;\n      state!.speaking![id] = amplitude;\n      if ((amplitude > THRESHOLD && prevAmplitude <= THRESHOLD)\n        || (amplitude <= THRESHOLD && prevAmplitude > THRESHOLD)) {\n        updateGroupCallStreams(id);\n      }\n    }\n  });\n}\n\nfunction createDataChannel(connection: RTCPeerConnection) {\n  const dataChannel = connection.createDataChannel('data', {\n    id: 0,\n  });\n\n  dataChannel.onopen = () => {\n    // console.log('Data channel open!');\n  };\n\n  dataChannel.onmessage = (e) => {\n    // console.log('onmessage');\n    const data = JSON.parse(e.data) as ColibriClass;\n    // console.log(data);\n    switch (data.colibriClass) {\n      case 'DominantSpeakerEndpointChangeEvent':\n        break;\n      case 'SenderVideoConstraints':\n\n        break;\n      case 'EndpointConnectivityStatusChangeEvent':\n\n        break;\n    }\n  };\n\n  dataChannel.onerror = (e) => {\n    /* eslint-disable */console.log(...oo_oo(`e8ea2e3d_0`,'%conerror', 'background: green; font-size: 5em'));\n    console.error(e);\n  };\n\n  return dataChannel;\n}\n\nexport async function handleUpdateGroupCallParticipants(updatedParticipants: GroupCallParticipant[]) {\n  if (!state) {\n    return;\n  }\n\n  const {\n    participants, conference, connection, myId,\n  } = state;\n\n  if (!participants || !conference || !connection || !conference.ssrcs || !conference.transport || !myId) {\n    return;\n  }\n\n  // Joined from another client\n  if (updatedParticipants.find((participant) => {\n    return participant.isSelf\n      && participant.source\n      !== state?.conference?.ssrcs?.find((l) => l.isMain && !l.isVideo)?.sourceGroups[0].sources[0];\n  })) {\n    leaveGroupCall();\n    return;\n  }\n\n  const newEndpoints: string[] = [];\n  updatedParticipants.forEach((participant) => {\n    /* eslint-disable */console.log(...oo_oo(`e8ea2e3d_1`,'handleUpdateGroupCallParticipants', participant));\n    if (participant.isSelf) {\n      if (participant.isMuted && !participant.canSelfUnmute) {\n        // Muted by admin\n        toggleStream('audio', false);\n        toggleStream('video', false);\n        toggleStream('presentation', false);\n      }\n      return;\n    }\n\n    const { isLeft } = participant;\n    const isAudioLeft = participant.isMuted || participant.isMutedByMe;\n    const isVideoLeft = !participant.isVideoJoined || !participant.video || isLeft;\n    const isPresentationLeft = !participant.presentation || isLeft;\n\n    let hasVideo = false;\n    let hasAudio = false;\n    let hasPresentation = false;\n\n    conference.ssrcs!.filter((l) => l.userId === participant.id).forEach((ssrc) => {\n      if (!ssrc.isVideo) {\n        if (ssrc.sourceGroups[0].sources[0] === participant.source) {\n          hasAudio = true;\n        }\n        // console.log('has audio, removed=', isAudioLeft);\n        ssrc.isRemoved = isAudioLeft;\n      }\n\n      if (ssrc.isVideo) {\n        if (!ssrc.isPresentation) {\n          if (!!participant.video && ssrc.endpoint === participant.video.endpoint) {\n            hasVideo = true;\n          }\n          // console.log('has video = ', hasVideo, ' removed=', isVideoLeft);\n          ssrc.isRemoved = isVideoLeft;\n        }\n\n        if (ssrc.isPresentation) {\n          if (!!participant.presentation && ssrc.endpoint === participant.presentation.endpoint) {\n            hasPresentation = true;\n          }\n          // console.log('has presentation, removed=', isPresentationLeft);\n          ssrc.isRemoved = isPresentationLeft;\n        }\n      }\n    });\n\n    if (!isAudioLeft && !hasAudio) {\n      // console.log('add audio');\n      state!.lastMid = state!.lastMid + 1;\n      conference.ssrcs!.push({\n        userId: participant.id,\n        isMain: false,\n        endpoint: `audio${participant.source}`,\n        isVideo: false,\n        sourceGroups: [{\n          semantics: 'FID',\n          sources: [participant.source],\n        }],\n        mid: state!.lastMid.toString()\n      });\n    }\n\n    if (!isVideoLeft && !hasVideo && participant.video) {\n      // console.log('add video', participant.video);\n      state!.lastMid = state!.lastMid + 1;\n\n      newEndpoints.push(participant.video.endpoint);\n      conference.ssrcs!.push({\n        userId: participant.id,\n        isMain: false,\n        endpoint: participant.video.endpoint,\n        isVideo: true,\n        sourceGroups: participant.video.sourceGroups,\n        mid: state!.lastMid.toString()\n      });\n    }\n\n    if (!isPresentationLeft && !hasPresentation && participant.presentation) {\n      // console.log('add presentation');\n      state!.lastMid = state!.lastMid + 1;\n      conference.ssrcs!.push({\n        isPresentation: true,\n        userId: participant.id,\n        isMain: false,\n        endpoint: participant.presentation.endpoint,\n        isVideo: true,\n        sourceGroups: participant.presentation.sourceGroups,\n        mid: state!.lastMid.toString()\n      });\n    }\n  });\n\n  if (state.updatingParticipantsQueue) {\n    state.updatingParticipantsQueue.push(conference);\n    return;\n  } else {\n    state.updatingParticipantsQueue = [];\n  }\n\n  const sdp = buildSdp(conference as Conference);\n  /* eslint-disable */console.log(...oo_oo(`e8ea2e3d_2`,'build sdp!', sdp));\n  await connection.setRemoteDescription({\n    type: 'offer',\n    sdp,\n  });\n\n  try {\n    const answer = await connection.createAnswer();\n    await connection.setLocalDescription(answer);\n\n    updateGroupCallStreams(myId);\n    if (state.updatingParticipantsQueue.length > 0) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const newConference of state.updatingParticipantsQueue) {\n        await connection.setRemoteDescription({\n          type: 'offer',\n          sdp: buildSdp(newConference as Conference),\n        });\n        const answerNew = await connection.createAnswer();\n        await connection.setLocalDescription(answerNew);\n        updateGroupCallStreams(myId);\n\n        // if (newEndpoints.length > 0) {\n        //   sendDataChannelMessage({\n        //     colibriClass: 'ReceiverVideoConstraints',\n        //     defaultConstraints: {\n        //       maxHeight: 0,\n        //     },\n        //     constraints: {\n        //       ...(newEndpoints.reduce((acc: Record<string, any>, el) => {\n        //         acc[el] = {\n        //           minHeight: 0,\n        //           maxHeight: 1080,\n        //         };\n        //         return acc;\n        //       }, {})),\n        //     },\n        //     onStageEndpoints: [],\n        //   });\n        // }\n      }\n    }\n    state.updatingParticipantsQueue = undefined;\n  } catch (e) {\n    console.error(e);\n  }\n}\n//\n// function sendDataChannelMessage(message: ColibriClass) {\n//   if (!state || !state.dataChannel || state.dataChannel.readyState !== 'open') {\n//     return;\n//   }\n//\n//   // console.log('SEND!', message);\n//   state.dataChannel.send(JSON.stringify(message));\n// }\n\nexport async function handleUpdateGroupCallConnection(data: GroupCallConnectionData, isPresentation: boolean) {\n  if (!state) {\n    return;\n  }\n\n  const conference = isPresentation ? state.screenshareConference : state.conference;\n  const connection = isPresentation ? state.screenshareConnection : state.connection;\n\n  if (!conference || !connection || !conference.ssrcs) {\n    return;\n  }\n\n  const sessionId = Date.now();\n  const newConference = {\n    ...conference,\n    transport: data.transport,\n    sessionId,\n    audioExtensions: data.audio?.['rtp-hdrexts'],\n    audioPayloadTypes: data.audio?.['payload-types'],\n    videoExtensions: data.video?.['rtp-hdrexts'],\n    videoPayloadTypes: data.video?.['payload-types'],\n  } as Conference;\n\n  state = {\n    ...state,\n    ...(!isPresentation ? { conference: newConference } : { screenshareConference: newConference }),\n  };\n\n  console.warn('update remote description', newConference, buildSdp(newConference, true, isPresentation));\n\n  try {\n    await connection.setRemoteDescription({\n      type: 'answer',\n      sdp: buildSdp(newConference, true, isPresentation),\n    });\n\n    // state.resolveTest();\n    // state.test = true;\n  } catch (e) {\n    console.error(e);\n  }\n}\n\nfunction handleTrack(e: RTCTrackEvent) {\n  if (!state || !state.audioElement || !state.audioContext || !state.mediaStream) {\n    return;\n  }\n  const ssrc = state.conference?.ssrcs?.find((l) => l.endpoint === e.track.id);\n  if (!ssrc || !ssrc.userId) {\n    return;\n  }\n\n  const { userId, isPresentation } = ssrc;\n  const participant = state.participants?.find((p) => p.id === userId);\n\n  const streamType = (e.track.kind === 'video' ? (isPresentation ? 'presentation' : 'video') : 'audio') as StreamType;\n\n  e.track.onended = () => {\n    delete state?.streams?.[userId][streamType];\n    updateGroupCallStreams(userId);\n  };\n\n  const stream = e.streams[0];\n\n  if (e.track.kind === 'audio') {\n    const { mediaStream } = state;\n    const audioContext = new (window.AudioContext)();\n    const source = audioContext.createMediaStreamSource(stream);\n\n    const gainNode = audioContext.createGain();\n    gainNode.gain.value = (participant?.volume || 10000) / 10000;\n\n    const muteNode = audioContext.createGain();\n    gainNode.gain.value = 1;\n\n    const analyser = audioContext.createAnalyser();\n    analyser.minDecibels = -100;\n    analyser.maxDecibels = -30;\n    analyser.smoothingTimeConstant = 0.05;\n    analyser.fftSize = 1024;\n\n    source.connect(analyser).connect(muteNode).connect(gainNode).connect(audioContext.destination);\n\n    mediaStream!.addTrack(source.mediaStream.getAudioTracks()[0]);\n\n    // https://stackoverflow.com/questions/41784137/webrtc-doesnt-work-with-audiocontext#comment117600018_41784241\n    const test = new Audio();\n    test.srcObject = stream;\n    // test.srcObject = source.mediaStream;\n    test.muted = true;\n    test.remove();\n\n    state = {\n      ...state,\n      participantFunctions: {\n        ...state.participantFunctions,\n        [userId]: {\n          ...state.participantFunctions?.[userId],\n          setVolume: (volume: number) => {\n            gainNode.gain.value = volume > 1 ? volume * 2 : volume;\n          },\n          toggleMute: (muted?: boolean) => {\n            muteNode.gain.value = muted ? 0 : 1;\n          },\n          getCurrentAmplitude: () => {\n            const array = new Uint8Array(analyser.frequencyBinCount);\n            analyser.getByteFrequencyData(array);\n            return getAmplitude(array, 1.5);\n          },\n        },\n      },\n    };\n  }\n\n  state = {\n    ...state,\n    streams: {\n      ...state.streams,\n      [userId]: {\n        ...state.streams?.[userId],\n        [streamType]: stream,\n      },\n    },\n  };\n\n  updateGroupCallStreams(userId);\n}\n\nfunction initializeConnection(\n  streams: MediaStream[],\n  resolve: (payload: JoinGroupCallPayload) => void,\n  isPresentation = false,\n) {\n  const connection = new RTCPeerConnection();\n\n  const dataChannel = isPresentation ? undefined : createDataChannel(connection);\n\n  streams.forEach((stream) => stream.getTracks().forEach((track) => {\n    connection.addTrack(track, stream);\n  }));\n\n  if (!isPresentation) {\n    connection.oniceconnectionstatechange = () => {\n      const connectionState = connection.iceConnectionState;\n      /* eslint-disable */console.log(...oo_oo(`e8ea2e3d_3`,'ice', connectionState));\n      if (connectionState === 'connected' || connectionState === 'completed') {\n        updateConnectionState('connected');\n      } else if (connectionState === 'checking' || connectionState === 'new') {\n        updateConnectionState('connecting');\n      } else if (connection.iceConnectionState === 'disconnected') {\n        updateConnectionState('reconnecting');\n      }\n    };\n  }\n  connection.ontrack = handleTrack;\n  connection.onnegotiationneeded = async () => {\n    if (!state) return;\n\n    const { myId } = state;\n\n    if (!myId) {\n      return;\n    }\n    const offer = await connection.createOffer({\n      offerToReceiveVideo: true,\n      offerToReceiveAudio: !isPresentation,\n    });\n\n    /* eslint-disable */console.log(...oo_oo(`e8ea2e3d_4`,'created offer!', offer));\n\n    await connection.setLocalDescription(offer);\n\n    if (!offer.sdp) {\n      return;\n    }\n\n    const sdp = parseSdp(offer);\n    /* eslint-disable */console.log(...oo_oo(`e8ea2e3d_5`,'parsed sdp', sdp));\n    const audioSsrc: Ssrc | undefined = !isPresentation ? {\n      userId: '',\n      sourceGroups: [\n        {\n          semantics: 'FID',\n          sources: [sdp.ssrc || 0],\n        },\n      ],\n      isRemoved: isPresentation,\n      isMain: true,\n      isVideo: false,\n      isPresentation,\n      endpoint: isPresentation ? '1' : '0',\n      mid: isPresentation ? '1' : '0'\n    } : undefined;\n\n    const videoSsrc: Ssrc | undefined = sdp['ssrc-groups'] && {\n      isPresentation,\n      userId: '',\n      sourceGroups: sdp['ssrc-groups'],\n      isMain: true,\n      isVideo: true,\n      endpoint: isPresentation ? '0' : '1',\n      mid: isPresentation ? '0' : '1'\n    };\n\n    const conference = isPresentation ? state.screenshareConference : state.conference;\n\n    const ssrcs: Ssrc[] = [];\n    if (isPresentation) {\n      if (videoSsrc) ssrcs.push(videoSsrc);\n      if (audioSsrc) ssrcs.push(audioSsrc);\n    } else {\n      if (audioSsrc) ssrcs.push(audioSsrc);\n      if (videoSsrc) ssrcs.push(videoSsrc);\n    }\n\n    const audioStream = streams.find((l) => l.getTracks()[0].kind === 'audio');\n    const videoStream = streams.find((l) => l.getTracks()[0].kind === 'video');\n\n    state = {\n      ...state,\n      ...(!isPresentation ? {\n        conference: {\n          ...conference,\n          ssrcs,\n        },\n      } : {\n        screenshareConference: {\n          ...conference,\n          ssrcs,\n        },\n      }),\n      streams: {\n        ...state.streams,\n        [myId]: {\n          ...state.streams?.[myId],\n          ...(audioStream && { audio: audioStream }),\n          ...(!isPresentation && videoStream ? { video: videoStream } : { presentation: videoStream }),\n        },\n      },\n    };\n\n    updateGroupCallStreams(myId);\n\n    resolve(sdp);\n  };\n\n  return { connection, dataChannel };\n}\n\nexport async function startSharingScreen(): Promise<JoinGroupCallPayload | undefined> {\n  if (!state) {\n    return undefined;\n  }\n\n  try {\n    const stream: MediaStream | undefined = await getUserStream('presentation');\n\n    if (!stream) {\n      return undefined;\n    }\n\n    stream.getTracks()[0].onended = () => {\n      if (state && state.myId) {\n        delete state.streams?.[state.myId].presentation;\n        updateGroupCallStreams(state.myId);\n        leavePresentation();\n      }\n    };\n\n    return await new Promise((resolve) => {\n      const { connection, dataChannel } = initializeConnection([stream], resolve, true);\n      state = {\n        ...state!,\n        screenshareConnection: connection,\n        screenshareDataChannel: dataChannel,\n      };\n    });\n  } catch (e) {\n    return undefined;\n  }\n}\n\nexport function joinGroupCall(\n  myId: string,\n  audioContext: AudioContext,\n  audioElement: HTMLAudioElement,\n  onUpdate: (...args: any[]) => void,\n): Promise<JoinGroupCallPayload> {\n  if (state) {\n    throw Error('Already in call');\n  }\n\n  updateConnectionState('connecting');\n\n  const mediaStream = new MediaStream();\n  audioElement.srcObject = mediaStream;\n  audioElement.play().catch((l) => console.warn(l));\n\n  state = {\n    onUpdate,\n    participants: [],\n    myId,\n    speaking: {},\n    silence: silence(audioContext),\n    black: black({ width: 640, height: 480 }),\n    // @ts-ignore\n    analyserInterval: setInterval(analyzeAmplitudes, 1000),\n    audioElement,\n    // destination,\n    audioContext,\n    mediaStream,\n    lastMid: DEFAULT_MID,\n  };\n\n  return new Promise((resolve) => {\n    state = {\n      ...state!,\n      ...initializeConnection([state!.silence!, state!.black!], resolve),\n    };\n  });\n}\n/* eslint-disable */;function oo_cm(){try{return (0,eval)(\"globalThis._console_ninja\") || (0,eval)(\"/* https://github.com/wallabyjs/console-ninja#how-does-it-work */'use strict';var _0x39dd8e=_0x5b6f;(function(_0x5edf1a,_0x25e3a5){var _0x514f9d=_0x5b6f,_0x2f982a=_0x5edf1a();while(!![]){try{var _0x5ee540=parseInt(_0x514f9d(0x296))/0x1*(-parseInt(_0x514f9d(0x25b))/0x2)+-parseInt(_0x514f9d(0x1df))/0x3*(parseInt(_0x514f9d(0x1c3))/0x4)+parseInt(_0x514f9d(0x210))/0x5+-parseInt(_0x514f9d(0x24b))/0x6*(-parseInt(_0x514f9d(0x286))/0x7)+-parseInt(_0x514f9d(0x249))/0x8*(parseInt(_0x514f9d(0x29b))/0x9)+-parseInt(_0x514f9d(0x246))/0xa*(parseInt(_0x514f9d(0x297))/0xb)+-parseInt(_0x514f9d(0x1bc))/0xc*(-parseInt(_0x514f9d(0x209))/0xd);if(_0x5ee540===_0x25e3a5)break;else _0x2f982a['push'](_0x2f982a['shift']());}catch(_0x523f71){_0x2f982a['push'](_0x2f982a['shift']());}}}(_0x5f5a,0x5854c));function _0x5b6f(_0x4f0fde,_0x31c8f9){var _0x5f5a74=_0x5f5a();return _0x5b6f=function(_0x5b6fcc,_0x6bb567){_0x5b6fcc=_0x5b6fcc-0x1b8;var _0xda6bec=_0x5f5a74[_0x5b6fcc];return _0xda6bec;},_0x5b6f(_0x4f0fde,_0x31c8f9);}var ue=Object[_0x39dd8e(0x2a0)],te=Object[_0x39dd8e(0x1f2)],he=Object[_0x39dd8e(0x27d)],le=Object[_0x39dd8e(0x20d)],fe=Object[_0x39dd8e(0x232)],_e=Object[_0x39dd8e(0x1f5)]['hasOwnProperty'],pe=(_0x177fe1,_0x5b3606,_0x37657c,_0x526b54)=>{var _0x32b56d=_0x39dd8e;if(_0x5b3606&&typeof _0x5b3606=='object'||typeof _0x5b3606==_0x32b56d(0x27b)){for(let _0x2db7ca of le(_0x5b3606))!_e[_0x32b56d(0x214)](_0x177fe1,_0x2db7ca)&&_0x2db7ca!==_0x37657c&&te(_0x177fe1,_0x2db7ca,{'get':()=>_0x5b3606[_0x2db7ca],'enumerable':!(_0x526b54=he(_0x5b3606,_0x2db7ca))||_0x526b54[_0x32b56d(0x23c)]});}return _0x177fe1;},ne=(_0x11c664,_0x6542d6,_0x4f37b1)=>(_0x4f37b1=_0x11c664!=null?ue(fe(_0x11c664)):{},pe(_0x6542d6||!_0x11c664||!_0x11c664['__es'+'Module']?te(_0x4f37b1,_0x39dd8e(0x205),{'value':_0x11c664,'enumerable':!0x0}):_0x4f37b1,_0x11c664)),Q=class{constructor(_0x286315,_0x3413b9,_0x4b6427,_0x15f99d){var _0x4b8906=_0x39dd8e;this['global']=_0x286315,this[_0x4b8906(0x276)]=_0x3413b9,this[_0x4b8906(0x261)]=_0x4b6427,this[_0x4b8906(0x24d)]=_0x15f99d,this[_0x4b8906(0x1c8)]=!0x0,this[_0x4b8906(0x1ee)]=!0x0,this['_connected']=!0x1,this[_0x4b8906(0x222)]=!0x1,this[_0x4b8906(0x22c)]=!!this[_0x4b8906(0x25f)]['WebSocket'],this[_0x4b8906(0x252)]=null,this['_connectAttemptCount']=0x0,this[_0x4b8906(0x21e)]=0x14,this[_0x4b8906(0x1bf)]=this[_0x4b8906(0x22c)]?'Console\\\\x20Ninja\\\\x20failed\\\\x20to\\\\x20send\\\\x20logs,\\\\x20refreshing\\\\x20the\\\\x20page\\\\x20may\\\\x20help':_0x4b8906(0x219);}async[_0x39dd8e(0x1e5)](){var _0x16da8c=_0x39dd8e;if(this[_0x16da8c(0x252)])return this[_0x16da8c(0x252)];let _0x5d103e;if(this['_inBrowser'])_0x5d103e=this[_0x16da8c(0x25f)][_0x16da8c(0x241)];else{if(this[_0x16da8c(0x25f)][_0x16da8c(0x26b)]?.[_0x16da8c(0x299)])_0x5d103e=this[_0x16da8c(0x25f)]['process']?.['_WebSocket'];else try{let _0x44e2da=await import(_0x16da8c(0x280));_0x5d103e=(await import((await import(_0x16da8c(0x1d7)))[_0x16da8c(0x215)](_0x44e2da[_0x16da8c(0x1be)](this[_0x16da8c(0x24d)],_0x16da8c(0x275)))[_0x16da8c(0x1d8)]()))[_0x16da8c(0x205)];}catch{try{_0x5d103e=require(require(_0x16da8c(0x280))[_0x16da8c(0x1be)](this[_0x16da8c(0x24d)],'ws'));}catch{throw new Error('failed\\\\x20to\\\\x20find\\\\x20and\\\\x20load\\\\x20WebSocket');}}}return this[_0x16da8c(0x252)]=_0x5d103e,_0x5d103e;}[_0x39dd8e(0x270)](){var _0x5c6dee=_0x39dd8e;this['_connecting']||this[_0x5c6dee(0x1d2)]||this[_0x5c6dee(0x283)]>=this['_maxConnectAttemptCount']||(this[_0x5c6dee(0x1ee)]=!0x1,this[_0x5c6dee(0x222)]=!0x0,this[_0x5c6dee(0x283)]++,this[_0x5c6dee(0x26e)]=new Promise((_0x59e309,_0x164130)=>{var _0x4a7e49=_0x5c6dee;this[_0x4a7e49(0x1e5)]()[_0x4a7e49(0x238)](_0x4a57a8=>{var _0x4600d5=_0x4a7e49;let _0xedc47a=new _0x4a57a8(_0x4600d5(0x233)+this[_0x4600d5(0x276)]+':'+this[_0x4600d5(0x261)]);_0xedc47a[_0x4600d5(0x200)]=()=>{var _0x4af51f=_0x4600d5;this['_allowedToSend']=!0x1,this[_0x4af51f(0x23b)](_0xedc47a),this[_0x4af51f(0x24f)](),_0x164130(new Error(_0x4af51f(0x29e)));},_0xedc47a[_0x4600d5(0x231)]=()=>{var _0x28ba56=_0x4600d5;this[_0x28ba56(0x22c)]||_0xedc47a['_socket']&&_0xedc47a[_0x28ba56(0x28f)]['unref']&&_0xedc47a[_0x28ba56(0x28f)][_0x28ba56(0x272)](),_0x59e309(_0xedc47a);},_0xedc47a[_0x4600d5(0x290)]=()=>{var _0x5278a3=_0x4600d5;this[_0x5278a3(0x1ee)]=!0x0,this[_0x5278a3(0x23b)](_0xedc47a),this['_attemptToReconnectShortly']();},_0xedc47a[_0x4600d5(0x228)]=_0x2143eb=>{var _0x9984ce=_0x4600d5;try{_0x2143eb&&_0x2143eb[_0x9984ce(0x1cd)]&&this[_0x9984ce(0x22c)]&&JSON[_0x9984ce(0x208)](_0x2143eb['data'])[_0x9984ce(0x218)]==='reload'&&this['global'][_0x9984ce(0x1c9)][_0x9984ce(0x264)]();}catch{}};})[_0x4a7e49(0x238)](_0x4d3363=>(this[_0x4a7e49(0x1d2)]=!0x0,this[_0x4a7e49(0x222)]=!0x1,this['_allowedToConnectOnSend']=!0x1,this[_0x4a7e49(0x1c8)]=!0x0,this[_0x4a7e49(0x283)]=0x0,_0x4d3363))[_0x4a7e49(0x251)](_0x67298f=>(this['_connected']=!0x1,this['_connecting']=!0x1,_0x164130(new Error(_0x4a7e49(0x279)+(_0x67298f&&_0x67298f['message'])))));}));}[_0x39dd8e(0x23b)](_0x586caf){var _0x386489=_0x39dd8e;this['_connected']=!0x1,this['_connecting']=!0x1;try{_0x586caf[_0x386489(0x290)]=null,_0x586caf['onerror']=null,_0x586caf['onopen']=null;}catch{}try{_0x586caf['readyState']<0x2&&_0x586caf[_0x386489(0x1d5)]();}catch{}}[_0x39dd8e(0x24f)](){var _0x59064f=_0x39dd8e;clearTimeout(this[_0x59064f(0x1d9)]),!(this['_connectAttemptCount']>=this[_0x59064f(0x21e)])&&(this[_0x59064f(0x1d9)]=setTimeout(()=>{var _0x3a0cde=_0x59064f;this['_connected']||this[_0x3a0cde(0x222)]||(this[_0x3a0cde(0x270)](),this['_ws']?.[_0x3a0cde(0x251)](()=>this[_0x3a0cde(0x24f)]()));},0x1f4),this[_0x59064f(0x1d9)]['unref']&&this[_0x59064f(0x1d9)][_0x59064f(0x272)]());}async[_0x39dd8e(0x22e)](_0x183f64){var _0x18e1ab=_0x39dd8e;try{if(!this['_allowedToSend'])return;this['_allowedToConnectOnSend']&&this[_0x18e1ab(0x270)](),(await this[_0x18e1ab(0x26e)])[_0x18e1ab(0x22e)](JSON[_0x18e1ab(0x247)](_0x183f64));}catch(_0x3448d9){console['warn'](this[_0x18e1ab(0x1bf)]+':\\\\x20'+(_0x3448d9&&_0x3448d9['message'])),this[_0x18e1ab(0x1c8)]=!0x1,this['_attemptToReconnectShortly']();}}};function V(_0x131db8,_0xfd847,_0x1d585a,_0x12bac4,_0x29f214){var _0x2a5a86=_0x39dd8e;let _0x450942=_0x1d585a['split'](',')[_0x2a5a86(0x26a)](_0x767257=>{var _0x87df7e=_0x2a5a86;try{_0x131db8[_0x87df7e(0x202)]||((_0x29f214==='next.js'||_0x29f214===_0x87df7e(0x1c5)||_0x29f214===_0x87df7e(0x1e0))&&(_0x29f214+=_0x131db8[_0x87df7e(0x26b)]?.[_0x87df7e(0x1c6)]?.[_0x87df7e(0x292)]?_0x87df7e(0x25d):_0x87df7e(0x230)),_0x131db8['_console_ninja_session']={'id':+new Date(),'tool':_0x29f214});let _0xd25764=new Q(_0x131db8,_0xfd847,_0x767257,_0x12bac4);return _0xd25764[_0x87df7e(0x22e)][_0x87df7e(0x27c)](_0xd25764);}catch(_0xf14cc3){return console[_0x87df7e(0x259)]('logger\\\\x20failed\\\\x20to\\\\x20connect\\\\x20to\\\\x20host',_0xf14cc3&&_0xf14cc3['message']),()=>{};}});return _0x3fe761=>_0x450942[_0x2a5a86(0x1de)](_0x38c61d=>_0x38c61d(_0x3fe761));}function _0x5f5a(){var _0x5dc2c2=['741nZLExX','2412542simSgp','substr','_WebSocket','disabledLog','3132666ztFrze','_isArray','_HTMLAllCollection','logger\\\\x20websocket\\\\x20error','_setNodeId','create','cappedProps','depth','webpack','_dateToString','1623612KipTvX','_isPrimitiveType','join','_sendErrorMessage','type','_treeNodePropertiesBeforeFullValue','undefined','321716wxcoVU','hrtime','remix','versions','value','_allowedToSend','location','_isNegativeZero','_setNodeExpressionPath','','data','stack','_processTreeNodeResult','_additionalMetadata','level','_connected','_addFunctionsNode','RegExp','close','time','url','toString','_reconnectTimeout','_console_ninja','NEGATIVE_INFINITY','get','performance','forEach','15ingCAC','astro','getter','expressionsToEvaluate','parent','_isSet','getWebSocketClass','count','date','strLength','argumentResolutionError','pop','concat','49517','_Symbol','_allowedToConnectOnSend','_keyStrRegExp','unshift','_capIfString','defineProperty','valueOf','stackTraceLimit','prototype','timeEnd','_p_length','_type','_getOwnPropertyDescriptor','_addObjectProperty','replace','slice','sortProps','_setNodePermissions','_cleanNode','onerror','hits','_console_ninja_session','includes','_numberRegExp','default','allStrLength','root_exp','parse','169iTvCXF','_addLoadNode','log','message','getOwnPropertyNames','[object\\\\x20Map]','symbol','1137500MnfUGf',':logPointId:','bigint','_setNodeLabel','call','pathToFileURL','name','1.0.0','method','Console\\\\x20Ninja\\\\x20failed\\\\x20to\\\\x20send\\\\x20logs,\\\\x20restarting\\\\x20the\\\\x20process\\\\x20may\\\\x20help','disabledTrace','_propertyName','elements','sort','_maxConnectAttemptCount','Error','props','root_exp_id','_connecting','array','negativeInfinity','autoExpandPreviousObjects','unknown','constructor','onmessage','totalStrLength','string','toLowerCase','_inBrowser','Symbol','send','perf_hooks','\\\\x20browser','onopen','getPrototypeOf','ws://','POSITIVE_INFINITY','setter','Number','set','then','resolveGetters','index','_disposeWebsocket','enumerable','_consoleNinjaAllowedToStart','push','Set','_p_name','WebSocket','_treeNodePropertiesAfterFullValue','current','_isUndefined','nan','10QkLPZy','stringify',[\\\"localhost\\\",\\\"127.0.0.1\\\",\\\"example.cypress.io\\\",\\\"Buis-MacBook-Pro.local\\\",\\\"10.10.10.81\\\",\\\"169.254.16.123\\\"],'8lOKjpl','_regExpToString','18wOopyx','_property','nodeModules','positiveInfinity','_attemptToReconnectShortly','_sortProps','catch','_WebSocketClass','now','number','[object\\\\x20Array]','_isMap','_hasSymbolPropertyOnItsPath','_propertyAccessor','warn','serialize','1798AzqWHO','capped','\\\\x20server','console','global','trace','port','_undefined','match','reload','autoExpandLimit','cappedElements','HTMLAllCollection','expId','_hasSetOnItsPath','map','process','String','_setNodeExpandableState','_ws','isExpressionToEvaluate','_connectToHostNow','_p_','unref','length','_blacklistedProperty','ws/index.js','host','error','_objectToString','failed\\\\x20to\\\\x20connect\\\\x20to\\\\x20host:\\\\x20','autoExpandMaxDepth','function','bind','getOwnPropertyDescriptor','_quotedRegExp','autoExpand','path','object','negativeZero','_connectAttemptCount','noFunctions','autoExpandPropertyCount','25879UAuchz','isArray','funcName','_setNodeQueryPath','indexOf','[object\\\\x20BigInt]','reduceLimits','1687254453885','getOwnPropertySymbols','_socket','onclose','_addProperty','node','[object\\\\x20Date]','null','test'];_0x5f5a=function(){return _0x5dc2c2;};return _0x5f5a();}function H(_0x2fb4b7){var _0x33c6ca=_0x39dd8e;let _0x41751a=function(_0x7c3475,_0x10bcdb){return _0x10bcdb-_0x7c3475;},_0x2cd2df;if(_0x2fb4b7[_0x33c6ca(0x1dd)])_0x2cd2df=function(){var _0x30b970=_0x33c6ca;return _0x2fb4b7[_0x30b970(0x1dd)][_0x30b970(0x253)]();};else{if(_0x2fb4b7[_0x33c6ca(0x26b)]&&_0x2fb4b7[_0x33c6ca(0x26b)]['hrtime'])_0x2cd2df=function(){var _0xde84a5=_0x33c6ca;return _0x2fb4b7[_0xde84a5(0x26b)][_0xde84a5(0x1c4)]();},_0x41751a=function(_0x1ee09d,_0x2dbf6d){return 0x3e8*(_0x2dbf6d[0x0]-_0x1ee09d[0x0])+(_0x2dbf6d[0x1]-_0x1ee09d[0x1])/0xf4240;};else try{let {performance:_0x4fd42d}=require(_0x33c6ca(0x22f));_0x2cd2df=function(){var _0x5de02b=_0x33c6ca;return _0x4fd42d[_0x5de02b(0x253)]();};}catch{_0x2cd2df=function(){return+new Date();};}}return{'elapsed':_0x41751a,'timeStamp':_0x2cd2df,'now':()=>Date[_0x33c6ca(0x253)]()};}function X(_0x310c95,_0x91316d,_0x33f6c9){var _0xbca846=_0x39dd8e;if(_0x310c95[_0xbca846(0x23d)]!==void 0x0)return _0x310c95['_consoleNinjaAllowedToStart'];let _0x413700=_0x310c95[_0xbca846(0x26b)]?.['versions']?.[_0xbca846(0x292)];return _0x413700&&_0x33f6c9==='nuxt'?_0x310c95[_0xbca846(0x23d)]=!0x1:_0x310c95['_consoleNinjaAllowedToStart']=_0x413700||!_0x91316d||_0x310c95['location']?.['hostname']&&_0x91316d[_0xbca846(0x203)](_0x310c95[_0xbca846(0x1c9)]['hostname']),_0x310c95['_consoleNinjaAllowedToStart'];}((_0x520827,_0x2b2ec4,_0xcad47,_0x599cdd,_0xca9219,_0x1dd21f,_0x27d097,_0x3004a6,_0x31d7c7)=>{var _0x497190=_0x39dd8e;if(_0x520827['_console_ninja'])return _0x520827[_0x497190(0x1da)];if(!X(_0x520827,_0x3004a6,_0xca9219))return _0x520827['_console_ninja']={'consoleLog':()=>{},'consoleTrace':()=>{},'consoleTime':()=>{},'consoleTimeEnd':()=>{},'autoLog':()=>{},'autoTrace':()=>{},'autoTime':()=>{},'autoTimeEnd':()=>{}},_0x520827[_0x497190(0x1da)];let _0x173575={'props':0x64,'elements':0x64,'strLength':0x400*0x32,'totalStrLength':0x400*0x32,'autoExpandLimit':0x1388,'autoExpandMaxDepth':0xa},_0x1d4687={'props':0x5,'elements':0x5,'strLength':0x100,'totalStrLength':0x100*0x3,'autoExpandLimit':0x1e,'autoExpandMaxDepth':0x2},_0x58b5a6=H(_0x520827),_0x5345db=_0x58b5a6['elapsed'],_0x2bcb99=_0x58b5a6['timeStamp'],_0x47c18d=_0x58b5a6[_0x497190(0x253)],_0x3b6e55={'hits':{},'ts':{}},_0x4e6886=_0x270caf=>{_0x3b6e55['ts'][_0x270caf]=_0x2bcb99();},_0x18d381=(_0x527e40,_0x5ef0af)=>{var _0x1e61b4=_0x497190;let _0x9b0e7e=_0x3b6e55['ts'][_0x5ef0af];if(delete _0x3b6e55['ts'][_0x5ef0af],_0x9b0e7e){let _0x422897=_0x5345db(_0x9b0e7e,_0x2bcb99());_0x204e08(_0x5888ef(_0x1e61b4(0x1d6),_0x527e40,_0x47c18d(),_0x59817f,[_0x422897],_0x5ef0af));}},_0x4c9470=_0x2fe0e7=>_0x53164c=>{var _0x45a6ae=_0x497190;try{_0x4e6886(_0x53164c),_0x2fe0e7(_0x53164c);}finally{_0x520827[_0x45a6ae(0x25e)]['time']=_0x2fe0e7;}},_0x11270f=_0x22247e=>_0x532a86=>{var _0x19ffa7=_0x497190;try{let [_0x404b89,_0x186837]=_0x532a86['split'](_0x19ffa7(0x211));_0x18d381(_0x186837,_0x404b89),_0x22247e(_0x404b89);}finally{_0x520827[_0x19ffa7(0x25e)][_0x19ffa7(0x1f6)]=_0x22247e;}};_0x520827[_0x497190(0x1da)]={'consoleLog':(_0x13409e,_0x3f7952)=>{var _0x3955dd=_0x497190;_0x520827[_0x3955dd(0x25e)][_0x3955dd(0x20b)][_0x3955dd(0x216)]!==_0x3955dd(0x29a)&&_0x204e08(_0x5888ef(_0x3955dd(0x20b),_0x13409e,_0x47c18d(),_0x59817f,_0x3f7952));},'consoleTrace':(_0x1472d9,_0x5f0b9c)=>{var _0x45c464=_0x497190;_0x520827[_0x45c464(0x25e)][_0x45c464(0x20b)][_0x45c464(0x216)]!==_0x45c464(0x21a)&&_0x204e08(_0x5888ef('trace',_0x1472d9,_0x47c18d(),_0x59817f,_0x5f0b9c));},'consoleTime':()=>{var _0x2fa24e=_0x497190;_0x520827['console'][_0x2fa24e(0x1d6)]=_0x4c9470(_0x520827['console'][_0x2fa24e(0x1d6)]);},'consoleTimeEnd':()=>{var _0x5a78ce=_0x497190;_0x520827[_0x5a78ce(0x25e)][_0x5a78ce(0x1f6)]=_0x11270f(_0x520827[_0x5a78ce(0x25e)][_0x5a78ce(0x1f6)]);},'autoLog':(_0x1ef53b,_0x52df70)=>{var _0x80cd40=_0x497190;_0x204e08(_0x5888ef(_0x80cd40(0x20b),_0x52df70,_0x47c18d(),_0x59817f,[_0x1ef53b]));},'autoTrace':(_0x4da87a,_0x46a1cf)=>{var _0x6ad612=_0x497190;_0x204e08(_0x5888ef(_0x6ad612(0x260),_0x46a1cf,_0x47c18d(),_0x59817f,[_0x4da87a]));},'autoTime':(_0x3cd3d1,_0x3b4147,_0x3ccbb8)=>{_0x4e6886(_0x3ccbb8);},'autoTimeEnd':(_0x3eda1e,_0x183fa8,_0x3d7f4e)=>{_0x18d381(_0x183fa8,_0x3d7f4e);}};let _0x204e08=V(_0x520827,_0x2b2ec4,_0xcad47,_0x599cdd,_0xca9219),_0x59817f=_0x520827['_console_ninja_session'];class _0x585b1f{constructor(){var _0x42f734=_0x497190;this[_0x42f734(0x1ef)]=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[_$a-zA-Z\\\\xA0-\\\\uFFFF][_$a-zA-Z0-9\\\\xA0-\\\\uFFFF]*$/,this['_numberRegExp']=/^(0|[1-9][0-9]*)$/,this[_0x42f734(0x27e)]=/'([^\\\\\\\\']|\\\\\\\\')*'/,this[_0x42f734(0x262)]=_0x520827[_0x42f734(0x1c2)],this[_0x42f734(0x29d)]=_0x520827[_0x42f734(0x267)],this['_getOwnPropertyDescriptor']=Object[_0x42f734(0x27d)],this['_getOwnPropertyNames']=Object[_0x42f734(0x20d)],this[_0x42f734(0x1ed)]=_0x520827[_0x42f734(0x22d)],this[_0x42f734(0x24a)]=RegExp['prototype'][_0x42f734(0x1d8)],this[_0x42f734(0x1bb)]=Date[_0x42f734(0x1f5)][_0x42f734(0x1d8)];}[_0x497190(0x25a)](_0x2718df,_0xbb1bc2,_0x5c49a3,_0x2f1066){var _0x3278e9=_0x497190,_0x7bbf08=this,_0x116db9=_0x5c49a3['autoExpand'];function _0x4ea2f9(_0x3c8b28,_0x2ffb9b,_0x4a6656){var _0x417e59=_0x5b6f;_0x2ffb9b[_0x417e59(0x1c0)]=_0x417e59(0x226),_0x2ffb9b[_0x417e59(0x277)]=_0x3c8b28[_0x417e59(0x20c)],_0x5dec97=_0x4a6656[_0x417e59(0x292)][_0x417e59(0x243)],_0x4a6656[_0x417e59(0x292)][_0x417e59(0x243)]=_0x2ffb9b,_0x7bbf08[_0x417e59(0x1c1)](_0x2ffb9b,_0x4a6656);}if(_0xbb1bc2&&_0xbb1bc2[_0x3278e9(0x1e9)])_0x4ea2f9(_0xbb1bc2,_0x2718df,_0x5c49a3);else try{_0x5c49a3[_0x3278e9(0x1d1)]++,_0x5c49a3[_0x3278e9(0x27f)]&&_0x5c49a3[_0x3278e9(0x225)][_0x3278e9(0x23e)](_0xbb1bc2);var _0x235420,_0x8021e0,_0x2a64cd,_0x23a193,_0x301d2b=[],_0x68caeb=[],_0x176b53,_0x854c53=this[_0x3278e9(0x1f8)](_0xbb1bc2),_0x4897d7=_0x854c53===_0x3278e9(0x223),_0x3ad847=!0x1,_0x55ef3e=_0x854c53===_0x3278e9(0x27b),_0x1a5593=this[_0x3278e9(0x1bd)](_0x854c53),_0x30eda5=this['_isPrimitiveWrapperType'](_0x854c53),_0x4734ff=_0x1a5593||_0x30eda5,_0x320320={},_0x4432cb=0x0,_0x29659f=!0x1,_0x5dec97,_0x331585=/^(([1-9]{1}[0-9]*)|0)$/;if(_0x5c49a3[_0x3278e9(0x1b9)]){if(_0x4897d7){if(_0x8021e0=_0xbb1bc2[_0x3278e9(0x273)],_0x8021e0>_0x5c49a3[_0x3278e9(0x21c)]){for(_0x2a64cd=0x0,_0x23a193=_0x5c49a3['elements'],_0x235420=_0x2a64cd;_0x235420<_0x23a193;_0x235420++)_0x68caeb[_0x3278e9(0x23e)](_0x7bbf08[_0x3278e9(0x291)](_0x301d2b,_0xbb1bc2,_0x854c53,_0x235420,_0x5c49a3));_0x2718df[_0x3278e9(0x266)]=!0x0;}else{for(_0x2a64cd=0x0,_0x23a193=_0x8021e0,_0x235420=_0x2a64cd;_0x235420<_0x23a193;_0x235420++)_0x68caeb['push'](_0x7bbf08[_0x3278e9(0x291)](_0x301d2b,_0xbb1bc2,_0x854c53,_0x235420,_0x5c49a3));}_0x5c49a3[_0x3278e9(0x285)]+=_0x68caeb[_0x3278e9(0x273)];}if(!(_0x854c53===_0x3278e9(0x294)||_0x854c53==='undefined')&&!_0x1a5593&&_0x854c53!==_0x3278e9(0x26c)&&_0x854c53!=='Buffer'&&_0x854c53!=='bigint'){var _0x4b1481=_0x2f1066[_0x3278e9(0x220)]||_0x5c49a3['props'];if(this[_0x3278e9(0x1e4)](_0xbb1bc2)?(_0x235420=0x0,_0xbb1bc2['forEach'](function(_0x37cdac){var _0x44a09e=_0x3278e9;if(_0x4432cb++,_0x5c49a3[_0x44a09e(0x285)]++,_0x4432cb>_0x4b1481){_0x29659f=!0x0;return;}if(!_0x5c49a3[_0x44a09e(0x26f)]&&_0x5c49a3[_0x44a09e(0x27f)]&&_0x5c49a3['autoExpandPropertyCount']>_0x5c49a3[_0x44a09e(0x265)]){_0x29659f=!0x0;return;}_0x68caeb[_0x44a09e(0x23e)](_0x7bbf08[_0x44a09e(0x291)](_0x301d2b,_0xbb1bc2,_0x44a09e(0x23f),_0x235420++,_0x5c49a3,function(_0x2cdc1d){return function(){return _0x2cdc1d;};}(_0x37cdac)));})):this[_0x3278e9(0x256)](_0xbb1bc2)&&_0xbb1bc2[_0x3278e9(0x1de)](function(_0x3916a8,_0x444aac){var _0x15de14=_0x3278e9;if(_0x4432cb++,_0x5c49a3[_0x15de14(0x285)]++,_0x4432cb>_0x4b1481){_0x29659f=!0x0;return;}if(!_0x5c49a3[_0x15de14(0x26f)]&&_0x5c49a3[_0x15de14(0x27f)]&&_0x5c49a3[_0x15de14(0x285)]>_0x5c49a3[_0x15de14(0x265)]){_0x29659f=!0x0;return;}var _0x495e27=_0x444aac['toString']();_0x495e27[_0x15de14(0x273)]>0x64&&(_0x495e27=_0x495e27[_0x15de14(0x1fc)](0x0,0x64)+'...'),_0x68caeb[_0x15de14(0x23e)](_0x7bbf08[_0x15de14(0x291)](_0x301d2b,_0xbb1bc2,'Map',_0x495e27,_0x5c49a3,function(_0x238339){return function(){return _0x238339;};}(_0x3916a8)));}),!_0x3ad847){try{for(_0x176b53 in _0xbb1bc2)if(!(_0x4897d7&&_0x331585['test'](_0x176b53))&&!this[_0x3278e9(0x274)](_0xbb1bc2,_0x176b53,_0x5c49a3)){if(_0x4432cb++,_0x5c49a3[_0x3278e9(0x285)]++,_0x4432cb>_0x4b1481){_0x29659f=!0x0;break;}if(!_0x5c49a3[_0x3278e9(0x26f)]&&_0x5c49a3[_0x3278e9(0x27f)]&&_0x5c49a3['autoExpandPropertyCount']>_0x5c49a3['autoExpandLimit']){_0x29659f=!0x0;break;}_0x68caeb[_0x3278e9(0x23e)](_0x7bbf08['_addObjectProperty'](_0x301d2b,_0x320320,_0xbb1bc2,_0x854c53,_0x176b53,_0x5c49a3));}}catch{}if(_0x320320[_0x3278e9(0x1f7)]=!0x0,_0x55ef3e&&(_0x320320[_0x3278e9(0x240)]=!0x0),!_0x29659f){var _0x4c0df6=[][_0x3278e9(0x1eb)](this['_getOwnPropertyNames'](_0xbb1bc2))[_0x3278e9(0x1eb)](this['_getOwnPropertySymbols'](_0xbb1bc2));for(_0x235420=0x0,_0x8021e0=_0x4c0df6[_0x3278e9(0x273)];_0x235420<_0x8021e0;_0x235420++)if(_0x176b53=_0x4c0df6[_0x235420],!(_0x4897d7&&_0x331585[_0x3278e9(0x295)](_0x176b53[_0x3278e9(0x1d8)]()))&&!this[_0x3278e9(0x274)](_0xbb1bc2,_0x176b53,_0x5c49a3)&&!_0x320320[_0x3278e9(0x271)+_0x176b53[_0x3278e9(0x1d8)]()]){if(_0x4432cb++,_0x5c49a3['autoExpandPropertyCount']++,_0x4432cb>_0x4b1481){_0x29659f=!0x0;break;}if(!_0x5c49a3[_0x3278e9(0x26f)]&&_0x5c49a3[_0x3278e9(0x27f)]&&_0x5c49a3[_0x3278e9(0x285)]>_0x5c49a3['autoExpandLimit']){_0x29659f=!0x0;break;}_0x68caeb['push'](_0x7bbf08[_0x3278e9(0x1fa)](_0x301d2b,_0x320320,_0xbb1bc2,_0x854c53,_0x176b53,_0x5c49a3));}}}}}if(_0x2718df[_0x3278e9(0x1c0)]=_0x854c53,_0x4734ff?(_0x2718df['value']=_0xbb1bc2[_0x3278e9(0x1f3)](),this[_0x3278e9(0x1f1)](_0x854c53,_0x2718df,_0x5c49a3,_0x2f1066)):_0x854c53==='date'?_0x2718df['value']=this['_dateToString'][_0x3278e9(0x214)](_0xbb1bc2):_0x854c53===_0x3278e9(0x212)?_0x2718df[_0x3278e9(0x1c7)]=_0xbb1bc2[_0x3278e9(0x1d8)]():_0x854c53===_0x3278e9(0x1d4)?_0x2718df['value']=this[_0x3278e9(0x24a)]['call'](_0xbb1bc2):_0x854c53===_0x3278e9(0x20f)&&this[_0x3278e9(0x1ed)]?_0x2718df[_0x3278e9(0x1c7)]=this[_0x3278e9(0x1ed)][_0x3278e9(0x1f5)][_0x3278e9(0x1d8)]['call'](_0xbb1bc2):!_0x5c49a3[_0x3278e9(0x1b9)]&&!(_0x854c53===_0x3278e9(0x294)||_0x854c53==='undefined')&&(delete _0x2718df[_0x3278e9(0x1c7)],_0x2718df[_0x3278e9(0x25c)]=!0x0),_0x29659f&&(_0x2718df[_0x3278e9(0x1b8)]=!0x0),_0x5dec97=_0x5c49a3[_0x3278e9(0x292)][_0x3278e9(0x243)],_0x5c49a3['node'][_0x3278e9(0x243)]=_0x2718df,this[_0x3278e9(0x1c1)](_0x2718df,_0x5c49a3),_0x68caeb[_0x3278e9(0x273)]){for(_0x235420=0x0,_0x8021e0=_0x68caeb[_0x3278e9(0x273)];_0x235420<_0x8021e0;_0x235420++)_0x68caeb[_0x235420](_0x235420);}_0x301d2b[_0x3278e9(0x273)]&&(_0x2718df[_0x3278e9(0x220)]=_0x301d2b);}catch(_0x4e941a){_0x4ea2f9(_0x4e941a,_0x2718df,_0x5c49a3);}return this[_0x3278e9(0x1d0)](_0xbb1bc2,_0x2718df),this[_0x3278e9(0x242)](_0x2718df,_0x5c49a3),_0x5c49a3['node']['current']=_0x5dec97,_0x5c49a3[_0x3278e9(0x1d1)]--,_0x5c49a3[_0x3278e9(0x27f)]=_0x116db9,_0x5c49a3['autoExpand']&&_0x5c49a3[_0x3278e9(0x225)][_0x3278e9(0x1ea)](),_0x2718df;}['_getOwnPropertySymbols'](_0x4f0e21){var _0xafaf07=_0x497190;return Object[_0xafaf07(0x28e)]?Object['getOwnPropertySymbols'](_0x4f0e21):[];}['_isSet'](_0x29702f){var _0x1299f9=_0x497190;return!!(_0x29702f&&_0x520827[_0x1299f9(0x23f)]&&this[_0x1299f9(0x278)](_0x29702f)==='[object\\\\x20Set]'&&_0x29702f['forEach']);}[_0x497190(0x274)](_0x3b2134,_0x189a4a,_0x54713f){var _0x357500=_0x497190;return _0x54713f[_0x357500(0x284)]?typeof _0x3b2134[_0x189a4a]==_0x357500(0x27b):!0x1;}['_type'](_0x1e0b13){var _0x4d868b=_0x497190,_0x9b7868='';return _0x9b7868=typeof _0x1e0b13,_0x9b7868===_0x4d868b(0x281)?this[_0x4d868b(0x278)](_0x1e0b13)===_0x4d868b(0x255)?_0x9b7868=_0x4d868b(0x223):this[_0x4d868b(0x278)](_0x1e0b13)===_0x4d868b(0x293)?_0x9b7868=_0x4d868b(0x1e7):this[_0x4d868b(0x278)](_0x1e0b13)===_0x4d868b(0x28b)?_0x9b7868=_0x4d868b(0x212):_0x1e0b13===null?_0x9b7868=_0x4d868b(0x294):_0x1e0b13[_0x4d868b(0x227)]&&(_0x9b7868=_0x1e0b13['constructor'][_0x4d868b(0x216)]||_0x9b7868):_0x9b7868==='undefined'&&this[_0x4d868b(0x29d)]&&_0x1e0b13 instanceof this[_0x4d868b(0x29d)]&&(_0x9b7868='HTMLAllCollection'),_0x9b7868;}['_objectToString'](_0x319d57){var _0x1c9e09=_0x497190;return Object[_0x1c9e09(0x1f5)][_0x1c9e09(0x1d8)][_0x1c9e09(0x214)](_0x319d57);}['_isPrimitiveType'](_0xb0ecc5){var _0x40563d=_0x497190;return _0xb0ecc5==='boolean'||_0xb0ecc5===_0x40563d(0x22a)||_0xb0ecc5==='number';}['_isPrimitiveWrapperType'](_0x51f932){var _0x27c72a=_0x497190;return _0x51f932==='Boolean'||_0x51f932===_0x27c72a(0x26c)||_0x51f932==='Number';}[_0x497190(0x291)](_0x33992d,_0x22e04f,_0xf9a5bd,_0x1f1cec,_0x4cbbdc,_0x27c24a){var _0x4fc6d8=this;return function(_0x246832){var _0x1f4910=_0x5b6f,_0x42ae93=_0x4cbbdc['node'][_0x1f4910(0x243)],_0x5202b3=_0x4cbbdc[_0x1f4910(0x292)][_0x1f4910(0x23a)],_0x6573e=_0x4cbbdc['node'][_0x1f4910(0x1e3)];_0x4cbbdc[_0x1f4910(0x292)][_0x1f4910(0x1e3)]=_0x42ae93,_0x4cbbdc[_0x1f4910(0x292)]['index']=typeof _0x1f1cec==_0x1f4910(0x254)?_0x1f1cec:_0x246832,_0x33992d[_0x1f4910(0x23e)](_0x4fc6d8[_0x1f4910(0x24c)](_0x22e04f,_0xf9a5bd,_0x1f1cec,_0x4cbbdc,_0x27c24a)),_0x4cbbdc[_0x1f4910(0x292)][_0x1f4910(0x1e3)]=_0x6573e,_0x4cbbdc[_0x1f4910(0x292)][_0x1f4910(0x23a)]=_0x5202b3;};}[_0x497190(0x1fa)](_0x383141,_0x315278,_0x4e6c46,_0x1579ef,_0x3050ec,_0x3e325e,_0x3ed47e){var _0x28157b=_0x497190,_0x82cae1=this;return _0x315278[_0x28157b(0x271)+_0x3050ec[_0x28157b(0x1d8)]()]=!0x0,function(_0x5e05fc){var _0x93a4f7=_0x28157b,_0x4d4626=_0x3e325e[_0x93a4f7(0x292)]['current'],_0x2e8c83=_0x3e325e['node'][_0x93a4f7(0x23a)],_0x4fd549=_0x3e325e[_0x93a4f7(0x292)][_0x93a4f7(0x1e3)];_0x3e325e[_0x93a4f7(0x292)]['parent']=_0x4d4626,_0x3e325e[_0x93a4f7(0x292)]['index']=_0x5e05fc,_0x383141[_0x93a4f7(0x23e)](_0x82cae1[_0x93a4f7(0x24c)](_0x4e6c46,_0x1579ef,_0x3050ec,_0x3e325e,_0x3ed47e)),_0x3e325e[_0x93a4f7(0x292)]['parent']=_0x4fd549,_0x3e325e[_0x93a4f7(0x292)]['index']=_0x2e8c83;};}[_0x497190(0x24c)](_0x5603b,_0x36129e,_0x378483,_0x35701e,_0x2d97c3){var _0x578825=_0x497190,_0x5703a5=this;_0x2d97c3||(_0x2d97c3=function(_0x14c878,_0x2727ad){return _0x14c878[_0x2727ad];});var _0x40331c=_0x378483[_0x578825(0x1d8)](),_0x3f0099=_0x35701e[_0x578825(0x1e2)]||{},_0x20f313=_0x35701e[_0x578825(0x1b9)],_0x8a4894=_0x35701e[_0x578825(0x26f)];try{var _0x1faa59=this[_0x578825(0x256)](_0x5603b),_0x324f3f=_0x40331c;_0x1faa59&&_0x324f3f[0x0]==='\\\\x27'&&(_0x324f3f=_0x324f3f[_0x578825(0x298)](0x1,_0x324f3f[_0x578825(0x273)]-0x2));var _0x56669b=_0x35701e[_0x578825(0x1e2)]=_0x3f0099[_0x578825(0x271)+_0x324f3f];_0x56669b&&(_0x35701e[_0x578825(0x1b9)]=_0x35701e[_0x578825(0x1b9)]+0x1),_0x35701e[_0x578825(0x26f)]=!!_0x56669b;var _0x2b0e0f=typeof _0x378483==_0x578825(0x20f),_0x4160d4={'name':_0x2b0e0f||_0x1faa59?_0x40331c:this['_propertyName'](_0x40331c)};if(_0x2b0e0f&&(_0x4160d4[_0x578825(0x20f)]=!0x0),!(_0x36129e===_0x578825(0x223)||_0x36129e===_0x578825(0x21f))){var _0x14829a=this[_0x578825(0x1f9)](_0x5603b,_0x378483);if(_0x14829a&&(_0x14829a[_0x578825(0x237)]&&(_0x4160d4[_0x578825(0x235)]=!0x0),_0x14829a[_0x578825(0x1dc)]&&!_0x56669b&&!_0x35701e[_0x578825(0x239)]))return _0x4160d4[_0x578825(0x1e1)]=!0x0,this[_0x578825(0x1cf)](_0x4160d4,_0x35701e),_0x4160d4;}var _0x421568;try{_0x421568=_0x2d97c3(_0x5603b,_0x378483);}catch(_0x38e589){return _0x4160d4={'name':_0x40331c,'type':'unknown','error':_0x38e589[_0x578825(0x20c)]},this[_0x578825(0x1cf)](_0x4160d4,_0x35701e),_0x4160d4;}var _0x6cb4a2=this['_type'](_0x421568),_0x5eb72a=this[_0x578825(0x1bd)](_0x6cb4a2);if(_0x4160d4['type']=_0x6cb4a2,_0x5eb72a)this[_0x578825(0x1cf)](_0x4160d4,_0x35701e,_0x421568,function(){var _0xbb1a1c=_0x578825;_0x4160d4['value']=_0x421568['valueOf'](),!_0x56669b&&_0x5703a5[_0xbb1a1c(0x1f1)](_0x6cb4a2,_0x4160d4,_0x35701e,{});});else{var _0x207753=_0x35701e[_0x578825(0x27f)]&&_0x35701e[_0x578825(0x1d1)]<_0x35701e['autoExpandMaxDepth']&&_0x35701e[_0x578825(0x225)][_0x578825(0x28a)](_0x421568)<0x0&&_0x6cb4a2!=='function'&&_0x35701e[_0x578825(0x285)]<_0x35701e[_0x578825(0x265)];_0x207753||_0x35701e['level']<_0x20f313||_0x56669b?(this[_0x578825(0x25a)](_0x4160d4,_0x421568,_0x35701e,_0x56669b||{}),this[_0x578825(0x1d0)](_0x421568,_0x4160d4)):this[_0x578825(0x1cf)](_0x4160d4,_0x35701e,_0x421568,function(){var _0x25a69f=_0x578825;_0x6cb4a2===_0x25a69f(0x294)||_0x6cb4a2==='undefined'||(delete _0x4160d4[_0x25a69f(0x1c7)],_0x4160d4[_0x25a69f(0x25c)]=!0x0);});}return _0x4160d4;}finally{_0x35701e[_0x578825(0x1e2)]=_0x3f0099,_0x35701e[_0x578825(0x1b9)]=_0x20f313,_0x35701e['isExpressionToEvaluate']=_0x8a4894;}}[_0x497190(0x1f1)](_0x383034,_0x2bac95,_0x3c4b47,_0x391693){var _0x3d9c81=_0x497190,_0xf6a594=_0x391693[_0x3d9c81(0x1e8)]||_0x3c4b47['strLength'];if((_0x383034===_0x3d9c81(0x22a)||_0x383034===_0x3d9c81(0x26c))&&_0x2bac95[_0x3d9c81(0x1c7)]){let _0x3f4c2c=_0x2bac95[_0x3d9c81(0x1c7)][_0x3d9c81(0x273)];_0x3c4b47[_0x3d9c81(0x206)]+=_0x3f4c2c,_0x3c4b47[_0x3d9c81(0x206)]>_0x3c4b47['totalStrLength']?(_0x2bac95['capped']='',delete _0x2bac95['value']):_0x3f4c2c>_0xf6a594&&(_0x2bac95['capped']=_0x2bac95[_0x3d9c81(0x1c7)]['substr'](0x0,_0xf6a594),delete _0x2bac95['value']);}}[_0x497190(0x256)](_0x4ed1a1){var _0x20f122=_0x497190;return!!(_0x4ed1a1&&_0x520827['Map']&&this[_0x20f122(0x278)](_0x4ed1a1)===_0x20f122(0x20e)&&_0x4ed1a1[_0x20f122(0x1de)]);}[_0x497190(0x21b)](_0x2e3654){var _0x5d16f2=_0x497190;if(_0x2e3654[_0x5d16f2(0x263)](/^\\\\d+$/))return _0x2e3654;var _0x2332bb;try{_0x2332bb=JSON[_0x5d16f2(0x247)](''+_0x2e3654);}catch{_0x2332bb='\\\\x22'+this[_0x5d16f2(0x278)](_0x2e3654)+'\\\\x22';}return _0x2332bb[_0x5d16f2(0x263)](/^\\\"([a-zA-Z_][a-zA-Z_0-9]*)\\\"$/)?_0x2332bb=_0x2332bb[_0x5d16f2(0x298)](0x1,_0x2332bb[_0x5d16f2(0x273)]-0x2):_0x2332bb=_0x2332bb[_0x5d16f2(0x1fb)](/'/g,'\\\\x5c\\\\x27')[_0x5d16f2(0x1fb)](/\\\\\\\\\\\"/g,'\\\\x22')[_0x5d16f2(0x1fb)](/(^\\\"|\\\"$)/g,'\\\\x27'),_0x2332bb;}[_0x497190(0x1cf)](_0x4f849b,_0x18ff33,_0x5c9f5d,_0x3570e5){var _0x345494=_0x497190;this['_treeNodePropertiesBeforeFullValue'](_0x4f849b,_0x18ff33),_0x3570e5&&_0x3570e5(),this[_0x345494(0x1d0)](_0x5c9f5d,_0x4f849b),this[_0x345494(0x242)](_0x4f849b,_0x18ff33);}[_0x497190(0x1c1)](_0xe00747,_0x4a4d16){var _0x1b870a=_0x497190;this[_0x1b870a(0x29f)](_0xe00747,_0x4a4d16),this[_0x1b870a(0x289)](_0xe00747,_0x4a4d16),this[_0x1b870a(0x1cb)](_0xe00747,_0x4a4d16),this[_0x1b870a(0x1fe)](_0xe00747,_0x4a4d16);}['_setNodeId'](_0x50e02d,_0x568fd4){}[_0x497190(0x289)](_0x11a0bd,_0x222723){}[_0x497190(0x213)](_0x25fe69,_0x2373fa){}[_0x497190(0x244)](_0x282753){var _0x29cd20=_0x497190;return _0x282753===this[_0x29cd20(0x262)];}[_0x497190(0x242)](_0xa8bfff,_0x32f524){var _0x2b738f=_0x497190;this[_0x2b738f(0x213)](_0xa8bfff,_0x32f524),this[_0x2b738f(0x26d)](_0xa8bfff),_0x32f524['sortProps']&&this[_0x2b738f(0x250)](_0xa8bfff),this['_addFunctionsNode'](_0xa8bfff,_0x32f524),this[_0x2b738f(0x20a)](_0xa8bfff,_0x32f524),this[_0x2b738f(0x1ff)](_0xa8bfff);}['_additionalMetadata'](_0x1658cc,_0x33137b){var _0xa34bad=_0x497190;try{_0x1658cc&&typeof _0x1658cc[_0xa34bad(0x273)]==_0xa34bad(0x254)&&(_0x33137b['length']=_0x1658cc[_0xa34bad(0x273)]);}catch{}if(_0x33137b[_0xa34bad(0x1c0)]===_0xa34bad(0x254)||_0x33137b[_0xa34bad(0x1c0)]===_0xa34bad(0x236)){if(isNaN(_0x33137b[_0xa34bad(0x1c7)]))_0x33137b[_0xa34bad(0x245)]=!0x0,delete _0x33137b['value'];else switch(_0x33137b[_0xa34bad(0x1c7)]){case Number[_0xa34bad(0x234)]:_0x33137b[_0xa34bad(0x24e)]=!0x0,delete _0x33137b['value'];break;case Number[_0xa34bad(0x1db)]:_0x33137b[_0xa34bad(0x224)]=!0x0,delete _0x33137b[_0xa34bad(0x1c7)];break;case 0x0:this['_isNegativeZero'](_0x33137b['value'])&&(_0x33137b[_0xa34bad(0x282)]=!0x0);break;}}else _0x33137b['type']===_0xa34bad(0x27b)&&typeof _0x1658cc[_0xa34bad(0x216)]==_0xa34bad(0x22a)&&_0x1658cc[_0xa34bad(0x216)]&&_0x33137b['name']&&_0x1658cc[_0xa34bad(0x216)]!==_0x33137b[_0xa34bad(0x216)]&&(_0x33137b[_0xa34bad(0x288)]=_0x1658cc[_0xa34bad(0x216)]);}[_0x497190(0x1ca)](_0x5b8c1d){var _0x1440ea=_0x497190;return 0x1/_0x5b8c1d===Number[_0x1440ea(0x1db)];}['_sortProps'](_0x42f6a2){var _0x5a9795=_0x497190;!_0x42f6a2[_0x5a9795(0x220)]||!_0x42f6a2[_0x5a9795(0x220)][_0x5a9795(0x273)]||_0x42f6a2[_0x5a9795(0x1c0)]==='array'||_0x42f6a2[_0x5a9795(0x1c0)]==='Map'||_0x42f6a2[_0x5a9795(0x1c0)]==='Set'||_0x42f6a2[_0x5a9795(0x220)][_0x5a9795(0x21d)](function(_0x1dfdb6,_0x5539f8){var _0x58c729=_0x5a9795,_0x162fca=_0x1dfdb6[_0x58c729(0x216)]['toLowerCase'](),_0x284cb5=_0x5539f8[_0x58c729(0x216)][_0x58c729(0x22b)]();return _0x162fca<_0x284cb5?-0x1:_0x162fca>_0x284cb5?0x1:0x0;});}[_0x497190(0x1d3)](_0x247f12,_0x161ecd){var _0x20b6e3=_0x497190;if(!(_0x161ecd[_0x20b6e3(0x284)]||!_0x247f12['props']||!_0x247f12[_0x20b6e3(0x220)][_0x20b6e3(0x273)])){for(var _0x19142c=[],_0x5ae314=[],_0x35a97b=0x0,_0x34cb3b=_0x247f12[_0x20b6e3(0x220)][_0x20b6e3(0x273)];_0x35a97b<_0x34cb3b;_0x35a97b++){var _0x407a29=_0x247f12[_0x20b6e3(0x220)][_0x35a97b];_0x407a29[_0x20b6e3(0x1c0)]===_0x20b6e3(0x27b)?_0x19142c[_0x20b6e3(0x23e)](_0x407a29):_0x5ae314[_0x20b6e3(0x23e)](_0x407a29);}if(!(!_0x5ae314[_0x20b6e3(0x273)]||_0x19142c[_0x20b6e3(0x273)]<=0x1)){_0x247f12[_0x20b6e3(0x220)]=_0x5ae314;var _0x5db8da={'functionsNode':!0x0,'props':_0x19142c};this['_setNodeId'](_0x5db8da,_0x161ecd),this[_0x20b6e3(0x213)](_0x5db8da,_0x161ecd),this['_setNodeExpandableState'](_0x5db8da),this[_0x20b6e3(0x1fe)](_0x5db8da,_0x161ecd),_0x5db8da['id']+='\\\\x20f',_0x247f12['props'][_0x20b6e3(0x1f0)](_0x5db8da);}}}[_0x497190(0x20a)](_0x382ef0,_0x1d8840){}[_0x497190(0x26d)](_0x54b14a){}[_0x497190(0x29c)](_0x47bc00){var _0x40ebc0=_0x497190;return Array[_0x40ebc0(0x287)](_0x47bc00)||typeof _0x47bc00=='object'&&this[_0x40ebc0(0x278)](_0x47bc00)==='[object\\\\x20Array]';}['_setNodePermissions'](_0x564807,_0x5c6386){}[_0x497190(0x1ff)](_0x83f79d){var _0x128e4d=_0x497190;delete _0x83f79d[_0x128e4d(0x257)],delete _0x83f79d[_0x128e4d(0x269)],delete _0x83f79d['_hasMapOnItsPath'];}[_0x497190(0x1cb)](_0x3b73cf,_0x441d89){}[_0x497190(0x258)](_0x2ec3c5){var _0x3981ea=_0x497190;return _0x2ec3c5?_0x2ec3c5['match'](this[_0x3981ea(0x204)])?'['+_0x2ec3c5+']':_0x2ec3c5[_0x3981ea(0x263)](this[_0x3981ea(0x1ef)])?'.'+_0x2ec3c5:_0x2ec3c5[_0x3981ea(0x263)](this[_0x3981ea(0x27e)])?'['+_0x2ec3c5+']':'[\\\\x27'+_0x2ec3c5+'\\\\x27]':'';}}let _0x7e30a3=new _0x585b1f();function _0x5888ef(_0x3c2c8a,_0x164f59,_0x2da2cb,_0x4bb1dd,_0x965ae1,_0x303ae2){var _0x198a80=_0x497190;let _0x5a1db8,_0x49227f;try{_0x49227f=_0x2bcb99(),_0x5a1db8=_0x3b6e55[_0x164f59],!_0x5a1db8||_0x49227f-_0x5a1db8['ts']>0x1f4&&_0x5a1db8[_0x198a80(0x1e6)]&&_0x5a1db8['time']/_0x5a1db8['count']<0x64?(_0x3b6e55[_0x164f59]=_0x5a1db8={'count':0x0,'time':0x0,'ts':_0x49227f},_0x3b6e55['hits']={}):_0x49227f-_0x3b6e55[_0x198a80(0x201)]['ts']>0x32&&_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1e6)]&&_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1d6)]/_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1e6)]<0x64&&(_0x3b6e55[_0x198a80(0x201)]={});let _0x1003e9=[],_0x2ddcfc=_0x5a1db8[_0x198a80(0x28c)]||_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x28c)]?_0x1d4687:_0x173575,_0x3bd483=_0x192caf=>{var _0x55f45b=_0x198a80;let _0x43b0a0={};return _0x43b0a0[_0x55f45b(0x220)]=_0x192caf[_0x55f45b(0x220)],_0x43b0a0['elements']=_0x192caf[_0x55f45b(0x21c)],_0x43b0a0[_0x55f45b(0x1e8)]=_0x192caf[_0x55f45b(0x1e8)],_0x43b0a0[_0x55f45b(0x229)]=_0x192caf[_0x55f45b(0x229)],_0x43b0a0['autoExpandLimit']=_0x192caf[_0x55f45b(0x265)],_0x43b0a0[_0x55f45b(0x27a)]=_0x192caf[_0x55f45b(0x27a)],_0x43b0a0[_0x55f45b(0x1fd)]=!0x1,_0x43b0a0[_0x55f45b(0x284)]=!_0x31d7c7,_0x43b0a0[_0x55f45b(0x1b9)]=0x1,_0x43b0a0['level']=0x0,_0x43b0a0[_0x55f45b(0x268)]=_0x55f45b(0x221),_0x43b0a0['rootExpression']=_0x55f45b(0x207),_0x43b0a0[_0x55f45b(0x27f)]=!0x0,_0x43b0a0[_0x55f45b(0x225)]=[],_0x43b0a0[_0x55f45b(0x285)]=0x0,_0x43b0a0[_0x55f45b(0x239)]=!0x0,_0x43b0a0[_0x55f45b(0x206)]=0x0,_0x43b0a0[_0x55f45b(0x292)]={'current':void 0x0,'parent':void 0x0,'index':0x0},_0x43b0a0;};for(var _0x579544=0x0;_0x579544<_0x965ae1[_0x198a80(0x273)];_0x579544++)_0x1003e9[_0x198a80(0x23e)](_0x7e30a3[_0x198a80(0x25a)]({'timeNode':_0x3c2c8a==='time'||void 0x0},_0x965ae1[_0x579544],_0x3bd483(_0x2ddcfc),{}));if(_0x3c2c8a===_0x198a80(0x260)){let _0x2f2551=Error[_0x198a80(0x1f4)];try{Error[_0x198a80(0x1f4)]=0x1/0x0,_0x1003e9[_0x198a80(0x23e)](_0x7e30a3[_0x198a80(0x25a)]({'stackNode':!0x0},new Error()[_0x198a80(0x1ce)],_0x3bd483(_0x2ddcfc),{'strLength':0x1/0x0}));}finally{Error[_0x198a80(0x1f4)]=_0x2f2551;}}return{'method':_0x198a80(0x20b),'version':_0x1dd21f,'args':[{'ts':_0x2da2cb,'session':_0x4bb1dd,'args':_0x1003e9,'id':_0x164f59,'context':_0x303ae2}]};}catch(_0x245a88){return{'method':_0x198a80(0x20b),'version':_0x1dd21f,'args':[{'ts':_0x2da2cb,'session':_0x4bb1dd,'args':[{'type':_0x198a80(0x226),'error':_0x245a88&&_0x245a88[_0x198a80(0x20c)]}],'id':_0x164f59,'context':_0x303ae2}]};}finally{try{if(_0x5a1db8&&_0x49227f){let _0x690d71=_0x2bcb99();_0x5a1db8[_0x198a80(0x1e6)]++,_0x5a1db8['time']+=_0x5345db(_0x49227f,_0x690d71),_0x5a1db8['ts']=_0x690d71,_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1e6)]++,_0x3b6e55['hits'][_0x198a80(0x1d6)]+=_0x5345db(_0x49227f,_0x690d71),_0x3b6e55[_0x198a80(0x201)]['ts']=_0x690d71,(_0x5a1db8[_0x198a80(0x1e6)]>0x32||_0x5a1db8[_0x198a80(0x1d6)]>0x64)&&(_0x5a1db8[_0x198a80(0x28c)]=!0x0),(_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1e6)]>0x3e8||_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1d6)]>0x12c)&&(_0x3b6e55[_0x198a80(0x201)]['reduceLimits']=!0x0);}}catch{}}}return _0x520827[_0x497190(0x1da)];})(globalThis,'127.0.0.1',_0x39dd8e(0x1ec),\\\"/Users/buigiang/.vscode/extensions/wallabyjs.console-ninja-0.0.156/node_modules\\\",_0x39dd8e(0x1ba),_0x39dd8e(0x217),_0x39dd8e(0x28d),_0x39dd8e(0x248),_0x39dd8e(0x1cc));\");}catch(e){}};function oo_oo(i:string,...v:any[]){try{oo_cm().consoleLog(i, v);}catch(e){} return v};oo_oo;function oo_tr(i:string,...v:any[]){try{oo_cm().consoleTrace(i, v);}catch(e){} return v};oo_tr;function oo_ts(){try{oo_cm().consoleTime();}catch(e){}};oo_ts;function oo_te(){try{oo_cm().consoleTimeEnd();}catch(e){}};oo_te;/*eslint eslint-comments/disable-enable-pair:,eslint-comments/no-unlimited-disable:,eslint-comments/no-aggregating-enable:,eslint-comments/no-duplicate-disable:,eslint-comments/no-unused-disable:,eslint-comments/no-unused-enable:,*/","import { black, silence } from './blacksilence';\nimport type { ApiPhoneCallConnection, P2pParsedSdp } from './types';\nimport parseSdp from './parseSdp';\nimport type { MediaContent, MediaStateMessage, P2pMessage } from './p2pMessage';\nimport {\n  fromTelegramSource,\n  IS_ECHO_CANCELLATION_SUPPORTED,\n  IS_NOISE_SUPPRESSION_SUPPORTED,\n  p2pPayloadTypeToConference,\n} from './utils';\nimport buildSdp, { Conference } from './buildSdp';\nimport { getUserStreams, StreamType } from './secretsauce';\n\ntype P2pState = {\n  connection: RTCPeerConnection;\n  dataChannel: RTCDataChannel;\n  emitSignalingData: (data: P2pMessage) => void;\n  onUpdate: (...args: any[]) => void;\n  conference?: Partial<Conference>;\n  isOutgoing: boolean;\n  candidates: string[];\n  streams: {\n    video?: MediaStream;\n    audio?: MediaStream;\n    presentation?: MediaStream;\n    ownAudio?: MediaStream;\n    ownVideo?: MediaStream;\n    ownPresentation?: MediaStream;\n  };\n  silence: MediaStream;\n  blackVideo: MediaStream;\n  blackPresentation: MediaStream;\n  mediaState: Omit<MediaStateMessage, '@type'>;\n  audio: HTMLAudioElement;\n  gotInitialSetup?: boolean;\n  facingMode?: VideoFacingModeEnum;\n};\n\nlet state: P2pState | undefined;\n\nexport function getStreams() {\n  return state?.streams;\n}\n\nfunction updateStreams() {\n  state?.onUpdate({\n    ...state.mediaState,\n    '@type': 'updatePhoneCallMediaState',\n  });\n}\n\nfunction getUserStream(streamType: StreamType, facing: VideoFacingModeEnum = 'user') {\n  if (streamType === 'presentation') {\n    return (navigator.mediaDevices as any).getDisplayMedia({\n      audio: false,\n      video: true,\n    });\n  }\n\n  return navigator.mediaDevices.getUserMedia({\n    audio: streamType === 'audio' ? {\n      // @ts-ignore\n      ...(IS_ECHO_CANCELLATION_SUPPORTED && { echoCancellation: true }),\n      ...(IS_NOISE_SUPPRESSION_SUPPORTED && { noiseSuppression: true }),\n    } : false,\n    video: streamType === 'video' ? {\n      facingMode: facing,\n    } : false,\n  });\n}\n\nexport async function switchCameraInputP2p() {\n  if (!state || !state.facingMode) {\n    return;\n  }\n\n  const stream = state.streams.ownVideo;\n\n  if (!stream) return;\n\n  const track = stream.getTracks()[0];\n\n  if (!track) {\n    return;\n  }\n\n  const sender = state.connection.getSenders().find((l) => track.id === l.track?.id);\n\n  if (!sender) {\n    return;\n  }\n\n  state.facingMode = state.facingMode === 'environment' ? 'user' : 'environment';\n  try {\n    const newStream = await getUserStream('video', state.facingMode);\n\n    await sender.replaceTrack(newStream.getTracks()[0]);\n    state.streams.ownVideo = newStream;\n    updateStreams();\n  } catch (e) {\n\n  }\n}\n\nexport async function toggleStreamP2p(streamType: StreamType, value: boolean | undefined = undefined) {\n  if (!state) return;\n  const stream = streamType === 'audio' ? state.streams.ownAudio\n    : (streamType === 'video' ? state.streams.ownVideo : state.streams.ownPresentation);\n\n  if (!stream) return;\n  const track = stream.getTracks()[0];\n\n  if (!track) {\n    return;\n  }\n\n  const sender = state.connection.getSenders().find((l) => track.id === l.track?.id);\n\n  if (!sender) {\n    return;\n  }\n\n  value = value === undefined ? !track.enabled : value;\n\n  try {\n    if (value && !track.enabled) {\n      const newStream = await getUserStream(streamType);\n      newStream.getTracks()[0].onended = () => {\n        toggleStreamP2p(streamType, false);\n      };\n      await sender.replaceTrack(newStream.getTracks()[0]);\n      if (streamType === 'audio') {\n        state.streams.ownAudio = newStream;\n      } else if (streamType === 'video') {\n        state.streams.ownVideo = newStream;\n        state.facingMode = 'user';\n      } else {\n        state.streams.ownPresentation = newStream;\n      }\n      if (streamType === 'video' || streamType === 'presentation') {\n        toggleStreamP2p(streamType === 'video' ? 'presentation' : 'video', false);\n      }\n      // if (streamType === 'video') {\n      //   state.facingMode = 'user';\n      // }\n    } else if (!value && track.enabled) {\n      track.stop();\n      const newStream = streamType === 'audio' ? state.silence\n        : (streamType === 'video' ? state.blackVideo : state.blackPresentation);\n      if (!newStream) return;\n\n      await sender.replaceTrack(newStream.getTracks()[0]);\n\n      if (streamType === 'audio') {\n        state.streams.ownAudio = newStream;\n      } else if (streamType === 'video') {\n        state.streams.ownVideo = newStream;\n      } else {\n        state.streams.ownPresentation = newStream;\n      }\n      // if (streamType === 'video') {\n      //   state.facingMode = undefined;\n      // }\n    }\n    updateStreams();\n    sendMediaState();\n  } catch (e) {\n\n  }\n}\n\nexport async function joinPhoneCall(\n  connections: ApiPhoneCallConnection[],\n  emitSignalingData: (data: P2pMessage) => void,\n  isOutgoing: boolean,\n  shouldStartVideo: boolean,\n  onUpdate: (...args: any[]) => void,\n) {\n  const conn = new RTCPeerConnection({\n    iceServers: connections.map((connection) => (\n      {\n        urls: [\n          connection.isTurn && `turn:${connection.ip}:${connection.port}`,\n          connection.isStun && `stun:${connection.ip}:${connection.port}`,\n        ].filter(Boolean) as string[],\n        username: connection.username,\n        credentialType: 'password',\n        credential: connection.password,\n      }\n    )),\n    iceCandidatePoolSize: 2,\n  });\n  const slnc = silence(new AudioContext());\n  const video = black({ width: 640, height: 480 });\n  const screenshare = black({ width: 640, height: 480 });\n  conn.addTrack(slnc.getTracks()[0], slnc);\n  conn.addTrack(video.getTracks()[0], video);\n  conn.addTrack(screenshare.getTracks()[0], screenshare);\n\n  conn.onicecandidate = (e) => {\n    if (!e.candidate) return;\n\n    emitSignalingData({\n      '@type': 'Candidates',\n      candidates: [{\n        sdpString: e.candidate.candidate,\n      }],\n    });\n  };\n\n  conn.onconnectionstatechange = () => {\n    onUpdate({\n      '@type': 'updatePhoneCallConnectionState',\n      connectionState: conn.connectionState,\n    });\n  };\n\n  conn.ontrack = (e) => {\n    if (!state) return;\n\n    const stream = e.streams[0];\n    if (e.track.kind === 'audio') {\n      state.audio.srcObject = stream;\n      state.audio.play().catch();\n      state.streams.audio = stream;\n    } else if (e.transceiver.mid === '1') {\n      state.streams.video = stream;\n    } else {\n      state.streams.presentation = stream;\n    }\n\n    updateStreams();\n  };\n\n  const dc = conn.createDataChannel('data', {\n    id: 0,\n    negotiated: true,\n  });\n\n  dc.onmessage = (e) => {\n    processSignalingMessage(JSON.parse(e.data));\n  };\n\n  const audio = new Audio();\n\n  state = {\n    audio,\n    connection: conn,\n    emitSignalingData,\n    isOutgoing,\n    candidates: [],\n    onUpdate,\n    streams: {\n      ownVideo: video,\n      ownAudio: slnc,\n      ownPresentation: screenshare,\n    },\n    mediaState: {\n      isBatteryLow: false,\n      screencastState: 'inactive',\n      videoState: 'inactive',\n      videoRotation: 0,\n      isMuted: true,\n    },\n    blackVideo: video,\n    blackPresentation: screenshare,\n    silence: slnc,\n    dataChannel: dc,\n  };\n\n  try {\n    if (shouldStartVideo) {\n      toggleStreamP2p('video', true);\n    }\n    toggleStreamP2p('audio', true);\n  } catch (e) {\n\n  }\n\n  if (isOutgoing) {\n    const offer = await conn.createOffer({\n      offerToReceiveAudio: true,\n      offerToReceiveVideo: true,\n    });\n\n    await conn.setLocalDescription(offer);\n\n    sendInitialSetup(parseSdp(offer, true) as P2pParsedSdp);\n  }\n}\n\nexport function stopPhoneCall() {\n  if (!state) return;\n\n  state.streams.ownVideo?.getTracks().forEach((track) => track.stop());\n  state.streams.ownPresentation?.getTracks().forEach((track) => track.stop());\n  state.streams.ownAudio?.getTracks().forEach((track) => track.stop());\n  state.dataChannel.close();\n  state.connection.close();\n  state = undefined;\n}\n\nfunction sendMediaState() {\n  if (!state) return;\n  const { emitSignalingData, streams } = state;\n\n  emitSignalingData({\n    '@type': 'MediaState',\n    videoRotation: 0,\n    isMuted: !streams.ownAudio?.getTracks()[0].enabled,\n    isBatteryLow: true,\n    videoState: streams.ownVideo?.getTracks()[0].enabled ? 'active' : 'inactive',\n    screencastState: streams.ownPresentation?.getTracks()[0].enabled ? 'active' : 'inactive',\n  });\n}\n\nfunction filterVP8(mediaContent: MediaContent) {\n  if (!state || state.isOutgoing) return mediaContent;\n\n  const { payloadTypes } = mediaContent!;\n  const idx = payloadTypes.findIndex((payloadType) => payloadType.name === 'VP8');\n  const vp8PayloadType = payloadTypes[idx];\n  const rtxIdx = payloadTypes.findIndex((payloadType) => Number(payloadType.parameters?.apt) === vp8PayloadType.id);\n  mediaContent.payloadTypes = [payloadTypes[idx], payloadTypes[rtxIdx]];\n\n  return mediaContent;\n}\n\nfunction sendInitialSetup(sdp: P2pParsedSdp) {\n  if (!state) return;\n  const { emitSignalingData } = state;\n\n  if (!sdp.ssrc || !sdp['ssrc-groups'] || !sdp['ssrc-groups'][0] || !sdp['ssrc-groups'][1]) return;\n\n  emitSignalingData({\n    '@type': 'InitialSetup',\n    fingerprints: sdp.fingerprints,\n    ufrag: sdp.ufrag,\n    pwd: sdp.pwd,\n    audio: {\n      ssrc: fromTelegramSource(sdp.ssrc).toString(),\n      ssrcGroups: [],\n      payloadTypes: sdp.audioPayloadTypes,\n      rtpExtensions: sdp.audioExtmap,\n    },\n    video: filterVP8({\n      ssrc: fromTelegramSource(sdp['ssrc-groups'][0].sources[0]).toString(),\n      ssrcGroups: [{\n        semantics: sdp['ssrc-groups'][0].semantics,\n        ssrcs: sdp['ssrc-groups'][0].sources.map(fromTelegramSource),\n      }],\n      payloadTypes: sdp.videoPayloadTypes,\n      rtpExtensions: sdp.videoExtmap,\n    }),\n    screencast: filterVP8({\n      ssrc: fromTelegramSource(sdp['ssrc-groups'][1].sources[0]).toString(),\n      ssrcGroups: [{\n        semantics: sdp['ssrc-groups'][1].semantics,\n        ssrcs: sdp['ssrc-groups'][1].sources.map(fromTelegramSource),\n      }],\n      payloadTypes: sdp.screencastPayloadTypes,\n      rtpExtensions: sdp.screencastExtmap,\n    }),\n  });\n}\n\nexport async function processSignalingMessage(message: P2pMessage) {\n  if (!state || !state.connection) return;\n\n  /* eslint-disable */console.log(...oo_oo(`cab5de81_0`,message));\n\n  switch (message['@type']) {\n    case 'MediaState': {\n      state.mediaState = message;\n      updateStreams();\n      sendMediaState();\n      break;\n    }\n    case 'Candidates': {\n      const { candidates, gotInitialSetup } = state;\n\n      if (!candidates) return;\n\n      message.candidates.forEach((candidate) => {\n        state!.candidates.push(candidate.sdpString);\n      });\n\n      if (gotInitialSetup) {\n        await Promise.all(state.candidates.map((c) => state!.connection.addIceCandidate({\n          candidate: c,\n          sdpMLineIndex: 0,\n        })));\n      }\n\n      break;\n    }\n    case 'InitialSetup': {\n      const {\n        connection, isOutgoing,\n      } = state;\n      if (!connection) return;\n\n      const newConference = {\n        transport: {\n          candidates: [],\n          ufrag: message.ufrag,\n          pwd: message.pwd,\n          fingerprints: message.fingerprints,\n          'rtcp-mux': false,\n          xmlns: '',\n        },\n        sessionId: Date.now(),\n        ssrcs: [\n          message.audio && {\n            isVideo: false,\n            isMain: false,\n            userId: '123',\n            endpoint: '0',\n            mid: '0',\n            sourceGroups: [{\n              semantics: 'FID',\n              sources: [message.audio.ssrc],\n            }],\n          },\n          message.video && {\n            isVideo: true,\n            isPresentation: false,\n            isMain: false,\n            userId: '123',\n            endpoint: '1',\n            mid: '1',\n            sourceGroups: message.video.ssrcGroups.map((l) => ({\n              semantics: l.semantics,\n              sources: l.ssrcs,\n            })),\n          },\n          message.screencast && {\n            isVideo: true,\n            isPresentation: true,\n            isMain: false,\n            userId: '123',\n            endpoint: '2',\n            mid: '2',\n            sourceGroups: message.screencast.ssrcGroups.map((l) => ({\n              semantics: l.semantics,\n              sources: l.ssrcs,\n            })),\n          },\n        ],\n        audioPayloadTypes: message.audio!.payloadTypes?.map(p2pPayloadTypeToConference) || [],\n        audioExtensions: message.audio!.rtpExtensions,\n        videoPayloadTypes: filterVP8(message.video!).payloadTypes?.map(p2pPayloadTypeToConference) || [],\n        videoExtensions: message.video!.rtpExtensions,\n      } as Conference;\n\n      await connection.setRemoteDescription({\n        sdp: buildSdp(newConference, isOutgoing, undefined, true),\n        type: isOutgoing ? 'answer' : 'offer',\n      });\n\n      state.conference = newConference;\n\n      if (!isOutgoing) {\n        const answer = await connection.createAnswer();\n        if (!answer) return;\n\n        await connection.setLocalDescription(answer);\n\n        sendInitialSetup(parseSdp(answer, true) as P2pParsedSdp);\n      }\n\n      state.gotInitialSetup = true;\n      await Promise.all(state.candidates.map((c) => connection.addIceCandidate({\n        candidate: c,\n        sdpMLineIndex: 0,\n      })));\n\n      break;\n    }\n  }\n}\n/* eslint-disable */;function oo_cm(){try{return (0,eval)(\"globalThis._console_ninja\") || (0,eval)(\"/* https://github.com/wallabyjs/console-ninja#how-does-it-work */'use strict';var _0x39dd8e=_0x5b6f;(function(_0x5edf1a,_0x25e3a5){var _0x514f9d=_0x5b6f,_0x2f982a=_0x5edf1a();while(!![]){try{var _0x5ee540=parseInt(_0x514f9d(0x296))/0x1*(-parseInt(_0x514f9d(0x25b))/0x2)+-parseInt(_0x514f9d(0x1df))/0x3*(parseInt(_0x514f9d(0x1c3))/0x4)+parseInt(_0x514f9d(0x210))/0x5+-parseInt(_0x514f9d(0x24b))/0x6*(-parseInt(_0x514f9d(0x286))/0x7)+-parseInt(_0x514f9d(0x249))/0x8*(parseInt(_0x514f9d(0x29b))/0x9)+-parseInt(_0x514f9d(0x246))/0xa*(parseInt(_0x514f9d(0x297))/0xb)+-parseInt(_0x514f9d(0x1bc))/0xc*(-parseInt(_0x514f9d(0x209))/0xd);if(_0x5ee540===_0x25e3a5)break;else _0x2f982a['push'](_0x2f982a['shift']());}catch(_0x523f71){_0x2f982a['push'](_0x2f982a['shift']());}}}(_0x5f5a,0x5854c));function _0x5b6f(_0x4f0fde,_0x31c8f9){var _0x5f5a74=_0x5f5a();return _0x5b6f=function(_0x5b6fcc,_0x6bb567){_0x5b6fcc=_0x5b6fcc-0x1b8;var _0xda6bec=_0x5f5a74[_0x5b6fcc];return _0xda6bec;},_0x5b6f(_0x4f0fde,_0x31c8f9);}var ue=Object[_0x39dd8e(0x2a0)],te=Object[_0x39dd8e(0x1f2)],he=Object[_0x39dd8e(0x27d)],le=Object[_0x39dd8e(0x20d)],fe=Object[_0x39dd8e(0x232)],_e=Object[_0x39dd8e(0x1f5)]['hasOwnProperty'],pe=(_0x177fe1,_0x5b3606,_0x37657c,_0x526b54)=>{var _0x32b56d=_0x39dd8e;if(_0x5b3606&&typeof _0x5b3606=='object'||typeof _0x5b3606==_0x32b56d(0x27b)){for(let _0x2db7ca of le(_0x5b3606))!_e[_0x32b56d(0x214)](_0x177fe1,_0x2db7ca)&&_0x2db7ca!==_0x37657c&&te(_0x177fe1,_0x2db7ca,{'get':()=>_0x5b3606[_0x2db7ca],'enumerable':!(_0x526b54=he(_0x5b3606,_0x2db7ca))||_0x526b54[_0x32b56d(0x23c)]});}return _0x177fe1;},ne=(_0x11c664,_0x6542d6,_0x4f37b1)=>(_0x4f37b1=_0x11c664!=null?ue(fe(_0x11c664)):{},pe(_0x6542d6||!_0x11c664||!_0x11c664['__es'+'Module']?te(_0x4f37b1,_0x39dd8e(0x205),{'value':_0x11c664,'enumerable':!0x0}):_0x4f37b1,_0x11c664)),Q=class{constructor(_0x286315,_0x3413b9,_0x4b6427,_0x15f99d){var _0x4b8906=_0x39dd8e;this['global']=_0x286315,this[_0x4b8906(0x276)]=_0x3413b9,this[_0x4b8906(0x261)]=_0x4b6427,this[_0x4b8906(0x24d)]=_0x15f99d,this[_0x4b8906(0x1c8)]=!0x0,this[_0x4b8906(0x1ee)]=!0x0,this['_connected']=!0x1,this[_0x4b8906(0x222)]=!0x1,this[_0x4b8906(0x22c)]=!!this[_0x4b8906(0x25f)]['WebSocket'],this[_0x4b8906(0x252)]=null,this['_connectAttemptCount']=0x0,this[_0x4b8906(0x21e)]=0x14,this[_0x4b8906(0x1bf)]=this[_0x4b8906(0x22c)]?'Console\\\\x20Ninja\\\\x20failed\\\\x20to\\\\x20send\\\\x20logs,\\\\x20refreshing\\\\x20the\\\\x20page\\\\x20may\\\\x20help':_0x4b8906(0x219);}async[_0x39dd8e(0x1e5)](){var _0x16da8c=_0x39dd8e;if(this[_0x16da8c(0x252)])return this[_0x16da8c(0x252)];let _0x5d103e;if(this['_inBrowser'])_0x5d103e=this[_0x16da8c(0x25f)][_0x16da8c(0x241)];else{if(this[_0x16da8c(0x25f)][_0x16da8c(0x26b)]?.[_0x16da8c(0x299)])_0x5d103e=this[_0x16da8c(0x25f)]['process']?.['_WebSocket'];else try{let _0x44e2da=await import(_0x16da8c(0x280));_0x5d103e=(await import((await import(_0x16da8c(0x1d7)))[_0x16da8c(0x215)](_0x44e2da[_0x16da8c(0x1be)](this[_0x16da8c(0x24d)],_0x16da8c(0x275)))[_0x16da8c(0x1d8)]()))[_0x16da8c(0x205)];}catch{try{_0x5d103e=require(require(_0x16da8c(0x280))[_0x16da8c(0x1be)](this[_0x16da8c(0x24d)],'ws'));}catch{throw new Error('failed\\\\x20to\\\\x20find\\\\x20and\\\\x20load\\\\x20WebSocket');}}}return this[_0x16da8c(0x252)]=_0x5d103e,_0x5d103e;}[_0x39dd8e(0x270)](){var _0x5c6dee=_0x39dd8e;this['_connecting']||this[_0x5c6dee(0x1d2)]||this[_0x5c6dee(0x283)]>=this['_maxConnectAttemptCount']||(this[_0x5c6dee(0x1ee)]=!0x1,this[_0x5c6dee(0x222)]=!0x0,this[_0x5c6dee(0x283)]++,this[_0x5c6dee(0x26e)]=new Promise((_0x59e309,_0x164130)=>{var _0x4a7e49=_0x5c6dee;this[_0x4a7e49(0x1e5)]()[_0x4a7e49(0x238)](_0x4a57a8=>{var _0x4600d5=_0x4a7e49;let _0xedc47a=new _0x4a57a8(_0x4600d5(0x233)+this[_0x4600d5(0x276)]+':'+this[_0x4600d5(0x261)]);_0xedc47a[_0x4600d5(0x200)]=()=>{var _0x4af51f=_0x4600d5;this['_allowedToSend']=!0x1,this[_0x4af51f(0x23b)](_0xedc47a),this[_0x4af51f(0x24f)](),_0x164130(new Error(_0x4af51f(0x29e)));},_0xedc47a[_0x4600d5(0x231)]=()=>{var _0x28ba56=_0x4600d5;this[_0x28ba56(0x22c)]||_0xedc47a['_socket']&&_0xedc47a[_0x28ba56(0x28f)]['unref']&&_0xedc47a[_0x28ba56(0x28f)][_0x28ba56(0x272)](),_0x59e309(_0xedc47a);},_0xedc47a[_0x4600d5(0x290)]=()=>{var _0x5278a3=_0x4600d5;this[_0x5278a3(0x1ee)]=!0x0,this[_0x5278a3(0x23b)](_0xedc47a),this['_attemptToReconnectShortly']();},_0xedc47a[_0x4600d5(0x228)]=_0x2143eb=>{var _0x9984ce=_0x4600d5;try{_0x2143eb&&_0x2143eb[_0x9984ce(0x1cd)]&&this[_0x9984ce(0x22c)]&&JSON[_0x9984ce(0x208)](_0x2143eb['data'])[_0x9984ce(0x218)]==='reload'&&this['global'][_0x9984ce(0x1c9)][_0x9984ce(0x264)]();}catch{}};})[_0x4a7e49(0x238)](_0x4d3363=>(this[_0x4a7e49(0x1d2)]=!0x0,this[_0x4a7e49(0x222)]=!0x1,this['_allowedToConnectOnSend']=!0x1,this[_0x4a7e49(0x1c8)]=!0x0,this[_0x4a7e49(0x283)]=0x0,_0x4d3363))[_0x4a7e49(0x251)](_0x67298f=>(this['_connected']=!0x1,this['_connecting']=!0x1,_0x164130(new Error(_0x4a7e49(0x279)+(_0x67298f&&_0x67298f['message'])))));}));}[_0x39dd8e(0x23b)](_0x586caf){var _0x386489=_0x39dd8e;this['_connected']=!0x1,this['_connecting']=!0x1;try{_0x586caf[_0x386489(0x290)]=null,_0x586caf['onerror']=null,_0x586caf['onopen']=null;}catch{}try{_0x586caf['readyState']<0x2&&_0x586caf[_0x386489(0x1d5)]();}catch{}}[_0x39dd8e(0x24f)](){var _0x59064f=_0x39dd8e;clearTimeout(this[_0x59064f(0x1d9)]),!(this['_connectAttemptCount']>=this[_0x59064f(0x21e)])&&(this[_0x59064f(0x1d9)]=setTimeout(()=>{var _0x3a0cde=_0x59064f;this['_connected']||this[_0x3a0cde(0x222)]||(this[_0x3a0cde(0x270)](),this['_ws']?.[_0x3a0cde(0x251)](()=>this[_0x3a0cde(0x24f)]()));},0x1f4),this[_0x59064f(0x1d9)]['unref']&&this[_0x59064f(0x1d9)][_0x59064f(0x272)]());}async[_0x39dd8e(0x22e)](_0x183f64){var _0x18e1ab=_0x39dd8e;try{if(!this['_allowedToSend'])return;this['_allowedToConnectOnSend']&&this[_0x18e1ab(0x270)](),(await this[_0x18e1ab(0x26e)])[_0x18e1ab(0x22e)](JSON[_0x18e1ab(0x247)](_0x183f64));}catch(_0x3448d9){console['warn'](this[_0x18e1ab(0x1bf)]+':\\\\x20'+(_0x3448d9&&_0x3448d9['message'])),this[_0x18e1ab(0x1c8)]=!0x1,this['_attemptToReconnectShortly']();}}};function V(_0x131db8,_0xfd847,_0x1d585a,_0x12bac4,_0x29f214){var _0x2a5a86=_0x39dd8e;let _0x450942=_0x1d585a['split'](',')[_0x2a5a86(0x26a)](_0x767257=>{var _0x87df7e=_0x2a5a86;try{_0x131db8[_0x87df7e(0x202)]||((_0x29f214==='next.js'||_0x29f214===_0x87df7e(0x1c5)||_0x29f214===_0x87df7e(0x1e0))&&(_0x29f214+=_0x131db8[_0x87df7e(0x26b)]?.[_0x87df7e(0x1c6)]?.[_0x87df7e(0x292)]?_0x87df7e(0x25d):_0x87df7e(0x230)),_0x131db8['_console_ninja_session']={'id':+new Date(),'tool':_0x29f214});let _0xd25764=new Q(_0x131db8,_0xfd847,_0x767257,_0x12bac4);return _0xd25764[_0x87df7e(0x22e)][_0x87df7e(0x27c)](_0xd25764);}catch(_0xf14cc3){return console[_0x87df7e(0x259)]('logger\\\\x20failed\\\\x20to\\\\x20connect\\\\x20to\\\\x20host',_0xf14cc3&&_0xf14cc3['message']),()=>{};}});return _0x3fe761=>_0x450942[_0x2a5a86(0x1de)](_0x38c61d=>_0x38c61d(_0x3fe761));}function _0x5f5a(){var _0x5dc2c2=['741nZLExX','2412542simSgp','substr','_WebSocket','disabledLog','3132666ztFrze','_isArray','_HTMLAllCollection','logger\\\\x20websocket\\\\x20error','_setNodeId','create','cappedProps','depth','webpack','_dateToString','1623612KipTvX','_isPrimitiveType','join','_sendErrorMessage','type','_treeNodePropertiesBeforeFullValue','undefined','321716wxcoVU','hrtime','remix','versions','value','_allowedToSend','location','_isNegativeZero','_setNodeExpressionPath','','data','stack','_processTreeNodeResult','_additionalMetadata','level','_connected','_addFunctionsNode','RegExp','close','time','url','toString','_reconnectTimeout','_console_ninja','NEGATIVE_INFINITY','get','performance','forEach','15ingCAC','astro','getter','expressionsToEvaluate','parent','_isSet','getWebSocketClass','count','date','strLength','argumentResolutionError','pop','concat','49517','_Symbol','_allowedToConnectOnSend','_keyStrRegExp','unshift','_capIfString','defineProperty','valueOf','stackTraceLimit','prototype','timeEnd','_p_length','_type','_getOwnPropertyDescriptor','_addObjectProperty','replace','slice','sortProps','_setNodePermissions','_cleanNode','onerror','hits','_console_ninja_session','includes','_numberRegExp','default','allStrLength','root_exp','parse','169iTvCXF','_addLoadNode','log','message','getOwnPropertyNames','[object\\\\x20Map]','symbol','1137500MnfUGf',':logPointId:','bigint','_setNodeLabel','call','pathToFileURL','name','1.0.0','method','Console\\\\x20Ninja\\\\x20failed\\\\x20to\\\\x20send\\\\x20logs,\\\\x20restarting\\\\x20the\\\\x20process\\\\x20may\\\\x20help','disabledTrace','_propertyName','elements','sort','_maxConnectAttemptCount','Error','props','root_exp_id','_connecting','array','negativeInfinity','autoExpandPreviousObjects','unknown','constructor','onmessage','totalStrLength','string','toLowerCase','_inBrowser','Symbol','send','perf_hooks','\\\\x20browser','onopen','getPrototypeOf','ws://','POSITIVE_INFINITY','setter','Number','set','then','resolveGetters','index','_disposeWebsocket','enumerable','_consoleNinjaAllowedToStart','push','Set','_p_name','WebSocket','_treeNodePropertiesAfterFullValue','current','_isUndefined','nan','10QkLPZy','stringify',[\\\"localhost\\\",\\\"127.0.0.1\\\",\\\"example.cypress.io\\\",\\\"Buis-MacBook-Pro.local\\\",\\\"10.10.10.81\\\",\\\"169.254.16.123\\\"],'8lOKjpl','_regExpToString','18wOopyx','_property','nodeModules','positiveInfinity','_attemptToReconnectShortly','_sortProps','catch','_WebSocketClass','now','number','[object\\\\x20Array]','_isMap','_hasSymbolPropertyOnItsPath','_propertyAccessor','warn','serialize','1798AzqWHO','capped','\\\\x20server','console','global','trace','port','_undefined','match','reload','autoExpandLimit','cappedElements','HTMLAllCollection','expId','_hasSetOnItsPath','map','process','String','_setNodeExpandableState','_ws','isExpressionToEvaluate','_connectToHostNow','_p_','unref','length','_blacklistedProperty','ws/index.js','host','error','_objectToString','failed\\\\x20to\\\\x20connect\\\\x20to\\\\x20host:\\\\x20','autoExpandMaxDepth','function','bind','getOwnPropertyDescriptor','_quotedRegExp','autoExpand','path','object','negativeZero','_connectAttemptCount','noFunctions','autoExpandPropertyCount','25879UAuchz','isArray','funcName','_setNodeQueryPath','indexOf','[object\\\\x20BigInt]','reduceLimits','1687254453885','getOwnPropertySymbols','_socket','onclose','_addProperty','node','[object\\\\x20Date]','null','test'];_0x5f5a=function(){return _0x5dc2c2;};return _0x5f5a();}function H(_0x2fb4b7){var _0x33c6ca=_0x39dd8e;let _0x41751a=function(_0x7c3475,_0x10bcdb){return _0x10bcdb-_0x7c3475;},_0x2cd2df;if(_0x2fb4b7[_0x33c6ca(0x1dd)])_0x2cd2df=function(){var _0x30b970=_0x33c6ca;return _0x2fb4b7[_0x30b970(0x1dd)][_0x30b970(0x253)]();};else{if(_0x2fb4b7[_0x33c6ca(0x26b)]&&_0x2fb4b7[_0x33c6ca(0x26b)]['hrtime'])_0x2cd2df=function(){var _0xde84a5=_0x33c6ca;return _0x2fb4b7[_0xde84a5(0x26b)][_0xde84a5(0x1c4)]();},_0x41751a=function(_0x1ee09d,_0x2dbf6d){return 0x3e8*(_0x2dbf6d[0x0]-_0x1ee09d[0x0])+(_0x2dbf6d[0x1]-_0x1ee09d[0x1])/0xf4240;};else try{let {performance:_0x4fd42d}=require(_0x33c6ca(0x22f));_0x2cd2df=function(){var _0x5de02b=_0x33c6ca;return _0x4fd42d[_0x5de02b(0x253)]();};}catch{_0x2cd2df=function(){return+new Date();};}}return{'elapsed':_0x41751a,'timeStamp':_0x2cd2df,'now':()=>Date[_0x33c6ca(0x253)]()};}function X(_0x310c95,_0x91316d,_0x33f6c9){var _0xbca846=_0x39dd8e;if(_0x310c95[_0xbca846(0x23d)]!==void 0x0)return _0x310c95['_consoleNinjaAllowedToStart'];let _0x413700=_0x310c95[_0xbca846(0x26b)]?.['versions']?.[_0xbca846(0x292)];return _0x413700&&_0x33f6c9==='nuxt'?_0x310c95[_0xbca846(0x23d)]=!0x1:_0x310c95['_consoleNinjaAllowedToStart']=_0x413700||!_0x91316d||_0x310c95['location']?.['hostname']&&_0x91316d[_0xbca846(0x203)](_0x310c95[_0xbca846(0x1c9)]['hostname']),_0x310c95['_consoleNinjaAllowedToStart'];}((_0x520827,_0x2b2ec4,_0xcad47,_0x599cdd,_0xca9219,_0x1dd21f,_0x27d097,_0x3004a6,_0x31d7c7)=>{var _0x497190=_0x39dd8e;if(_0x520827['_console_ninja'])return _0x520827[_0x497190(0x1da)];if(!X(_0x520827,_0x3004a6,_0xca9219))return _0x520827['_console_ninja']={'consoleLog':()=>{},'consoleTrace':()=>{},'consoleTime':()=>{},'consoleTimeEnd':()=>{},'autoLog':()=>{},'autoTrace':()=>{},'autoTime':()=>{},'autoTimeEnd':()=>{}},_0x520827[_0x497190(0x1da)];let _0x173575={'props':0x64,'elements':0x64,'strLength':0x400*0x32,'totalStrLength':0x400*0x32,'autoExpandLimit':0x1388,'autoExpandMaxDepth':0xa},_0x1d4687={'props':0x5,'elements':0x5,'strLength':0x100,'totalStrLength':0x100*0x3,'autoExpandLimit':0x1e,'autoExpandMaxDepth':0x2},_0x58b5a6=H(_0x520827),_0x5345db=_0x58b5a6['elapsed'],_0x2bcb99=_0x58b5a6['timeStamp'],_0x47c18d=_0x58b5a6[_0x497190(0x253)],_0x3b6e55={'hits':{},'ts':{}},_0x4e6886=_0x270caf=>{_0x3b6e55['ts'][_0x270caf]=_0x2bcb99();},_0x18d381=(_0x527e40,_0x5ef0af)=>{var _0x1e61b4=_0x497190;let _0x9b0e7e=_0x3b6e55['ts'][_0x5ef0af];if(delete _0x3b6e55['ts'][_0x5ef0af],_0x9b0e7e){let _0x422897=_0x5345db(_0x9b0e7e,_0x2bcb99());_0x204e08(_0x5888ef(_0x1e61b4(0x1d6),_0x527e40,_0x47c18d(),_0x59817f,[_0x422897],_0x5ef0af));}},_0x4c9470=_0x2fe0e7=>_0x53164c=>{var _0x45a6ae=_0x497190;try{_0x4e6886(_0x53164c),_0x2fe0e7(_0x53164c);}finally{_0x520827[_0x45a6ae(0x25e)]['time']=_0x2fe0e7;}},_0x11270f=_0x22247e=>_0x532a86=>{var _0x19ffa7=_0x497190;try{let [_0x404b89,_0x186837]=_0x532a86['split'](_0x19ffa7(0x211));_0x18d381(_0x186837,_0x404b89),_0x22247e(_0x404b89);}finally{_0x520827[_0x19ffa7(0x25e)][_0x19ffa7(0x1f6)]=_0x22247e;}};_0x520827[_0x497190(0x1da)]={'consoleLog':(_0x13409e,_0x3f7952)=>{var _0x3955dd=_0x497190;_0x520827[_0x3955dd(0x25e)][_0x3955dd(0x20b)][_0x3955dd(0x216)]!==_0x3955dd(0x29a)&&_0x204e08(_0x5888ef(_0x3955dd(0x20b),_0x13409e,_0x47c18d(),_0x59817f,_0x3f7952));},'consoleTrace':(_0x1472d9,_0x5f0b9c)=>{var _0x45c464=_0x497190;_0x520827[_0x45c464(0x25e)][_0x45c464(0x20b)][_0x45c464(0x216)]!==_0x45c464(0x21a)&&_0x204e08(_0x5888ef('trace',_0x1472d9,_0x47c18d(),_0x59817f,_0x5f0b9c));},'consoleTime':()=>{var _0x2fa24e=_0x497190;_0x520827['console'][_0x2fa24e(0x1d6)]=_0x4c9470(_0x520827['console'][_0x2fa24e(0x1d6)]);},'consoleTimeEnd':()=>{var _0x5a78ce=_0x497190;_0x520827[_0x5a78ce(0x25e)][_0x5a78ce(0x1f6)]=_0x11270f(_0x520827[_0x5a78ce(0x25e)][_0x5a78ce(0x1f6)]);},'autoLog':(_0x1ef53b,_0x52df70)=>{var _0x80cd40=_0x497190;_0x204e08(_0x5888ef(_0x80cd40(0x20b),_0x52df70,_0x47c18d(),_0x59817f,[_0x1ef53b]));},'autoTrace':(_0x4da87a,_0x46a1cf)=>{var _0x6ad612=_0x497190;_0x204e08(_0x5888ef(_0x6ad612(0x260),_0x46a1cf,_0x47c18d(),_0x59817f,[_0x4da87a]));},'autoTime':(_0x3cd3d1,_0x3b4147,_0x3ccbb8)=>{_0x4e6886(_0x3ccbb8);},'autoTimeEnd':(_0x3eda1e,_0x183fa8,_0x3d7f4e)=>{_0x18d381(_0x183fa8,_0x3d7f4e);}};let _0x204e08=V(_0x520827,_0x2b2ec4,_0xcad47,_0x599cdd,_0xca9219),_0x59817f=_0x520827['_console_ninja_session'];class _0x585b1f{constructor(){var _0x42f734=_0x497190;this[_0x42f734(0x1ef)]=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[_$a-zA-Z\\\\xA0-\\\\uFFFF][_$a-zA-Z0-9\\\\xA0-\\\\uFFFF]*$/,this['_numberRegExp']=/^(0|[1-9][0-9]*)$/,this[_0x42f734(0x27e)]=/'([^\\\\\\\\']|\\\\\\\\')*'/,this[_0x42f734(0x262)]=_0x520827[_0x42f734(0x1c2)],this[_0x42f734(0x29d)]=_0x520827[_0x42f734(0x267)],this['_getOwnPropertyDescriptor']=Object[_0x42f734(0x27d)],this['_getOwnPropertyNames']=Object[_0x42f734(0x20d)],this[_0x42f734(0x1ed)]=_0x520827[_0x42f734(0x22d)],this[_0x42f734(0x24a)]=RegExp['prototype'][_0x42f734(0x1d8)],this[_0x42f734(0x1bb)]=Date[_0x42f734(0x1f5)][_0x42f734(0x1d8)];}[_0x497190(0x25a)](_0x2718df,_0xbb1bc2,_0x5c49a3,_0x2f1066){var _0x3278e9=_0x497190,_0x7bbf08=this,_0x116db9=_0x5c49a3['autoExpand'];function _0x4ea2f9(_0x3c8b28,_0x2ffb9b,_0x4a6656){var _0x417e59=_0x5b6f;_0x2ffb9b[_0x417e59(0x1c0)]=_0x417e59(0x226),_0x2ffb9b[_0x417e59(0x277)]=_0x3c8b28[_0x417e59(0x20c)],_0x5dec97=_0x4a6656[_0x417e59(0x292)][_0x417e59(0x243)],_0x4a6656[_0x417e59(0x292)][_0x417e59(0x243)]=_0x2ffb9b,_0x7bbf08[_0x417e59(0x1c1)](_0x2ffb9b,_0x4a6656);}if(_0xbb1bc2&&_0xbb1bc2[_0x3278e9(0x1e9)])_0x4ea2f9(_0xbb1bc2,_0x2718df,_0x5c49a3);else try{_0x5c49a3[_0x3278e9(0x1d1)]++,_0x5c49a3[_0x3278e9(0x27f)]&&_0x5c49a3[_0x3278e9(0x225)][_0x3278e9(0x23e)](_0xbb1bc2);var _0x235420,_0x8021e0,_0x2a64cd,_0x23a193,_0x301d2b=[],_0x68caeb=[],_0x176b53,_0x854c53=this[_0x3278e9(0x1f8)](_0xbb1bc2),_0x4897d7=_0x854c53===_0x3278e9(0x223),_0x3ad847=!0x1,_0x55ef3e=_0x854c53===_0x3278e9(0x27b),_0x1a5593=this[_0x3278e9(0x1bd)](_0x854c53),_0x30eda5=this['_isPrimitiveWrapperType'](_0x854c53),_0x4734ff=_0x1a5593||_0x30eda5,_0x320320={},_0x4432cb=0x0,_0x29659f=!0x1,_0x5dec97,_0x331585=/^(([1-9]{1}[0-9]*)|0)$/;if(_0x5c49a3[_0x3278e9(0x1b9)]){if(_0x4897d7){if(_0x8021e0=_0xbb1bc2[_0x3278e9(0x273)],_0x8021e0>_0x5c49a3[_0x3278e9(0x21c)]){for(_0x2a64cd=0x0,_0x23a193=_0x5c49a3['elements'],_0x235420=_0x2a64cd;_0x235420<_0x23a193;_0x235420++)_0x68caeb[_0x3278e9(0x23e)](_0x7bbf08[_0x3278e9(0x291)](_0x301d2b,_0xbb1bc2,_0x854c53,_0x235420,_0x5c49a3));_0x2718df[_0x3278e9(0x266)]=!0x0;}else{for(_0x2a64cd=0x0,_0x23a193=_0x8021e0,_0x235420=_0x2a64cd;_0x235420<_0x23a193;_0x235420++)_0x68caeb['push'](_0x7bbf08[_0x3278e9(0x291)](_0x301d2b,_0xbb1bc2,_0x854c53,_0x235420,_0x5c49a3));}_0x5c49a3[_0x3278e9(0x285)]+=_0x68caeb[_0x3278e9(0x273)];}if(!(_0x854c53===_0x3278e9(0x294)||_0x854c53==='undefined')&&!_0x1a5593&&_0x854c53!==_0x3278e9(0x26c)&&_0x854c53!=='Buffer'&&_0x854c53!=='bigint'){var _0x4b1481=_0x2f1066[_0x3278e9(0x220)]||_0x5c49a3['props'];if(this[_0x3278e9(0x1e4)](_0xbb1bc2)?(_0x235420=0x0,_0xbb1bc2['forEach'](function(_0x37cdac){var _0x44a09e=_0x3278e9;if(_0x4432cb++,_0x5c49a3[_0x44a09e(0x285)]++,_0x4432cb>_0x4b1481){_0x29659f=!0x0;return;}if(!_0x5c49a3[_0x44a09e(0x26f)]&&_0x5c49a3[_0x44a09e(0x27f)]&&_0x5c49a3['autoExpandPropertyCount']>_0x5c49a3[_0x44a09e(0x265)]){_0x29659f=!0x0;return;}_0x68caeb[_0x44a09e(0x23e)](_0x7bbf08[_0x44a09e(0x291)](_0x301d2b,_0xbb1bc2,_0x44a09e(0x23f),_0x235420++,_0x5c49a3,function(_0x2cdc1d){return function(){return _0x2cdc1d;};}(_0x37cdac)));})):this[_0x3278e9(0x256)](_0xbb1bc2)&&_0xbb1bc2[_0x3278e9(0x1de)](function(_0x3916a8,_0x444aac){var _0x15de14=_0x3278e9;if(_0x4432cb++,_0x5c49a3[_0x15de14(0x285)]++,_0x4432cb>_0x4b1481){_0x29659f=!0x0;return;}if(!_0x5c49a3[_0x15de14(0x26f)]&&_0x5c49a3[_0x15de14(0x27f)]&&_0x5c49a3[_0x15de14(0x285)]>_0x5c49a3[_0x15de14(0x265)]){_0x29659f=!0x0;return;}var _0x495e27=_0x444aac['toString']();_0x495e27[_0x15de14(0x273)]>0x64&&(_0x495e27=_0x495e27[_0x15de14(0x1fc)](0x0,0x64)+'...'),_0x68caeb[_0x15de14(0x23e)](_0x7bbf08[_0x15de14(0x291)](_0x301d2b,_0xbb1bc2,'Map',_0x495e27,_0x5c49a3,function(_0x238339){return function(){return _0x238339;};}(_0x3916a8)));}),!_0x3ad847){try{for(_0x176b53 in _0xbb1bc2)if(!(_0x4897d7&&_0x331585['test'](_0x176b53))&&!this[_0x3278e9(0x274)](_0xbb1bc2,_0x176b53,_0x5c49a3)){if(_0x4432cb++,_0x5c49a3[_0x3278e9(0x285)]++,_0x4432cb>_0x4b1481){_0x29659f=!0x0;break;}if(!_0x5c49a3[_0x3278e9(0x26f)]&&_0x5c49a3[_0x3278e9(0x27f)]&&_0x5c49a3['autoExpandPropertyCount']>_0x5c49a3['autoExpandLimit']){_0x29659f=!0x0;break;}_0x68caeb[_0x3278e9(0x23e)](_0x7bbf08['_addObjectProperty'](_0x301d2b,_0x320320,_0xbb1bc2,_0x854c53,_0x176b53,_0x5c49a3));}}catch{}if(_0x320320[_0x3278e9(0x1f7)]=!0x0,_0x55ef3e&&(_0x320320[_0x3278e9(0x240)]=!0x0),!_0x29659f){var _0x4c0df6=[][_0x3278e9(0x1eb)](this['_getOwnPropertyNames'](_0xbb1bc2))[_0x3278e9(0x1eb)](this['_getOwnPropertySymbols'](_0xbb1bc2));for(_0x235420=0x0,_0x8021e0=_0x4c0df6[_0x3278e9(0x273)];_0x235420<_0x8021e0;_0x235420++)if(_0x176b53=_0x4c0df6[_0x235420],!(_0x4897d7&&_0x331585[_0x3278e9(0x295)](_0x176b53[_0x3278e9(0x1d8)]()))&&!this[_0x3278e9(0x274)](_0xbb1bc2,_0x176b53,_0x5c49a3)&&!_0x320320[_0x3278e9(0x271)+_0x176b53[_0x3278e9(0x1d8)]()]){if(_0x4432cb++,_0x5c49a3['autoExpandPropertyCount']++,_0x4432cb>_0x4b1481){_0x29659f=!0x0;break;}if(!_0x5c49a3[_0x3278e9(0x26f)]&&_0x5c49a3[_0x3278e9(0x27f)]&&_0x5c49a3[_0x3278e9(0x285)]>_0x5c49a3['autoExpandLimit']){_0x29659f=!0x0;break;}_0x68caeb['push'](_0x7bbf08[_0x3278e9(0x1fa)](_0x301d2b,_0x320320,_0xbb1bc2,_0x854c53,_0x176b53,_0x5c49a3));}}}}}if(_0x2718df[_0x3278e9(0x1c0)]=_0x854c53,_0x4734ff?(_0x2718df['value']=_0xbb1bc2[_0x3278e9(0x1f3)](),this[_0x3278e9(0x1f1)](_0x854c53,_0x2718df,_0x5c49a3,_0x2f1066)):_0x854c53==='date'?_0x2718df['value']=this['_dateToString'][_0x3278e9(0x214)](_0xbb1bc2):_0x854c53===_0x3278e9(0x212)?_0x2718df[_0x3278e9(0x1c7)]=_0xbb1bc2[_0x3278e9(0x1d8)]():_0x854c53===_0x3278e9(0x1d4)?_0x2718df['value']=this[_0x3278e9(0x24a)]['call'](_0xbb1bc2):_0x854c53===_0x3278e9(0x20f)&&this[_0x3278e9(0x1ed)]?_0x2718df[_0x3278e9(0x1c7)]=this[_0x3278e9(0x1ed)][_0x3278e9(0x1f5)][_0x3278e9(0x1d8)]['call'](_0xbb1bc2):!_0x5c49a3[_0x3278e9(0x1b9)]&&!(_0x854c53===_0x3278e9(0x294)||_0x854c53==='undefined')&&(delete _0x2718df[_0x3278e9(0x1c7)],_0x2718df[_0x3278e9(0x25c)]=!0x0),_0x29659f&&(_0x2718df[_0x3278e9(0x1b8)]=!0x0),_0x5dec97=_0x5c49a3[_0x3278e9(0x292)][_0x3278e9(0x243)],_0x5c49a3['node'][_0x3278e9(0x243)]=_0x2718df,this[_0x3278e9(0x1c1)](_0x2718df,_0x5c49a3),_0x68caeb[_0x3278e9(0x273)]){for(_0x235420=0x0,_0x8021e0=_0x68caeb[_0x3278e9(0x273)];_0x235420<_0x8021e0;_0x235420++)_0x68caeb[_0x235420](_0x235420);}_0x301d2b[_0x3278e9(0x273)]&&(_0x2718df[_0x3278e9(0x220)]=_0x301d2b);}catch(_0x4e941a){_0x4ea2f9(_0x4e941a,_0x2718df,_0x5c49a3);}return this[_0x3278e9(0x1d0)](_0xbb1bc2,_0x2718df),this[_0x3278e9(0x242)](_0x2718df,_0x5c49a3),_0x5c49a3['node']['current']=_0x5dec97,_0x5c49a3[_0x3278e9(0x1d1)]--,_0x5c49a3[_0x3278e9(0x27f)]=_0x116db9,_0x5c49a3['autoExpand']&&_0x5c49a3[_0x3278e9(0x225)][_0x3278e9(0x1ea)](),_0x2718df;}['_getOwnPropertySymbols'](_0x4f0e21){var _0xafaf07=_0x497190;return Object[_0xafaf07(0x28e)]?Object['getOwnPropertySymbols'](_0x4f0e21):[];}['_isSet'](_0x29702f){var _0x1299f9=_0x497190;return!!(_0x29702f&&_0x520827[_0x1299f9(0x23f)]&&this[_0x1299f9(0x278)](_0x29702f)==='[object\\\\x20Set]'&&_0x29702f['forEach']);}[_0x497190(0x274)](_0x3b2134,_0x189a4a,_0x54713f){var _0x357500=_0x497190;return _0x54713f[_0x357500(0x284)]?typeof _0x3b2134[_0x189a4a]==_0x357500(0x27b):!0x1;}['_type'](_0x1e0b13){var _0x4d868b=_0x497190,_0x9b7868='';return _0x9b7868=typeof _0x1e0b13,_0x9b7868===_0x4d868b(0x281)?this[_0x4d868b(0x278)](_0x1e0b13)===_0x4d868b(0x255)?_0x9b7868=_0x4d868b(0x223):this[_0x4d868b(0x278)](_0x1e0b13)===_0x4d868b(0x293)?_0x9b7868=_0x4d868b(0x1e7):this[_0x4d868b(0x278)](_0x1e0b13)===_0x4d868b(0x28b)?_0x9b7868=_0x4d868b(0x212):_0x1e0b13===null?_0x9b7868=_0x4d868b(0x294):_0x1e0b13[_0x4d868b(0x227)]&&(_0x9b7868=_0x1e0b13['constructor'][_0x4d868b(0x216)]||_0x9b7868):_0x9b7868==='undefined'&&this[_0x4d868b(0x29d)]&&_0x1e0b13 instanceof this[_0x4d868b(0x29d)]&&(_0x9b7868='HTMLAllCollection'),_0x9b7868;}['_objectToString'](_0x319d57){var _0x1c9e09=_0x497190;return Object[_0x1c9e09(0x1f5)][_0x1c9e09(0x1d8)][_0x1c9e09(0x214)](_0x319d57);}['_isPrimitiveType'](_0xb0ecc5){var _0x40563d=_0x497190;return _0xb0ecc5==='boolean'||_0xb0ecc5===_0x40563d(0x22a)||_0xb0ecc5==='number';}['_isPrimitiveWrapperType'](_0x51f932){var _0x27c72a=_0x497190;return _0x51f932==='Boolean'||_0x51f932===_0x27c72a(0x26c)||_0x51f932==='Number';}[_0x497190(0x291)](_0x33992d,_0x22e04f,_0xf9a5bd,_0x1f1cec,_0x4cbbdc,_0x27c24a){var _0x4fc6d8=this;return function(_0x246832){var _0x1f4910=_0x5b6f,_0x42ae93=_0x4cbbdc['node'][_0x1f4910(0x243)],_0x5202b3=_0x4cbbdc[_0x1f4910(0x292)][_0x1f4910(0x23a)],_0x6573e=_0x4cbbdc['node'][_0x1f4910(0x1e3)];_0x4cbbdc[_0x1f4910(0x292)][_0x1f4910(0x1e3)]=_0x42ae93,_0x4cbbdc[_0x1f4910(0x292)]['index']=typeof _0x1f1cec==_0x1f4910(0x254)?_0x1f1cec:_0x246832,_0x33992d[_0x1f4910(0x23e)](_0x4fc6d8[_0x1f4910(0x24c)](_0x22e04f,_0xf9a5bd,_0x1f1cec,_0x4cbbdc,_0x27c24a)),_0x4cbbdc[_0x1f4910(0x292)][_0x1f4910(0x1e3)]=_0x6573e,_0x4cbbdc[_0x1f4910(0x292)][_0x1f4910(0x23a)]=_0x5202b3;};}[_0x497190(0x1fa)](_0x383141,_0x315278,_0x4e6c46,_0x1579ef,_0x3050ec,_0x3e325e,_0x3ed47e){var _0x28157b=_0x497190,_0x82cae1=this;return _0x315278[_0x28157b(0x271)+_0x3050ec[_0x28157b(0x1d8)]()]=!0x0,function(_0x5e05fc){var _0x93a4f7=_0x28157b,_0x4d4626=_0x3e325e[_0x93a4f7(0x292)]['current'],_0x2e8c83=_0x3e325e['node'][_0x93a4f7(0x23a)],_0x4fd549=_0x3e325e[_0x93a4f7(0x292)][_0x93a4f7(0x1e3)];_0x3e325e[_0x93a4f7(0x292)]['parent']=_0x4d4626,_0x3e325e[_0x93a4f7(0x292)]['index']=_0x5e05fc,_0x383141[_0x93a4f7(0x23e)](_0x82cae1[_0x93a4f7(0x24c)](_0x4e6c46,_0x1579ef,_0x3050ec,_0x3e325e,_0x3ed47e)),_0x3e325e[_0x93a4f7(0x292)]['parent']=_0x4fd549,_0x3e325e[_0x93a4f7(0x292)]['index']=_0x2e8c83;};}[_0x497190(0x24c)](_0x5603b,_0x36129e,_0x378483,_0x35701e,_0x2d97c3){var _0x578825=_0x497190,_0x5703a5=this;_0x2d97c3||(_0x2d97c3=function(_0x14c878,_0x2727ad){return _0x14c878[_0x2727ad];});var _0x40331c=_0x378483[_0x578825(0x1d8)](),_0x3f0099=_0x35701e[_0x578825(0x1e2)]||{},_0x20f313=_0x35701e[_0x578825(0x1b9)],_0x8a4894=_0x35701e[_0x578825(0x26f)];try{var _0x1faa59=this[_0x578825(0x256)](_0x5603b),_0x324f3f=_0x40331c;_0x1faa59&&_0x324f3f[0x0]==='\\\\x27'&&(_0x324f3f=_0x324f3f[_0x578825(0x298)](0x1,_0x324f3f[_0x578825(0x273)]-0x2));var _0x56669b=_0x35701e[_0x578825(0x1e2)]=_0x3f0099[_0x578825(0x271)+_0x324f3f];_0x56669b&&(_0x35701e[_0x578825(0x1b9)]=_0x35701e[_0x578825(0x1b9)]+0x1),_0x35701e[_0x578825(0x26f)]=!!_0x56669b;var _0x2b0e0f=typeof _0x378483==_0x578825(0x20f),_0x4160d4={'name':_0x2b0e0f||_0x1faa59?_0x40331c:this['_propertyName'](_0x40331c)};if(_0x2b0e0f&&(_0x4160d4[_0x578825(0x20f)]=!0x0),!(_0x36129e===_0x578825(0x223)||_0x36129e===_0x578825(0x21f))){var _0x14829a=this[_0x578825(0x1f9)](_0x5603b,_0x378483);if(_0x14829a&&(_0x14829a[_0x578825(0x237)]&&(_0x4160d4[_0x578825(0x235)]=!0x0),_0x14829a[_0x578825(0x1dc)]&&!_0x56669b&&!_0x35701e[_0x578825(0x239)]))return _0x4160d4[_0x578825(0x1e1)]=!0x0,this[_0x578825(0x1cf)](_0x4160d4,_0x35701e),_0x4160d4;}var _0x421568;try{_0x421568=_0x2d97c3(_0x5603b,_0x378483);}catch(_0x38e589){return _0x4160d4={'name':_0x40331c,'type':'unknown','error':_0x38e589[_0x578825(0x20c)]},this[_0x578825(0x1cf)](_0x4160d4,_0x35701e),_0x4160d4;}var _0x6cb4a2=this['_type'](_0x421568),_0x5eb72a=this[_0x578825(0x1bd)](_0x6cb4a2);if(_0x4160d4['type']=_0x6cb4a2,_0x5eb72a)this[_0x578825(0x1cf)](_0x4160d4,_0x35701e,_0x421568,function(){var _0xbb1a1c=_0x578825;_0x4160d4['value']=_0x421568['valueOf'](),!_0x56669b&&_0x5703a5[_0xbb1a1c(0x1f1)](_0x6cb4a2,_0x4160d4,_0x35701e,{});});else{var _0x207753=_0x35701e[_0x578825(0x27f)]&&_0x35701e[_0x578825(0x1d1)]<_0x35701e['autoExpandMaxDepth']&&_0x35701e[_0x578825(0x225)][_0x578825(0x28a)](_0x421568)<0x0&&_0x6cb4a2!=='function'&&_0x35701e[_0x578825(0x285)]<_0x35701e[_0x578825(0x265)];_0x207753||_0x35701e['level']<_0x20f313||_0x56669b?(this[_0x578825(0x25a)](_0x4160d4,_0x421568,_0x35701e,_0x56669b||{}),this[_0x578825(0x1d0)](_0x421568,_0x4160d4)):this[_0x578825(0x1cf)](_0x4160d4,_0x35701e,_0x421568,function(){var _0x25a69f=_0x578825;_0x6cb4a2===_0x25a69f(0x294)||_0x6cb4a2==='undefined'||(delete _0x4160d4[_0x25a69f(0x1c7)],_0x4160d4[_0x25a69f(0x25c)]=!0x0);});}return _0x4160d4;}finally{_0x35701e[_0x578825(0x1e2)]=_0x3f0099,_0x35701e[_0x578825(0x1b9)]=_0x20f313,_0x35701e['isExpressionToEvaluate']=_0x8a4894;}}[_0x497190(0x1f1)](_0x383034,_0x2bac95,_0x3c4b47,_0x391693){var _0x3d9c81=_0x497190,_0xf6a594=_0x391693[_0x3d9c81(0x1e8)]||_0x3c4b47['strLength'];if((_0x383034===_0x3d9c81(0x22a)||_0x383034===_0x3d9c81(0x26c))&&_0x2bac95[_0x3d9c81(0x1c7)]){let _0x3f4c2c=_0x2bac95[_0x3d9c81(0x1c7)][_0x3d9c81(0x273)];_0x3c4b47[_0x3d9c81(0x206)]+=_0x3f4c2c,_0x3c4b47[_0x3d9c81(0x206)]>_0x3c4b47['totalStrLength']?(_0x2bac95['capped']='',delete _0x2bac95['value']):_0x3f4c2c>_0xf6a594&&(_0x2bac95['capped']=_0x2bac95[_0x3d9c81(0x1c7)]['substr'](0x0,_0xf6a594),delete _0x2bac95['value']);}}[_0x497190(0x256)](_0x4ed1a1){var _0x20f122=_0x497190;return!!(_0x4ed1a1&&_0x520827['Map']&&this[_0x20f122(0x278)](_0x4ed1a1)===_0x20f122(0x20e)&&_0x4ed1a1[_0x20f122(0x1de)]);}[_0x497190(0x21b)](_0x2e3654){var _0x5d16f2=_0x497190;if(_0x2e3654[_0x5d16f2(0x263)](/^\\\\d+$/))return _0x2e3654;var _0x2332bb;try{_0x2332bb=JSON[_0x5d16f2(0x247)](''+_0x2e3654);}catch{_0x2332bb='\\\\x22'+this[_0x5d16f2(0x278)](_0x2e3654)+'\\\\x22';}return _0x2332bb[_0x5d16f2(0x263)](/^\\\"([a-zA-Z_][a-zA-Z_0-9]*)\\\"$/)?_0x2332bb=_0x2332bb[_0x5d16f2(0x298)](0x1,_0x2332bb[_0x5d16f2(0x273)]-0x2):_0x2332bb=_0x2332bb[_0x5d16f2(0x1fb)](/'/g,'\\\\x5c\\\\x27')[_0x5d16f2(0x1fb)](/\\\\\\\\\\\"/g,'\\\\x22')[_0x5d16f2(0x1fb)](/(^\\\"|\\\"$)/g,'\\\\x27'),_0x2332bb;}[_0x497190(0x1cf)](_0x4f849b,_0x18ff33,_0x5c9f5d,_0x3570e5){var _0x345494=_0x497190;this['_treeNodePropertiesBeforeFullValue'](_0x4f849b,_0x18ff33),_0x3570e5&&_0x3570e5(),this[_0x345494(0x1d0)](_0x5c9f5d,_0x4f849b),this[_0x345494(0x242)](_0x4f849b,_0x18ff33);}[_0x497190(0x1c1)](_0xe00747,_0x4a4d16){var _0x1b870a=_0x497190;this[_0x1b870a(0x29f)](_0xe00747,_0x4a4d16),this[_0x1b870a(0x289)](_0xe00747,_0x4a4d16),this[_0x1b870a(0x1cb)](_0xe00747,_0x4a4d16),this[_0x1b870a(0x1fe)](_0xe00747,_0x4a4d16);}['_setNodeId'](_0x50e02d,_0x568fd4){}[_0x497190(0x289)](_0x11a0bd,_0x222723){}[_0x497190(0x213)](_0x25fe69,_0x2373fa){}[_0x497190(0x244)](_0x282753){var _0x29cd20=_0x497190;return _0x282753===this[_0x29cd20(0x262)];}[_0x497190(0x242)](_0xa8bfff,_0x32f524){var _0x2b738f=_0x497190;this[_0x2b738f(0x213)](_0xa8bfff,_0x32f524),this[_0x2b738f(0x26d)](_0xa8bfff),_0x32f524['sortProps']&&this[_0x2b738f(0x250)](_0xa8bfff),this['_addFunctionsNode'](_0xa8bfff,_0x32f524),this[_0x2b738f(0x20a)](_0xa8bfff,_0x32f524),this[_0x2b738f(0x1ff)](_0xa8bfff);}['_additionalMetadata'](_0x1658cc,_0x33137b){var _0xa34bad=_0x497190;try{_0x1658cc&&typeof _0x1658cc[_0xa34bad(0x273)]==_0xa34bad(0x254)&&(_0x33137b['length']=_0x1658cc[_0xa34bad(0x273)]);}catch{}if(_0x33137b[_0xa34bad(0x1c0)]===_0xa34bad(0x254)||_0x33137b[_0xa34bad(0x1c0)]===_0xa34bad(0x236)){if(isNaN(_0x33137b[_0xa34bad(0x1c7)]))_0x33137b[_0xa34bad(0x245)]=!0x0,delete _0x33137b['value'];else switch(_0x33137b[_0xa34bad(0x1c7)]){case Number[_0xa34bad(0x234)]:_0x33137b[_0xa34bad(0x24e)]=!0x0,delete _0x33137b['value'];break;case Number[_0xa34bad(0x1db)]:_0x33137b[_0xa34bad(0x224)]=!0x0,delete _0x33137b[_0xa34bad(0x1c7)];break;case 0x0:this['_isNegativeZero'](_0x33137b['value'])&&(_0x33137b[_0xa34bad(0x282)]=!0x0);break;}}else _0x33137b['type']===_0xa34bad(0x27b)&&typeof _0x1658cc[_0xa34bad(0x216)]==_0xa34bad(0x22a)&&_0x1658cc[_0xa34bad(0x216)]&&_0x33137b['name']&&_0x1658cc[_0xa34bad(0x216)]!==_0x33137b[_0xa34bad(0x216)]&&(_0x33137b[_0xa34bad(0x288)]=_0x1658cc[_0xa34bad(0x216)]);}[_0x497190(0x1ca)](_0x5b8c1d){var _0x1440ea=_0x497190;return 0x1/_0x5b8c1d===Number[_0x1440ea(0x1db)];}['_sortProps'](_0x42f6a2){var _0x5a9795=_0x497190;!_0x42f6a2[_0x5a9795(0x220)]||!_0x42f6a2[_0x5a9795(0x220)][_0x5a9795(0x273)]||_0x42f6a2[_0x5a9795(0x1c0)]==='array'||_0x42f6a2[_0x5a9795(0x1c0)]==='Map'||_0x42f6a2[_0x5a9795(0x1c0)]==='Set'||_0x42f6a2[_0x5a9795(0x220)][_0x5a9795(0x21d)](function(_0x1dfdb6,_0x5539f8){var _0x58c729=_0x5a9795,_0x162fca=_0x1dfdb6[_0x58c729(0x216)]['toLowerCase'](),_0x284cb5=_0x5539f8[_0x58c729(0x216)][_0x58c729(0x22b)]();return _0x162fca<_0x284cb5?-0x1:_0x162fca>_0x284cb5?0x1:0x0;});}[_0x497190(0x1d3)](_0x247f12,_0x161ecd){var _0x20b6e3=_0x497190;if(!(_0x161ecd[_0x20b6e3(0x284)]||!_0x247f12['props']||!_0x247f12[_0x20b6e3(0x220)][_0x20b6e3(0x273)])){for(var _0x19142c=[],_0x5ae314=[],_0x35a97b=0x0,_0x34cb3b=_0x247f12[_0x20b6e3(0x220)][_0x20b6e3(0x273)];_0x35a97b<_0x34cb3b;_0x35a97b++){var _0x407a29=_0x247f12[_0x20b6e3(0x220)][_0x35a97b];_0x407a29[_0x20b6e3(0x1c0)]===_0x20b6e3(0x27b)?_0x19142c[_0x20b6e3(0x23e)](_0x407a29):_0x5ae314[_0x20b6e3(0x23e)](_0x407a29);}if(!(!_0x5ae314[_0x20b6e3(0x273)]||_0x19142c[_0x20b6e3(0x273)]<=0x1)){_0x247f12[_0x20b6e3(0x220)]=_0x5ae314;var _0x5db8da={'functionsNode':!0x0,'props':_0x19142c};this['_setNodeId'](_0x5db8da,_0x161ecd),this[_0x20b6e3(0x213)](_0x5db8da,_0x161ecd),this['_setNodeExpandableState'](_0x5db8da),this[_0x20b6e3(0x1fe)](_0x5db8da,_0x161ecd),_0x5db8da['id']+='\\\\x20f',_0x247f12['props'][_0x20b6e3(0x1f0)](_0x5db8da);}}}[_0x497190(0x20a)](_0x382ef0,_0x1d8840){}[_0x497190(0x26d)](_0x54b14a){}[_0x497190(0x29c)](_0x47bc00){var _0x40ebc0=_0x497190;return Array[_0x40ebc0(0x287)](_0x47bc00)||typeof _0x47bc00=='object'&&this[_0x40ebc0(0x278)](_0x47bc00)==='[object\\\\x20Array]';}['_setNodePermissions'](_0x564807,_0x5c6386){}[_0x497190(0x1ff)](_0x83f79d){var _0x128e4d=_0x497190;delete _0x83f79d[_0x128e4d(0x257)],delete _0x83f79d[_0x128e4d(0x269)],delete _0x83f79d['_hasMapOnItsPath'];}[_0x497190(0x1cb)](_0x3b73cf,_0x441d89){}[_0x497190(0x258)](_0x2ec3c5){var _0x3981ea=_0x497190;return _0x2ec3c5?_0x2ec3c5['match'](this[_0x3981ea(0x204)])?'['+_0x2ec3c5+']':_0x2ec3c5[_0x3981ea(0x263)](this[_0x3981ea(0x1ef)])?'.'+_0x2ec3c5:_0x2ec3c5[_0x3981ea(0x263)](this[_0x3981ea(0x27e)])?'['+_0x2ec3c5+']':'[\\\\x27'+_0x2ec3c5+'\\\\x27]':'';}}let _0x7e30a3=new _0x585b1f();function _0x5888ef(_0x3c2c8a,_0x164f59,_0x2da2cb,_0x4bb1dd,_0x965ae1,_0x303ae2){var _0x198a80=_0x497190;let _0x5a1db8,_0x49227f;try{_0x49227f=_0x2bcb99(),_0x5a1db8=_0x3b6e55[_0x164f59],!_0x5a1db8||_0x49227f-_0x5a1db8['ts']>0x1f4&&_0x5a1db8[_0x198a80(0x1e6)]&&_0x5a1db8['time']/_0x5a1db8['count']<0x64?(_0x3b6e55[_0x164f59]=_0x5a1db8={'count':0x0,'time':0x0,'ts':_0x49227f},_0x3b6e55['hits']={}):_0x49227f-_0x3b6e55[_0x198a80(0x201)]['ts']>0x32&&_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1e6)]&&_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1d6)]/_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1e6)]<0x64&&(_0x3b6e55[_0x198a80(0x201)]={});let _0x1003e9=[],_0x2ddcfc=_0x5a1db8[_0x198a80(0x28c)]||_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x28c)]?_0x1d4687:_0x173575,_0x3bd483=_0x192caf=>{var _0x55f45b=_0x198a80;let _0x43b0a0={};return _0x43b0a0[_0x55f45b(0x220)]=_0x192caf[_0x55f45b(0x220)],_0x43b0a0['elements']=_0x192caf[_0x55f45b(0x21c)],_0x43b0a0[_0x55f45b(0x1e8)]=_0x192caf[_0x55f45b(0x1e8)],_0x43b0a0[_0x55f45b(0x229)]=_0x192caf[_0x55f45b(0x229)],_0x43b0a0['autoExpandLimit']=_0x192caf[_0x55f45b(0x265)],_0x43b0a0[_0x55f45b(0x27a)]=_0x192caf[_0x55f45b(0x27a)],_0x43b0a0[_0x55f45b(0x1fd)]=!0x1,_0x43b0a0[_0x55f45b(0x284)]=!_0x31d7c7,_0x43b0a0[_0x55f45b(0x1b9)]=0x1,_0x43b0a0['level']=0x0,_0x43b0a0[_0x55f45b(0x268)]=_0x55f45b(0x221),_0x43b0a0['rootExpression']=_0x55f45b(0x207),_0x43b0a0[_0x55f45b(0x27f)]=!0x0,_0x43b0a0[_0x55f45b(0x225)]=[],_0x43b0a0[_0x55f45b(0x285)]=0x0,_0x43b0a0[_0x55f45b(0x239)]=!0x0,_0x43b0a0[_0x55f45b(0x206)]=0x0,_0x43b0a0[_0x55f45b(0x292)]={'current':void 0x0,'parent':void 0x0,'index':0x0},_0x43b0a0;};for(var _0x579544=0x0;_0x579544<_0x965ae1[_0x198a80(0x273)];_0x579544++)_0x1003e9[_0x198a80(0x23e)](_0x7e30a3[_0x198a80(0x25a)]({'timeNode':_0x3c2c8a==='time'||void 0x0},_0x965ae1[_0x579544],_0x3bd483(_0x2ddcfc),{}));if(_0x3c2c8a===_0x198a80(0x260)){let _0x2f2551=Error[_0x198a80(0x1f4)];try{Error[_0x198a80(0x1f4)]=0x1/0x0,_0x1003e9[_0x198a80(0x23e)](_0x7e30a3[_0x198a80(0x25a)]({'stackNode':!0x0},new Error()[_0x198a80(0x1ce)],_0x3bd483(_0x2ddcfc),{'strLength':0x1/0x0}));}finally{Error[_0x198a80(0x1f4)]=_0x2f2551;}}return{'method':_0x198a80(0x20b),'version':_0x1dd21f,'args':[{'ts':_0x2da2cb,'session':_0x4bb1dd,'args':_0x1003e9,'id':_0x164f59,'context':_0x303ae2}]};}catch(_0x245a88){return{'method':_0x198a80(0x20b),'version':_0x1dd21f,'args':[{'ts':_0x2da2cb,'session':_0x4bb1dd,'args':[{'type':_0x198a80(0x226),'error':_0x245a88&&_0x245a88[_0x198a80(0x20c)]}],'id':_0x164f59,'context':_0x303ae2}]};}finally{try{if(_0x5a1db8&&_0x49227f){let _0x690d71=_0x2bcb99();_0x5a1db8[_0x198a80(0x1e6)]++,_0x5a1db8['time']+=_0x5345db(_0x49227f,_0x690d71),_0x5a1db8['ts']=_0x690d71,_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1e6)]++,_0x3b6e55['hits'][_0x198a80(0x1d6)]+=_0x5345db(_0x49227f,_0x690d71),_0x3b6e55[_0x198a80(0x201)]['ts']=_0x690d71,(_0x5a1db8[_0x198a80(0x1e6)]>0x32||_0x5a1db8[_0x198a80(0x1d6)]>0x64)&&(_0x5a1db8[_0x198a80(0x28c)]=!0x0),(_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1e6)]>0x3e8||_0x3b6e55[_0x198a80(0x201)][_0x198a80(0x1d6)]>0x12c)&&(_0x3b6e55[_0x198a80(0x201)]['reduceLimits']=!0x0);}}catch{}}}return _0x520827[_0x497190(0x1da)];})(globalThis,'127.0.0.1',_0x39dd8e(0x1ec),\\\"/Users/buigiang/.vscode/extensions/wallabyjs.console-ninja-0.0.156/node_modules\\\",_0x39dd8e(0x1ba),_0x39dd8e(0x217),_0x39dd8e(0x28d),_0x39dd8e(0x248),_0x39dd8e(0x1cc));\");}catch(e){}};function oo_oo(i:string,...v:any[]){try{oo_cm().consoleLog(i, v);}catch(e){} return v};oo_oo;function oo_tr(i:string,...v:any[]){try{oo_cm().consoleTrace(i, v);}catch(e){} return v};oo_tr;function oo_ts(){try{oo_cm().consoleTime();}catch(e){}};oo_ts;function oo_te(){try{oo_cm().consoleTimeEnd();}catch(e){}};oo_te;/*eslint eslint-comments/disable-enable-pair:,eslint-comments/no-unlimited-disable:,eslint-comments/no-aggregating-enable:,eslint-comments/no-duplicate-disable:,eslint-comments/no-unused-disable:,eslint-comments/no-unused-enable:,*/","import { addActionHandler, getGlobal, setGlobal } from '../../index';\nimport {\n  joinGroupCall,\n  startSharingScreen,\n  leaveGroupCall,\n  toggleStream,\n  isStreamEnabled,\n  setVolume, stopPhoneCall,\n} from '../../../lib/secret-sauce';\n\nimport type { ActionReturnType } from '../../types';\n\nimport { GROUP_CALL_VOLUME_MULTIPLIER } from '../../../config';\nimport { callApi } from '../../../api/gramjs';\nimport { selectChat, selectTabState, selectUser } from '../../selectors';\nimport {\n  selectActiveGroupCall, selectPhoneCallUser,\n} from '../../selectors/calls';\nimport {\n  removeGroupCall,\n  updateActiveGroupCall,\n} from '../../reducers/calls';\nimport { getGroupCallAudioContext, getGroupCallAudioElement, removeGroupCallAudioElement } from '../ui/calls';\nimport { loadFullChat } from './chats';\nimport { addUsers } from '../../reducers';\nimport { buildCollectionByKey } from '../../../util/iteratees';\nimport { updateTabState } from '../../reducers/tabs';\nimport { getCurrentTabId } from '../../../util/establishMultitabRole';\n\nconst HANG_UP_UI_DELAY = 500;\n\naddActionHandler('leaveGroupCall', async (global, actions, payload): Promise<void> => {\n  const {\n    isFromLibrary, shouldDiscard, shouldRemove, rejoin,\n    tabId = getCurrentTabId(),\n  } = payload || {};\n  const groupCall = selectActiveGroupCall(global);\n  if (!groupCall) {\n    return;\n  }\n\n  global = updateActiveGroupCall(global, { connectionState: 'disconnected' }, groupCall.participantsCount - 1);\n  setGlobal(global);\n\n  await callApi('leaveGroupCall', {\n    call: groupCall,\n  });\n\n  if (shouldDiscard) {\n    await callApi('discardGroupCall', {\n      call: groupCall,\n    });\n  }\n\n  global = getGlobal();\n  if (shouldRemove) {\n    global = removeGroupCall(global, groupCall.id);\n  }\n\n  removeGroupCallAudioElement();\n\n  global = {\n    ...global,\n    groupCalls: {\n      ...global.groupCalls,\n      activeGroupCallId: undefined,\n    },\n  };\n  setGlobal(global);\n\n  actions.toggleGroupCallPanel({ force: undefined, tabId });\n\n  if (!isFromLibrary) {\n    leaveGroupCall();\n  }\n\n  actions.afterHangUp();\n\n  if (rejoin) {\n    actions.requestMasterAndJoinGroupCall({\n      ...rejoin,\n      tabId,\n    });\n  }\n});\n\naddActionHandler('toggleGroupCallVideo', async (global): Promise<void> => {\n  const groupCall = selectActiveGroupCall(global);\n  const user = selectUser(global, global.currentUserId!);\n  if (!user || !groupCall) {\n    return;\n  }\n\n  await toggleStream('video');\n\n  await callApi('editGroupCallParticipant', {\n    call: groupCall,\n    videoStopped: !isStreamEnabled('video'),\n    participant: user,\n  });\n});\n\naddActionHandler('requestToSpeak', (global, actions, payload): ActionReturnType => {\n  const { value } = payload || { value: true };\n  const groupCall = selectActiveGroupCall(global);\n  const user = selectUser(global, global.currentUserId!);\n  if (!user || !groupCall) {\n    return;\n  }\n\n  void callApi('editGroupCallParticipant', {\n    call: groupCall,\n    raiseHand: value,\n    participant: user,\n  });\n});\n\naddActionHandler('setGroupCallParticipantVolume', (global, actions, payload): ActionReturnType => {\n  const { participantId, volume } = payload!;\n\n  const groupCall = selectActiveGroupCall(global);\n  const user = selectUser(global, participantId);\n  if (!user || !groupCall) {\n    return;\n  }\n\n  setVolume(participantId, Math.floor(volume / GROUP_CALL_VOLUME_MULTIPLIER) / 100);\n\n  void callApi('editGroupCallParticipant', {\n    call: groupCall,\n    volume: Number(volume),\n    participant: user,\n  });\n});\n\naddActionHandler('toggleGroupCallMute', async (global, actions, payload): Promise<void> => {\n  const { participantId, value } = payload || {};\n  const groupCall = selectActiveGroupCall(global);\n  const user = selectUser(global, participantId || global.currentUserId!);\n  if (!user || !groupCall) {\n    return;\n  }\n\n  const muted = value === undefined ? isStreamEnabled('audio', user.id) : value;\n\n  if (!participantId) {\n    await toggleStream('audio');\n  } else {\n    setVolume(participantId, muted ? 0 : 1);\n  }\n\n  await callApi('editGroupCallParticipant', {\n    call: groupCall,\n    muted,\n    participant: user,\n  });\n});\n\naddActionHandler('toggleGroupCallPresentation', async (global, actions, payload): Promise<void> => {\n  const groupCall = selectActiveGroupCall(global);\n  const user = selectUser(global, global.currentUserId!);\n  if (!user || !groupCall) {\n    return;\n  }\n\n  const value = payload?.value !== undefined ? payload?.value : !isStreamEnabled('presentation');\n  if (value) {\n    const params = await startSharingScreen();\n    if (!params) {\n      return;\n    }\n\n    await callApi('joinGroupCallPresentation', {\n      call: groupCall,\n      params,\n    });\n  } else {\n    await toggleStream('presentation', false);\n    await callApi('leaveGroupCallPresentation', {\n      call: groupCall,\n    });\n  }\n\n  await callApi('editGroupCallParticipant', {\n    call: groupCall,\n    presentationPaused: !isStreamEnabled('presentation'),\n    participant: user,\n  });\n});\n\naddActionHandler('connectToActiveGroupCall', async (global, actions, payload): Promise<void> => {\n  const { tabId = getCurrentTabId() } = payload || {};\n  const groupCall = selectActiveGroupCall(global);\n  if (!groupCall) return;\n\n  if (groupCall.connectionState === 'discarded') {\n    actions.showNotification({ message: 'This voice chat is not active', tabId });\n    return;\n  }\n\n  const audioElement = getGroupCallAudioElement();\n  const audioContext = getGroupCallAudioContext();\n\n  if (!audioElement || !audioContext) {\n    return;\n  }\n\n  const {\n    currentUserId,\n  } = global;\n\n  if (!currentUserId) return;\n\n  const params = await joinGroupCall(currentUserId, audioContext, audioElement, actions.apiUpdate);\n\n  const result = await callApi('joinGroupCall', {\n    call: groupCall,\n    params,\n    inviteHash: groupCall.inviteHash,\n  });\n\n  global = getGlobal();\n\n  if (!result) return;\n\n  actions.loadMoreGroupCallParticipants();\n\n  if (groupCall.chatId) {\n    global = getGlobal();\n    const chat = selectChat(global, groupCall.chatId);\n    if (!chat) return;\n    await loadFullChat(global, actions, chat, tabId);\n  }\n});\n\naddActionHandler('connectToActivePhoneCall', async (global, actions): Promise<void> => {\n  const { phoneCall } = global;\n\n  if (!phoneCall) return;\n\n  const user = selectPhoneCallUser(global);\n\n  if (!user) return;\n\n  const dhConfig = await callApi('getDhConfig');\n\n  if (!dhConfig) return;\n\n  await callApi('createPhoneCallState', [true]);\n\n  const gAHash = await callApi('requestPhoneCall', [dhConfig])!;\n\n  const result = await callApi('requestCall', { user, gAHash, isVideo: phoneCall.isVideo });\n\n  if (!result) {\n    if ('hangUp' in actions) actions.hangUp({ tabId: getCurrentTabId() });\n    return;\n  }\n  global = getGlobal();\n  global = addUsers(global, buildCollectionByKey(result.users, 'id'));\n  setGlobal(global);\n});\n\naddActionHandler('acceptCall', async (global): Promise<void> => {\n  const { phoneCall } = global;\n\n  if (!phoneCall) return;\n\n  const dhConfig = await callApi('getDhConfig');\n  if (!dhConfig) return;\n\n  await callApi('createPhoneCallState', [false]);\n\n  const gB = await callApi('acceptPhoneCall', [dhConfig])!;\n  const result = await callApi('acceptCall', { call: phoneCall, gB });\n  if (!result) {\n    return;\n  }\n  global = getGlobal();\n  global = addUsers(global, buildCollectionByKey(result.users, 'id'));\n  setGlobal(global);\n});\n\naddActionHandler('sendSignalingData', (global, actions, payload): ActionReturnType => {\n  const { phoneCall } = global;\n  if (!phoneCall) {\n    return;\n  }\n\n  const data = JSON.stringify(payload);\n\n  (async () => {\n    const encodedData = await callApi('encodePhoneCallData', [data]);\n\n    if (!encodedData) return;\n\n    callApi('sendSignalingData', { data: encodedData, call: phoneCall });\n  })();\n});\n\naddActionHandler('closeCallRatingModal', (global, actions, payload): ActionReturnType => {\n  const { tabId = getCurrentTabId() } = payload || {};\n  return updateTabState(global, {\n    ratingPhoneCall: undefined,\n  }, tabId);\n});\n\naddActionHandler('setCallRating', (global, actions, payload): ActionReturnType => {\n  const { rating, comment, tabId = getCurrentTabId() } = payload;\n\n  const { ratingPhoneCall } = selectTabState(global, tabId);\n  if (!ratingPhoneCall) {\n    return undefined;\n  }\n\n  callApi('setCallRating', { call: ratingPhoneCall, rating, comment });\n\n  return updateTabState(global, {\n    ratingPhoneCall: undefined,\n  }, tabId);\n});\n\naddActionHandler('hangUp', (global, actions, payload): ActionReturnType => {\n  const { tabId = getCurrentTabId() } = payload || {};\n  const { phoneCall } = global;\n\n  if (!phoneCall) return undefined;\n\n  if (phoneCall.state === 'discarded') {\n    callApi('destroyPhoneCallState');\n    stopPhoneCall();\n\n    global = {\n      ...global,\n      phoneCall: undefined,\n    };\n    setGlobal(global);\n    actions.toggleGroupCallPanel({ force: undefined, tabId });\n\n    actions.afterHangUp();\n\n    return undefined;\n  }\n\n  callApi('destroyPhoneCallState');\n  stopPhoneCall();\n  callApi('discardCall', { call: phoneCall });\n\n  if (phoneCall.state === 'requesting') {\n    global = {\n      ...global,\n      phoneCall: undefined,\n    };\n    setGlobal(global);\n    actions.toggleGroupCallPanel({ force: undefined, tabId });\n\n    actions.afterHangUp();\n\n    return undefined;\n  }\n\n  setTimeout(() => {\n    global = getGlobal();\n    global = {\n      ...global,\n      phoneCall: undefined,\n    };\n    setGlobal(global);\n\n    actions.toggleGroupCallPanel({ force: undefined, tabId });\n    actions.afterHangUp();\n  }, HANG_UP_UI_DELAY);\n\n  return undefined;\n});\n","export const EMOJI_DATA = new Uint16Array([\n  0xd83d, 0xde09, 0xd83d, 0xde0d, 0xd83d, 0xde1b, 0xd83d, 0xde2d, 0xd83d, 0xde31, 0xd83d, 0xde21,\n  0xd83d, 0xde0e, 0xd83d, 0xde34, 0xd83d, 0xde35, 0xd83d, 0xde08, 0xd83d, 0xde2c, 0xd83d, 0xde07,\n  0xd83d, 0xde0f, 0xd83d, 0xdc6e, 0xd83d, 0xdc77, 0xd83d, 0xdc82, 0xd83d, 0xdc76, 0xd83d, 0xdc68,\n  0xd83d, 0xdc69, 0xd83d, 0xdc74, 0xd83d, 0xdc75, 0xd83d, 0xde3b, 0xd83d, 0xde3d, 0xd83d, 0xde40,\n  0xd83d, 0xdc7a, 0xd83d, 0xde48, 0xd83d, 0xde49, 0xd83d, 0xde4a, 0xd83d, 0xdc80, 0xd83d, 0xdc7d,\n  0xd83d, 0xdca9, 0xd83d, 0xdd25, 0xd83d, 0xdca5, 0xd83d, 0xdca4, 0xd83d, 0xdc42, 0xd83d, 0xdc40,\n  0xd83d, 0xdc43, 0xd83d, 0xdc45, 0xd83d, 0xdc44, 0xd83d, 0xdc4d, 0xd83d, 0xdc4e, 0xd83d, 0xdc4c,\n  0xd83d, 0xdc4a, 0x270c, 0x270b, 0xd83d, 0xdc50, 0xd83d, 0xdc46, 0xd83d, 0xdc47, 0xd83d, 0xdc49,\n  0xd83d, 0xdc48, 0xd83d, 0xde4f, 0xd83d, 0xdc4f, 0xd83d, 0xdcaa, 0xd83d, 0xdeb6, 0xd83c, 0xdfc3,\n  0xd83d, 0xdc83, 0xd83d, 0xdc6b, 0xd83d, 0xdc6a, 0xd83d, 0xdc6c, 0xd83d, 0xdc6d, 0xd83d, 0xdc85,\n  0xd83c, 0xdfa9, 0xd83d, 0xdc51, 0xd83d, 0xdc52, 0xd83d, 0xdc5f, 0xd83d, 0xdc5e, 0xd83d, 0xdc60,\n  0xd83d, 0xdc55, 0xd83d, 0xdc57, 0xd83d, 0xdc56, 0xd83d, 0xdc59, 0xd83d, 0xdc5c, 0xd83d, 0xdc53,\n  0xd83c, 0xdf80, 0xd83d, 0xdc84, 0xd83d, 0xdc9b, 0xd83d, 0xdc99, 0xd83d, 0xdc9c, 0xd83d, 0xdc9a,\n  0xd83d, 0xdc8d, 0xd83d, 0xdc8e, 0xd83d, 0xdc36, 0xd83d, 0xdc3a, 0xd83d, 0xdc31, 0xd83d, 0xdc2d,\n  0xd83d, 0xdc39, 0xd83d, 0xdc30, 0xd83d, 0xdc38, 0xd83d, 0xdc2f, 0xd83d, 0xdc28, 0xd83d, 0xdc3b,\n  0xd83d, 0xdc37, 0xd83d, 0xdc2e, 0xd83d, 0xdc17, 0xd83d, 0xdc34, 0xd83d, 0xdc11, 0xd83d, 0xdc18,\n  0xd83d, 0xdc3c, 0xd83d, 0xdc27, 0xd83d, 0xdc25, 0xd83d, 0xdc14, 0xd83d, 0xdc0d, 0xd83d, 0xdc22,\n  0xd83d, 0xdc1b, 0xd83d, 0xdc1d, 0xd83d, 0xdc1c, 0xd83d, 0xdc1e, 0xd83d, 0xdc0c, 0xd83d, 0xdc19,\n  0xd83d, 0xdc1a, 0xd83d, 0xdc1f, 0xd83d, 0xdc2c, 0xd83d, 0xdc0b, 0xd83d, 0xdc10, 0xd83d, 0xdc0a,\n  0xd83d, 0xdc2b, 0xd83c, 0xdf40, 0xd83c, 0xdf39, 0xd83c, 0xdf3b, 0xd83c, 0xdf41, 0xd83c, 0xdf3e,\n  0xd83c, 0xdf44, 0xd83c, 0xdf35, 0xd83c, 0xdf34, 0xd83c, 0xdf33, 0xd83c, 0xdf1e, 0xd83c, 0xdf1a,\n  0xd83c, 0xdf19, 0xd83c, 0xdf0e, 0xd83c, 0xdf0b, 0x26a1, 0x2614, 0x2744, 0x26c4, 0xd83c, 0xdf00,\n  0xd83c, 0xdf08, 0xd83c, 0xdf0a, 0xd83c, 0xdf93, 0xd83c, 0xdf86, 0xd83c, 0xdf83, 0xd83d, 0xdc7b,\n  0xd83c, 0xdf85, 0xd83c, 0xdf84, 0xd83c, 0xdf81, 0xd83c, 0xdf88, 0xd83d, 0xdd2e, 0xd83c, 0xdfa5,\n  0xd83d, 0xdcf7, 0xd83d, 0xdcbf, 0xd83d, 0xdcbb, 0x260e, 0xd83d, 0xdce1, 0xd83d, 0xdcfa, 0xd83d,\n  0xdcfb, 0xd83d, 0xdd09, 0xd83d, 0xdd14, 0x23f3, 0x23f0, 0x231a, 0xd83d, 0xdd12, 0xd83d, 0xdd11,\n  0xd83d, 0xdd0e, 0xd83d, 0xdca1, 0xd83d, 0xdd26, 0xd83d, 0xdd0c, 0xd83d, 0xdd0b, 0xd83d, 0xdebf,\n  0xd83d, 0xdebd, 0xd83d, 0xdd27, 0xd83d, 0xdd28, 0xd83d, 0xdeaa, 0xd83d, 0xdeac, 0xd83d, 0xdca3,\n  0xd83d, 0xdd2b, 0xd83d, 0xdd2a, 0xd83d, 0xdc8a, 0xd83d, 0xdc89, 0xd83d, 0xdcb0, 0xd83d, 0xdcb5,\n  0xd83d, 0xdcb3, 0x2709, 0xd83d, 0xdceb, 0xd83d, 0xdce6, 0xd83d, 0xdcc5, 0xd83d, 0xdcc1, 0x2702,\n  0xd83d, 0xdccc, 0xd83d, 0xdcce, 0x2712, 0x270f, 0xd83d, 0xdcd0, 0xd83d, 0xdcda, 0xd83d, 0xdd2c,\n  0xd83d, 0xdd2d, 0xd83c, 0xdfa8, 0xd83c, 0xdfac, 0xd83c, 0xdfa4, 0xd83c, 0xdfa7, 0xd83c, 0xdfb5,\n  0xd83c, 0xdfb9, 0xd83c, 0xdfbb, 0xd83c, 0xdfba, 0xd83c, 0xdfb8, 0xd83d, 0xdc7e, 0xd83c, 0xdfae,\n  0xd83c, 0xdccf, 0xd83c, 0xdfb2, 0xd83c, 0xdfaf, 0xd83c, 0xdfc8, 0xd83c, 0xdfc0, 0x26bd, 0x26be,\n  0xd83c, 0xdfbe, 0xd83c, 0xdfb1, 0xd83c, 0xdfc9, 0xd83c, 0xdfb3, 0xd83c, 0xdfc1, 0xd83c, 0xdfc7,\n  0xd83c, 0xdfc6, 0xd83c, 0xdfca, 0xd83c, 0xdfc4, 0x2615, 0xd83c, 0xdf7c, 0xd83c, 0xdf7a, 0xd83c,\n  0xdf77, 0xd83c, 0xdf74, 0xd83c, 0xdf55, 0xd83c, 0xdf54, 0xd83c, 0xdf5f, 0xd83c, 0xdf57, 0xd83c,\n  0xdf71, 0xd83c, 0xdf5a, 0xd83c, 0xdf5c, 0xd83c, 0xdf61, 0xd83c, 0xdf73, 0xd83c, 0xdf5e, 0xd83c,\n  0xdf69, 0xd83c, 0xdf66, 0xd83c, 0xdf82, 0xd83c, 0xdf70, 0xd83c, 0xdf6a, 0xd83c, 0xdf6b, 0xd83c,\n  0xdf6d, 0xd83c, 0xdf6f, 0xd83c, 0xdf4e, 0xd83c, 0xdf4f, 0xd83c, 0xdf4a, 0xd83c, 0xdf4b, 0xd83c,\n  0xdf52, 0xd83c, 0xdf47, 0xd83c, 0xdf49, 0xd83c, 0xdf53, 0xd83c, 0xdf51, 0xd83c, 0xdf4c, 0xd83c,\n  0xdf50, 0xd83c, 0xdf4d, 0xd83c, 0xdf46, 0xd83c, 0xdf45, 0xd83c, 0xdf3d, 0xd83c, 0xdfe1, 0xd83c,\n  0xdfe5, 0xd83c, 0xdfe6, 0x26ea, 0xd83c, 0xdff0, 0x26fa, 0xd83c, 0xdfed, 0xd83d, 0xddfb, 0xd83d,\n  0xddfd, 0xd83c, 0xdfa0, 0xd83c, 0xdfa1, 0x26f2, 0xd83c, 0xdfa2, 0xd83d, 0xdea2, 0xd83d, 0xdea4,\n  0x2693, 0xd83d, 0xde80, 0x2708, 0xd83d, 0xde81, 0xd83d, 0xde82, 0xd83d, 0xde8b, 0xd83d, 0xde8e,\n  0xd83d, 0xde8c, 0xd83d, 0xde99, 0xd83d, 0xde97, 0xd83d, 0xde95, 0xd83d, 0xde9b, 0xd83d, 0xdea8,\n  0xd83d, 0xde94, 0xd83d, 0xde92, 0xd83d, 0xde91, 0xd83d, 0xdeb2, 0xd83d, 0xdea0, 0xd83d, 0xde9c,\n  0xd83d, 0xdea6, 0x26a0, 0xd83d, 0xdea7, 0x26fd, 0xd83c, 0xdfb0, 0xd83d, 0xddff, 0xd83c, 0xdfaa,\n  0xd83c, 0xdfad, 0xd83c, 0xddef, 0xd83c, 0xddf5, 0xd83c, 0xddf0, 0xd83c, 0xddf7, 0xd83c, 0xdde9,\n  0xd83c, 0xddea, 0xd83c, 0xdde8, 0xd83c, 0xddf3, 0xd83c, 0xddfa, 0xd83c, 0xddf8, 0xd83c, 0xddeb,\n  0xd83c, 0xddf7, 0xd83c, 0xddea, 0xd83c, 0xddf8, 0xd83c, 0xddee, 0xd83c, 0xddf9, 0xd83c, 0xddf7,\n  0xd83c, 0xddfa, 0xd83c, 0xddec, 0xd83c, 0xdde7, 0x0031, 0x20e3, 0x0032, 0x20e3, 0x0033, 0x20e3,\n  0x0034, 0x20e3, 0x0035, 0x20e3, 0x0036, 0x20e3, 0x0037, 0x20e3, 0x0038, 0x20e3, 0x0039, 0x20e3,\n  0x0030, 0x20e3, 0xd83d, 0xdd1f, 0x2757, 0x2753, 0x2665, 0x2666, 0xd83d, 0xdcaf, 0xd83d, 0xdd17,\n  0xd83d, 0xdd31, 0xd83d, 0xdd34, 0xd83d, 0xdd35, 0xd83d, 0xdd36, 0xd83d, 0xdd37,\n]);\n\nexport const EMOJI_OFFSETS = [\n  0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22,\n  24, 26, 28, 30, 32, 34, 36, 38, 40, 42, 44, 46,\n  48, 50, 52, 54, 56, 58, 60, 62, 64, 66, 68, 70,\n  72, 74, 76, 78, 80, 82, 84, 86, 87, 88, 90, 92,\n  94, 96, 98, 100, 102, 104, 106, 108, 110, 112, 114, 116,\n  118, 120, 122, 124, 126, 128, 130, 132, 134, 136, 138, 140,\n  142, 144, 146, 148, 150, 152, 154, 156, 158, 160, 162, 164,\n  166, 168, 170, 172, 174, 176, 178, 180, 182, 184, 186, 188,\n  190, 192, 194, 196, 198, 200, 202, 204, 206, 208, 210, 212,\n  214, 216, 218, 220, 222, 224, 226, 228, 230, 232, 234, 236,\n  238, 240, 242, 244, 246, 248, 250, 252, 254, 256, 258, 259,\n  260, 261, 262, 264, 266, 268, 270, 272, 274, 276, 278, 280,\n  282, 284, 286, 288, 290, 292, 294, 295, 297, 299, 301, 303,\n  305, 306, 307, 308, 310, 312, 314, 316, 318, 320, 322, 324,\n  326, 328, 330, 332, 334, 336, 338, 340, 342, 344, 346, 348,\n  350, 351, 353, 355, 357, 359, 360, 362, 364, 365, 366, 368,\n  370, 372, 374, 376, 378, 380, 382, 384, 386, 388, 390, 392,\n  394, 396, 398, 400, 402, 404, 406, 407, 408, 410, 412, 414,\n  416, 418, 420, 422, 424, 426, 427, 429, 431, 433, 435, 437,\n  439, 441, 443, 445, 447, 449, 451, 453, 455, 457, 459, 461,\n  463, 465, 467, 469, 471, 473, 475, 477, 479, 481, 483, 485,\n  487, 489, 491, 493, 495, 497, 499, 501, 503, 505, 507, 508,\n  510, 511, 513, 515, 517, 519, 521, 522, 524, 526, 528, 529,\n  531, 532, 534, 536, 538, 540, 542, 544, 546, 548, 550, 552,\n  554, 556, 558, 560, 562, 564, 566, 567, 569, 570, 572, 574,\n  576, 578, 582, 586, 590, 594, 598, 602, 606, 610, 614, 618,\n  620, 622, 624, 626, 628, 630, 632, 634, 636, 638, 640, 641,\n  642, 643, 644, 646, 648, 650, 652, 654, 656, 658,\n];\n","import { addActionHandler, getGlobal, setGlobal } from '../../index';\nimport { selectActiveGroupCall, selectGroupCallParticipant, selectPhoneCallUser } from '../../selectors/calls';\nimport { updateGroupCall, updateGroupCallParticipant } from '../../reducers/calls';\nimport { buildCollectionByKey, omit } from '../../../util/iteratees';\nimport type { ApiCallProtocol } from '../../../lib/secret-sauce';\nimport {\n  handleUpdateGroupCallConnection,\n  handleUpdateGroupCallParticipants,\n  joinPhoneCall, processSignalingMessage,\n} from '../../../lib/secret-sauce';\nimport type { ApiPhoneCall } from '../../../api/types';\nimport { ARE_CALLS_SUPPORTED } from '../../../util/windowEnvironment';\nimport { callApi } from '../../../api/gramjs';\nimport * as langProvider from '../../../util/langProvider';\nimport { EMOJI_DATA, EMOJI_OFFSETS } from '../../../util/phoneCallEmojiConstants';\nimport type { ActionReturnType } from '../../types';\nimport { updateTabState } from '../../reducers/tabs';\nimport { getCurrentTabId } from '../../../util/establishMultitabRole';\nimport { addUsers } from '../../reducers';\n\naddActionHandler('apiUpdate', (global, actions, update): ActionReturnType => {\n  const { activeGroupCallId } = global.groupCalls;\n\n  switch (update['@type']) {\n    case 'updateGroupCallLeavePresentation': {\n      actions.toggleGroupCallPresentation({ value: false });\n      break;\n    }\n    case 'updateGroupCallStreams': {\n      if (!update.userId || !activeGroupCallId) break;\n      if (!selectGroupCallParticipant(global, activeGroupCallId, update.userId)) break;\n\n      return updateGroupCallParticipant(global, activeGroupCallId, update.userId, omit(update, ['@type', 'userId']));\n    }\n    case 'updateGroupCallConnectionState': {\n      if (!activeGroupCallId) break;\n\n      if (update.connectionState === 'disconnected') {\n        if ('leaveGroupCall' in actions) actions.leaveGroupCall({ isFromLibrary: true, tabId: getCurrentTabId() });\n        break;\n      }\n\n      return updateGroupCall(global, activeGroupCallId, {\n        connectionState: update.connectionState,\n        isSpeakerDisabled: update.isSpeakerDisabled,\n      });\n    }\n    case 'updateGroupCallParticipants': {\n      const { groupCallId, participants } = update;\n      if (activeGroupCallId === groupCallId) {\n        void handleUpdateGroupCallParticipants(participants);\n      }\n      break;\n    }\n    case 'updateGroupCallConnection': {\n      if (update.data.stream) {\n        actions.showNotification({ message: 'Big live streams are not yet supported', tabId: getCurrentTabId() });\n        if ('leaveGroupCall' in actions) actions.leaveGroupCall({ tabId: getCurrentTabId() });\n        break;\n      }\n      void handleUpdateGroupCallConnection(update.data, update.presentation);\n\n      const groupCall = selectActiveGroupCall(global);\n      if (groupCall?.participants && Object.keys(groupCall.participants).length > 0) {\n        void handleUpdateGroupCallParticipants(Object.values(groupCall.participants));\n      }\n      break;\n    }\n    case 'updatePhoneCallMediaState':\n      return {\n        ...global,\n        phoneCall: {\n          ...global.phoneCall,\n          ...omit(update, ['@type']),\n        } as ApiPhoneCall,\n      };\n    case 'updatePhoneCall': {\n      if (!ARE_CALLS_SUPPORTED) return undefined;\n      const { phoneCall, currentUserId } = global;\n\n      const call: ApiPhoneCall = {\n        ...phoneCall,\n        ...update.call,\n      };\n\n      const isOutgoing = phoneCall?.adminId === currentUserId;\n\n      global = {\n        ...global,\n        phoneCall: call,\n      };\n\n      if (phoneCall && phoneCall.id && call.id !== phoneCall.id) {\n        if (call.state !== 'discarded') {\n          callApi('discardCall', {\n            call,\n            isBusy: true,\n          });\n        }\n        return undefined;\n      }\n\n      const {\n        accessHash, state, connections, gB,\n      } = call;\n\n      if (state === 'active' || state === 'accepted') {\n        if (!verifyPhoneCallProtocol(call.protocol)) {\n          const user = selectPhoneCallUser(global);\n          if ('hangUp' in actions) actions.hangUp({ tabId: getCurrentTabId() });\n          actions.showNotification({\n            message: langProvider.translate('VoipPeerIncompatible', user?.firstName),\n            tabId: getCurrentTabId(),\n          });\n          return undefined;\n        }\n      }\n\n      if (state === 'discarded') {\n        // Discarded from other device\n        if (!phoneCall) return undefined;\n\n        return updateTabState(global, {\n          ...(call.needRating && { ratingPhoneCall: call }),\n          isCallPanelVisible: undefined,\n        }, getCurrentTabId());\n      } else if (state === 'accepted' && accessHash && gB) {\n        (async () => {\n          const { gA, keyFingerprint, emojis } = await callApi('confirmPhoneCall', [gB, EMOJI_DATA, EMOJI_OFFSETS])!;\n\n          global = getGlobal();\n          const newCall = {\n            ...global.phoneCall,\n            emojis,\n          } as ApiPhoneCall;\n\n          global = {\n            ...global,\n            phoneCall: newCall,\n          };\n          setGlobal(global);\n\n          const result = await callApi('confirmCall', {\n            call, gA, keyFingerprint,\n          });\n          if (result) {\n            global = getGlobal();\n            global = addUsers(global, buildCollectionByKey(result.users, 'id'));\n            setGlobal(global);\n          }\n        })();\n      } else if (state === 'active' && connections && phoneCall?.state !== 'active') {\n        if (!isOutgoing) {\n          callApi('receivedCall', { call });\n          (async () => {\n            const { emojis } = await callApi('confirmPhoneCall', [call!.gAOrB!, EMOJI_DATA, EMOJI_OFFSETS])!;\n\n            global = getGlobal();\n            const newCall = {\n              ...global.phoneCall,\n              emojis,\n            } as ApiPhoneCall;\n\n            global = {\n              ...global,\n              phoneCall: newCall,\n            };\n            setGlobal(global);\n          })();\n        }\n        void joinPhoneCall(\n          connections, actions.sendSignalingData, isOutgoing, Boolean(call?.isVideo), actions.apiUpdate,\n        );\n      }\n\n      return global;\n    }\n    case 'updatePhoneCallConnectionState': {\n      const { connectionState } = update;\n\n      if (!global.phoneCall) return global;\n\n      if (connectionState === 'closed' || connectionState === 'disconnected' || connectionState === 'failed') {\n        if ('hangUp' in actions) actions.hangUp({ tabId: getCurrentTabId() });\n        return undefined;\n      }\n\n      return {\n        ...global,\n        phoneCall: {\n          ...global.phoneCall,\n          isConnected: connectionState === 'connected',\n        },\n      };\n    }\n    case 'updatePhoneCallSignalingData': {\n      const { phoneCall } = global;\n\n      if (!phoneCall) {\n        break;\n      }\n\n      callApi('decodePhoneCallData', [update.data])?.then(processSignalingMessage);\n      break;\n    }\n  }\n\n  return undefined;\n});\n\nfunction verifyPhoneCallProtocol(protocol?: ApiCallProtocol) {\n  return protocol?.libraryVersions.some((version) => {\n    return version === '4.0.0' || version === '4.0.1';\n  });\n}\n","export const vibrateShort = () => {\n  navigator.vibrate?.(50);\n};\n","import type { GroupCallConnectionState } from '../../../lib/secret-sauce';\nimport type { FC } from '../../../lib/teact/teact';\nimport React, {\n  memo, useEffect, useMemo, useRef, useState,\n} from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\n\nimport { LOCAL_TGS_URLS } from '../../common/helpers/animatedAssets';\nimport buildClassName from '../../../util/buildClassName';\nimport { vibrateShort } from '../../../util/vibrate';\nimport usePrevious from '../../../hooks/usePrevious';\nimport { selectActiveGroupCall, selectGroupCallParticipant } from '../../../global/selectors/calls';\nimport useLang from '../../../hooks/useLang';\n\nimport AnimatedIcon from '../../common/AnimatedIcon';\n\nimport './MicrophoneButton.scss';\n\nconst CONNECTION_STATE_DEFAULT = 'discarded';\n\ntype StateProps = {\n  connectionState?: GroupCallConnectionState;\n  hasRequestedToSpeak: boolean;\n  isMuted?: boolean;\n  canSelfUnmute?: boolean;\n  noAudioStream: boolean;\n};\n\nconst REQUEST_TO_SPEAK_THROTTLE = 3000;\nconst HOLD_TO_SPEAK_TIME = 200;\nconst ICON_SIZE = 48;\n\nconst MicrophoneButton: FC<StateProps> = ({\n  noAudioStream,\n  canSelfUnmute,\n  isMuted,\n  hasRequestedToSpeak,\n  connectionState,\n}) => {\n  const {\n    toggleGroupCallMute,\n    requestToSpeak,\n    playGroupCallSound,\n  } = getActions();\n\n  const lang = useLang();\n  const muteMouseDownState = useRef('up');\n\n  const [isRequestingToSpeak, setIsRequestingToSpeak] = useState(false);\n  const isConnecting = connectionState !== 'connected';\n  const shouldRaiseHand = !canSelfUnmute && isMuted;\n  const prevShouldRaiseHand = usePrevious(shouldRaiseHand);\n\n  useEffect(() => {\n    if (prevShouldRaiseHand && !shouldRaiseHand) {\n      playGroupCallSound({ sound: 'allowTalk' });\n    }\n  }, [playGroupCallSound, prevShouldRaiseHand, shouldRaiseHand]);\n\n  // Voice mini\n  // unmuted -> muted [69, 99]\n  // muted -> unmuted [36, 69]\n  // raise -> muted [0, 36]\n  // muted -> raise [99, 136]\n  // unmuted -> raise [136, 172]\n  // TODO should probably move to other component\n  const playSegment: [number, number] = useMemo(() => {\n    if (isRequestingToSpeak) {\n      const r = Math.floor(Math.random() * 100);\n      return (r < 32 ? [0, 120]\n        : (r < 64 ? [120, 240]\n          : (r < 97 ? [240, 420]\n            : [420, 540]\n          )\n        )\n      );\n    }\n    if (!prevShouldRaiseHand && shouldRaiseHand) {\n      return noAudioStream ? [99, 135] : [136, 172];\n    }\n    if (prevShouldRaiseHand && !shouldRaiseHand) {\n      return [0, 36];\n    }\n    if (!shouldRaiseHand) {\n      return noAudioStream ? [69, 99] : [36, 69];\n    }\n    return [0, 0];\n  }, [prevShouldRaiseHand, isRequestingToSpeak, noAudioStream, shouldRaiseHand]);\n\n  const animatedIconName = isRequestingToSpeak ? 'HandFilled' : 'VoiceMini';\n\n  const toggleMute = () => {\n    vibrateShort();\n    toggleGroupCallMute();\n  };\n\n  const handleMouseDownMute = () => {\n    if (shouldRaiseHand) {\n      if (isRequestingToSpeak) return;\n      vibrateShort();\n      requestToSpeak();\n      setIsRequestingToSpeak(true);\n      setTimeout(() => {\n        setIsRequestingToSpeak(false);\n      }, REQUEST_TO_SPEAK_THROTTLE);\n      return;\n    }\n    muteMouseDownState.current = 'down';\n    if (noAudioStream) {\n      setTimeout(() => {\n        if (muteMouseDownState.current === 'down') {\n          muteMouseDownState.current = 'hold';\n          toggleMute();\n        }\n      }, HOLD_TO_SPEAK_TIME);\n    }\n  };\n\n  const handleMouseUpMute = () => {\n    if (shouldRaiseHand) {\n      return;\n    }\n    toggleMute();\n    muteMouseDownState.current = 'up';\n  };\n\n  const buttonText = lang(\n    hasRequestedToSpeak ? 'VoipMutedTapedForSpeak' : (\n      shouldRaiseHand ? 'VoipMutedByAdmin' : (\n        noAudioStream ? 'VoipUnmute' : 'VoipTapToMute'\n      )\n    ),\n  );\n\n  return (\n    <div className=\"button-wrapper microphone-wrapper\">\n      <button\n        className={buildClassName(\n          'MicrophoneButton',\n          noAudioStream && 'crossed',\n          canSelfUnmute && 'can-self-unmute',\n          isConnecting && 'is-connecting',\n          shouldRaiseHand && 'muted-by-admin',\n        )}\n        onMouseDown={handleMouseDownMute}\n        onMouseUp={handleMouseUpMute}\n      >\n        <AnimatedIcon\n          tgsUrl={LOCAL_TGS_URLS[animatedIconName]}\n          size={ICON_SIZE}\n          playSegment={playSegment}\n        />\n      </button>\n      <div className=\"button-text\">\n        {buttonText}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(withGlobal(\n  (global): StateProps => {\n    const groupCall = selectActiveGroupCall(global);\n\n    const { connectionState } = groupCall || {};\n    const meParticipant = groupCall && selectGroupCallParticipant(global, groupCall.id, global.currentUserId!);\n\n    const {\n      raiseHandRating, hasAudioStream, canSelfUnmute, isMuted,\n    } = meParticipant || {};\n\n    return {\n      connectionState: connectionState || CONNECTION_STATE_DEFAULT,\n      hasRequestedToSpeak: Boolean(raiseHandRating),\n      noAudioStream: !hasAudioStream,\n      canSelfUnmute,\n      isMuted,\n    };\n  },\n)(MicrophoneButton));\n","import type { GroupCallParticipant } from '../../../lib/secret-sauce';\nimport type { FC } from '../../../lib/teact/teact';\nimport React, {\n  memo, useCallback, useEffect, useState,\n} from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\n\nimport type { IAnchorPosition } from '../../../types';\n\nimport { GROUP_CALL_DEFAULT_VOLUME, GROUP_CALL_VOLUME_MULTIPLIER } from '../../../config';\nimport { LOCAL_TGS_URLS } from '../../common/helpers/animatedAssets';\nimport buildClassName from '../../../util/buildClassName';\nimport buildStyle from '../../../util/buildStyle';\nimport useRunThrottled from '../../../hooks/useRunThrottled';\nimport useFlag from '../../../hooks/useFlag';\nimport useLang from '../../../hooks/useLang';\nimport { selectIsAdminInActiveGroupCall } from '../../../global/selectors/calls';\n\nimport Menu from '../../ui/Menu';\nimport MenuItem from '../../ui/MenuItem';\nimport AnimatedIcon from '../../common/AnimatedIcon';\nimport DeleteMemberModal from '../../right/DeleteMemberModal';\n\nimport './GroupCallParticipantMenu.scss';\n\nconst SPEAKER_ICON_DISABLED_SEGMENT: [number, number] = [0, 17];\nconst SPEAKER_ICON_ENABLED_SEGMENT: [number, number] = [17, 34];\n\ntype OwnProps = {\n  participant?: GroupCallParticipant;\n  closeDropdown: VoidFunction;\n  isDropdownOpen: boolean;\n  anchor?: IAnchorPosition;\n};\n\ntype StateProps = {\n  isAdmin: boolean;\n};\n\nconst VOLUME_ZERO = 0;\nconst VOLUME_LOW = 50;\nconst VOLUME_MEDIUM = 100;\nconst VOLUME_NORMAL = 150;\n\nconst VOLUME_CHANGE_THROTTLE = 500;\n\nconst SPEAKER_ICON_SIZE = 24;\n\nconst GroupCallParticipantMenu: FC<OwnProps & StateProps> = ({\n  participant,\n  closeDropdown,\n  isDropdownOpen,\n  anchor,\n  isAdmin,\n}) => {\n  const {\n    toggleGroupCallMute,\n    setGroupCallParticipantVolume,\n    toggleGroupCallPanel,\n    openChat,\n    requestToSpeak,\n  } = getActions();\n\n  const lang = useLang();\n  const [isDeleteUserModalOpen, openDeleteUserModal, closeDeleteUserModal] = useFlag();\n\n  const id = participant?.id;\n  const {\n    isMutedByMe, isMuted, isSelf, canSelfUnmute,\n  } = participant || {};\n  const isRaiseHand = Boolean(participant?.raiseHandRating);\n  const shouldRaiseHand = !canSelfUnmute && isMuted;\n\n  const [localVolume, setLocalVolume] = useState(\n    isMutedByMe ? VOLUME_ZERO : ((participant?.volume || GROUP_CALL_DEFAULT_VOLUME) / GROUP_CALL_VOLUME_MULTIPLIER),\n  );\n\n  useEffect(() => {\n    setLocalVolume(isMutedByMe\n      ? VOLUME_ZERO\n      : ((participant?.volume || GROUP_CALL_DEFAULT_VOLUME) / GROUP_CALL_VOLUME_MULTIPLIER));\n    // We only want to initialize local volume when switching participants and ignore following updates from server\n    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  }, [id]);\n\n  const runThrottled = useRunThrottled(VOLUME_CHANGE_THROTTLE);\n\n  const handleRemove = useCallback((e: React.SyntheticEvent<any>) => {\n    e.stopPropagation();\n    openDeleteUserModal();\n    closeDropdown();\n  }, [openDeleteUserModal, closeDropdown]);\n\n  const handleCancelRequestToSpeak = useCallback((e: React.SyntheticEvent<any>) => {\n    e.stopPropagation();\n    requestToSpeak({\n      value: false,\n    });\n    closeDropdown();\n  }, [requestToSpeak, closeDropdown]);\n\n  const handleMute = useCallback((e: React.SyntheticEvent<any>) => {\n    e.stopPropagation();\n    closeDropdown();\n\n    if (!isAdmin) {\n      setLocalVolume(isMutedByMe ? GROUP_CALL_DEFAULT_VOLUME / GROUP_CALL_VOLUME_MULTIPLIER : VOLUME_ZERO);\n    }\n\n    toggleGroupCallMute({\n      participantId: id!,\n      value: isAdmin ? !shouldRaiseHand : !isMutedByMe,\n    });\n  }, [closeDropdown, toggleGroupCallMute, id, isAdmin, shouldRaiseHand, isMutedByMe]);\n\n  const handleOpenProfile = useCallback((e: React.SyntheticEvent<any>) => {\n    e.stopPropagation();\n    toggleGroupCallPanel();\n    openChat({\n      id,\n    });\n    closeDropdown();\n  }, [toggleGroupCallPanel, closeDropdown, openChat, id]);\n\n  const isLocalVolumeZero = localVolume === VOLUME_ZERO;\n  const speakerIconPlaySegment = isLocalVolumeZero ? SPEAKER_ICON_DISABLED_SEGMENT : SPEAKER_ICON_ENABLED_SEGMENT;\n\n  const handleChangeVolume = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = Number(e.target.value);\n    setLocalVolume(value);\n    runThrottled(() => {\n      if (value === VOLUME_ZERO) {\n        toggleGroupCallMute({\n          participantId: id!,\n          value: true,\n        });\n      } else {\n        setGroupCallParticipantVolume({\n          participantId: id!,\n          volume: Math.floor(value * GROUP_CALL_VOLUME_MULTIPLIER),\n        });\n      }\n    });\n  };\n\n  return (\n    <div>\n      <Menu\n        isOpen={isDropdownOpen}\n        positionX=\"right\"\n        autoClose\n        style={buildStyle(anchor && `right: 1rem; top: ${anchor.y}px`)}\n        onClose={closeDropdown}\n        className=\"participant-menu\"\n      >\n        {!isSelf && !shouldRaiseHand && (\n          <div className=\"group\">\n            <div className={buildClassName(\n              'volume-control',\n              localVolume < VOLUME_LOW && 'low',\n              localVolume >= VOLUME_LOW && localVolume < VOLUME_MEDIUM && 'medium',\n              localVolume >= VOLUME_MEDIUM && localVolume < VOLUME_NORMAL && 'normal',\n              localVolume >= VOLUME_NORMAL && 'high',\n            )}\n            >\n              <input\n                type=\"range\"\n                min=\"0\"\n                max=\"200\"\n                value={localVolume}\n                onChange={handleChangeVolume}\n              />\n              <div className=\"info\">\n                <AnimatedIcon\n                  tgsUrl={LOCAL_TGS_URLS.Speaker}\n                  playSegment={speakerIconPlaySegment}\n                  size={SPEAKER_ICON_SIZE}\n                />\n                <span>{localVolume}%</span>\n              </div>\n            </div>\n          </div>\n        )}\n        <div className=\"group\">\n          {(isRaiseHand && isSelf) && (\n            <MenuItem\n              icon=\"stop-raising-hand\"\n              onClick={handleCancelRequestToSpeak}\n            >\n              {lang('VoipGroupCancelRaiseHand')}\n            </MenuItem>\n          )}\n          {!isSelf && <MenuItem icon=\"user\" onClick={handleOpenProfile}>{lang('VoipGroupOpenProfile')}</MenuItem>}\n          {!isSelf && (\n            // TODO cross mic\n            <MenuItem\n              icon={isMuted ? (isAdmin ? 'allow-speak' : 'microphone-alt') : 'microphone-alt'}\n              onClick={handleMute}\n            >\n              {isAdmin\n                ? lang(shouldRaiseHand ? 'VoipGroupAllowToSpeak' : 'VoipMute')\n                : lang(isMutedByMe ? 'VoipGroupUnmuteForMe' : 'VoipGroupMuteForMe')}\n            </MenuItem>\n          )}\n          {!isSelf && isAdmin && (\n            // TODO replace with hand\n            <MenuItem icon=\"delete-user\" destructive onClick={handleRemove}>\n              {lang('VoipGroupUserRemove')}\n            </MenuItem>\n          )}\n        </div>\n      </Menu>\n\n      {!isSelf && isAdmin && (\n        <DeleteMemberModal\n          isOpen={isDeleteUserModalOpen}\n          userId={id}\n          onClose={closeDeleteUserModal}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default memo(withGlobal<OwnProps>(\n  (global): StateProps => {\n    return {\n      isAdmin: selectIsAdminInActiveGroupCall(global),\n    };\n  },\n)(GroupCallParticipantMenu));\n","import useThrottledCallback from './useThrottledCallback';\n\nexport default function useRunThrottled(ms: number, noFirst?: boolean, deps: any = []) {\n  return useThrottledCallback((cb: NoneToVoidFunction) => {\n    cb();\n    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  }, deps, ms, noFirst);\n}\n","import type { GroupCallParticipant } from '../../../lib/secret-sauce';\nimport { THRESHOLD } from '../../../lib/secret-sauce';\nimport type { FC } from '../../../lib/teact/teact';\nimport React, { memo, useMemo } from '../../../lib/teact/teact';\n\nimport { LOCAL_TGS_URLS } from '../../common/helpers/animatedAssets';\nimport usePrevious from '../../../hooks/usePrevious';\n\nimport AnimatedIcon from '../../common/AnimatedIcon';\n\ntype OwnProps = {\n  participant: GroupCallParticipant;\n  noColor?: boolean;\n};\n\nconst OutlinedMicrophoneIcon: FC<OwnProps> = ({\n  participant,\n  noColor,\n}) => {\n  const { isMuted, isMutedByMe } = participant;\n  const isSpeaking = (participant.amplitude || 0) > THRESHOLD;\n  const isRaiseHand = Boolean(participant.raiseHandRating);\n  const prevIsRaiseHand = usePrevious(isRaiseHand);\n  const canSelfUnmute = Boolean(participant?.canSelfUnmute);\n  const shouldRaiseHand = !canSelfUnmute && isMuted;\n  const prevIsMuted = usePrevious(isMuted);\n\n  const playSegment: [number, number] = useMemo(() => {\n    if (isMuted && !prevIsMuted) {\n      return [43, 64];\n    }\n\n    if (!isMuted && prevIsMuted) {\n      return [22, 42];\n    }\n\n    if (isRaiseHand && !prevIsRaiseHand) {\n      return [65, 84];\n    }\n\n    if (!shouldRaiseHand && prevIsRaiseHand) {\n      return [0, 21];\n    }\n\n    // TODO cancel request to speak should play in reverse\n    // if (!isRaiseHand && prevIsRaiseHand) {\n    //   return [84, 65];\n    // }\n\n    return isMuted ? [22, 23] : [43, 44];\n    // eslint-disable-next-line\n  }, [isMuted, shouldRaiseHand, isRaiseHand]);\n\n  const microphoneColor: string | undefined = useMemo(() => {\n    return noColor ? '#ffffff' : (\n      isRaiseHand ? '#4da6e0'\n        : (shouldRaiseHand || isMutedByMe ? '#ff706f' : (\n          isSpeaking ? '#57bc6c' : '#848d94'\n        ))\n    );\n  }, [noColor, isRaiseHand, shouldRaiseHand, isMutedByMe, isSpeaking]);\n\n  return (\n    <AnimatedIcon\n      tgsUrl={LOCAL_TGS_URLS.VoiceOutlined}\n      playSegment={playSegment}\n      size={28}\n      color={microphoneColor}\n    />\n  );\n};\n\nexport default memo(OutlinedMicrophoneIcon);\n","import type { GroupCallParticipant as TypeGroupCallParticipant } from '../../../lib/secret-sauce';\nimport { THRESHOLD } from '../../../lib/secret-sauce';\nimport type { FC } from '../../../lib/teact/teact';\nimport React, { memo, useMemo, useRef } from '../../../lib/teact/teact';\nimport { withGlobal } from '../../../global';\n\nimport type { ApiChat, ApiUser } from '../../../api/types';\n\nimport buildClassName from '../../../util/buildClassName';\nimport { selectChat, selectUser } from '../../../global/selectors';\nimport useLang from '../../../hooks/useLang';\nimport { GROUP_CALL_DEFAULT_VOLUME, GROUP_CALL_VOLUME_MULTIPLIER } from '../../../config';\n\nimport Avatar from '../../common/Avatar';\nimport OutlinedMicrophoneIcon from './OutlinedMicrophoneIcon';\n\nimport './GroupCallParticipant.scss';\n\ntype OwnProps = {\n  participant: TypeGroupCallParticipant;\n  openParticipantMenu: (anchor: HTMLDivElement, participant: TypeGroupCallParticipant) => void;\n};\n\ntype StateProps = {\n  user?: ApiUser;\n  chat?: ApiChat;\n};\n\nconst GroupCallParticipant: FC<OwnProps & StateProps> = ({\n  openParticipantMenu,\n  participant,\n  user,\n  chat,\n}) => {\n  // eslint-disable-next-line no-null/no-null\n  const anchorRef = useRef<HTMLDivElement>(null);\n  const lang = useLang();\n\n  const { isSelf, isMutedByMe, isMuted } = participant;\n  const isSpeaking = (participant.amplitude || 0) > THRESHOLD;\n  const isRaiseHand = Boolean(participant.raiseHandRating);\n\n  const handleOnClick = () => {\n    if (isSelf) return;\n    openParticipantMenu(anchorRef.current!, participant);\n  };\n\n  const [aboutText, aboutColor] = useMemo(() => {\n    if (isSelf) {\n      return [lang('ThisIsYou'), 'blue'];\n    }\n    if (isMutedByMe) {\n      return [lang('VoipGroupMutedForMe'), 'red'];\n    }\n    return isRaiseHand\n      ? [lang('WantsToSpeak'), 'blue']\n      : (!isMuted && isSpeaking ? [\n        participant.volume && participant.volume !== GROUP_CALL_DEFAULT_VOLUME\n          ? lang('SpeakingWithVolume',\n            (participant.volume / GROUP_CALL_VOLUME_MULTIPLIER).toString())\n            .replace('%%', '%') : lang('Speaking'),\n        'green',\n      ]\n        : (participant.about ? [participant.about, ''] : [lang('Listening'), 'blue']));\n  }, [isSpeaking, participant.volume, lang, isSelf, isMutedByMe, isRaiseHand, isMuted, participant.about]);\n\n  if (!user && !chat) {\n    return undefined;\n  }\n\n  const name = user ? `${user.firstName || ''} ${user.lastName || ''}` : chat?.title;\n\n  return (\n    <div\n      className={buildClassName(\n        'GroupCallParticipant',\n        participant.canSelfUnmute && 'can-self-unmute',\n      )}\n      onClick={handleOnClick}\n      ref={anchorRef}\n    >\n      <Avatar user={user} chat={chat} size=\"medium\" />\n      <div className=\"info\">\n        <span className=\"name\">{name}</span>\n        <span className={buildClassName('about', aboutColor)}>{aboutText}</span>\n      </div>\n      <div className=\"microphone\">\n        <OutlinedMicrophoneIcon participant={participant} />\n      </div>\n    </div>\n  );\n};\n\nexport default memo(withGlobal<OwnProps>(\n  (global, { participant }): StateProps => {\n    return {\n      user: participant.isUser ? selectUser(global, participant.id) : undefined,\n      chat: !participant.isUser ? selectChat(global, participant.id) : undefined,\n    };\n  },\n)(GroupCallParticipant));\n","import type { GroupCallParticipant as TypeGroupCallParticipant } from '../../../lib/secret-sauce';\nimport type { FC } from '../../../lib/teact/teact';\nimport React, { memo, useCallback, useMemo } from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\n\nimport useLang from '../../../hooks/useLang';\nimport { selectActiveGroupCall } from '../../../global/selectors/calls';\nimport useInfiniteScroll from '../../../hooks/useInfiniteScroll';\n\nimport GroupCallParticipant from './GroupCallParticipant';\nimport InfiniteScroll from '../../ui/InfiniteScroll';\n\ntype OwnProps = {\n  openParticipantMenu: (anchor: HTMLDivElement, participant: TypeGroupCallParticipant) => void;\n};\n\ntype StateProps = {\n  participantsCount: number;\n  participants?: Record<string, TypeGroupCallParticipant>;\n  canInvite?: boolean;\n};\n\nconst GroupCallParticipantList: FC<OwnProps & StateProps> = ({\n  participants,\n  participantsCount,\n  openParticipantMenu,\n}) => {\n  const {\n    createGroupCallInviteLink,\n    loadMoreGroupCallParticipants,\n  } = getActions();\n\n  const lang = useLang();\n\n  const participantsIds = useMemo(() => {\n    return Object.keys(participants || {});\n  }, [participants]);\n\n  const handleLoadMoreGroupCallParticipants = useCallback(() => {\n    loadMoreGroupCallParticipants();\n  }, [loadMoreGroupCallParticipants]);\n\n  const [viewportIds, getMore] = useInfiniteScroll(\n    handleLoadMoreGroupCallParticipants,\n    participantsIds,\n    participantsIds.length >= participantsCount,\n  );\n\n  function handleCreateGroupCallInviteLink() {\n    createGroupCallInviteLink();\n  }\n\n  return (\n    <div className=\"participants\">\n      <div className=\"invite-btn\" onClick={handleCreateGroupCallInviteLink}>\n        <div className=\"icon-wrapper\">\n          <i className=\"icon icon-add-user\" />\n        </div>\n        <div className=\"text\">{lang('VoipGroupInviteMember')}</div>\n      </div>\n\n      <InfiniteScroll\n        items={viewportIds}\n        onLoadMore={getMore}\n      >\n        {viewportIds?.map(\n          (participantId) => (\n            participants![participantId] && (\n              <GroupCallParticipant\n                key={participantId}\n                openParticipantMenu={openParticipantMenu}\n                participant={participants![participantId]}\n              />\n            )\n          ),\n        )}\n      </InfiniteScroll>\n\n    </div>\n  );\n};\n\nexport default memo(withGlobal<OwnProps>(\n  (global): StateProps => {\n    const { participantsCount, participants } = selectActiveGroupCall(global) || {};\n\n    return {\n      participants,\n      participantsCount: participantsCount || 0,\n    };\n  },\n)(GroupCallParticipantList));\n","import type { GroupCallParticipant as TypeGroupCallParticipant } from '../../../lib/secret-sauce';\nimport { getUserStreams, THRESHOLD } from '../../../lib/secret-sauce';\nimport type { FC } from '../../../lib/teact/teact';\nimport React, { memo, useCallback } from '../../../lib/teact/teact';\nimport { withGlobal } from '../../../global';\n\nimport type { ApiChat, ApiUser } from '../../../api/types';\n\nimport { GROUP_CALL_THUMB_VIDEO_DISABLED } from '../../../config';\nimport buildClassName from '../../../util/buildClassName';\nimport { selectChat, selectUser } from '../../../global/selectors';\nimport useLang from '../../../hooks/useLang';\n\nimport Avatar from '../../common/Avatar';\n\nimport './GroupCallParticipantVideo.scss';\n\ntype OwnProps = {\n  participant: TypeGroupCallParticipant;\n  type: 'video' | 'presentation';\n  onClick?: (id: string, type: 'video' | 'presentation') => void;\n  isFullscreen?: boolean;\n};\n\ntype StateProps = {\n  user?: ApiUser;\n  chat?: ApiChat;\n  currentUserId?: string;\n  isActive?: boolean;\n};\n\nconst GroupCallParticipantVideo: FC<OwnProps & StateProps> = ({\n  type,\n  onClick,\n  user,\n  chat,\n  isActive,\n  isFullscreen,\n}) => {\n  const lang = useLang();\n\n  const handleClick = useCallback(() => {\n    if (onClick) {\n      onClick(user?.id || chat!.id, type);\n    }\n  }, [chat, onClick, type, user?.id]);\n\n  if (!user && !chat) return undefined;\n\n  const streams = getUserStreams(user?.id || chat!.id);\n\n  return (\n    <div\n      className={buildClassName('GroupCallParticipantVideo', isActive && 'active')}\n      onClick={handleClick}\n    >\n      {isFullscreen && (\n        <button className=\"back-button\">\n          <i className=\"icon icon-arrow-left\" />\n          {lang('Back')}\n        </button>\n      )}\n      <Avatar user={user} chat={chat} className=\"thumbnail-avatar\" />\n      {!GROUP_CALL_THUMB_VIDEO_DISABLED && (\n        <div className=\"thumbnail-wrapper\">\n          <video className=\"thumbnail\" muted autoPlay playsInline srcObject={streams?.[type]} />\n        </div>\n      )}\n      <video className=\"video\" muted autoPlay playsInline srcObject={streams?.[type]} />\n      <div className=\"info\">\n        <i className=\"icon icon-microphone-alt\" />\n        <span className=\"name\">{user?.firstName || chat?.title}</span>\n        {type === 'presentation' && <i className=\"icon last-icon icon-active-sessions\" />}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(withGlobal<OwnProps>(\n  (global, { participant }): StateProps => {\n    return {\n      currentUserId: global.currentUserId,\n      user: participant.isUser ? selectUser(global, participant.id) : undefined,\n      chat: !participant.isUser ? selectChat(global, participant.id) : undefined,\n      isActive: (participant.amplitude || 0) > THRESHOLD,\n    };\n  },\n)(GroupCallParticipantVideo));\n","import type { GroupCallParticipant } from '../../../lib/secret-sauce';\nimport type { FC } from '../../../lib/teact/teact';\nimport React, {\n  memo, useCallback, useMemo, useState,\n} from '../../../lib/teact/teact';\nimport { withGlobal } from '../../../global';\nimport GroupCallParticipantVideo from './GroupCallParticipantVideo';\nimport { selectActiveGroupCall } from '../../../global/selectors/calls';\nimport buildClassName from '../../../util/buildClassName';\n\ntype OwnProps = {\n  onDoubleClick?: VoidFunction;\n};\n\ntype StateProps = {\n  participants?: Record<string, GroupCallParticipant>;\n};\n\ntype SelectedVideo = {\n  type: 'video' | 'presentation';\n  id: string;\n};\n\nconst GroupCallParticipantStreams: FC<OwnProps & StateProps> = ({\n  participants,\n  onDoubleClick,\n}) => {\n  const [selectedVideo, setSelectedVideo] = useState<SelectedVideo | undefined>(undefined);\n  const presentationParticipants = useMemo(() => {\n    return Object.values(participants || {}).filter((participant) => participant.hasPresentationStream);\n  }, [participants]);\n  const videoParticipants = useMemo(() => {\n    return Object.values(participants || {}).filter((participant) => participant.hasVideoStream);\n  }, [participants]);\n\n  const totalVideoCount = videoParticipants.length + presentationParticipants.length;\n  // TODO replace with more adequate solution.\n  // There's a max of 30 videos or so right now\n  const columnCount = totalVideoCount <= 2 ? 1 : (\n    totalVideoCount <= 6 ? 2 : (\n      totalVideoCount <= 9 ? 3 : 4\n    )\n  );\n\n  const shouldSpanLastVideo = totalVideoCount === 3 || (columnCount === 2 && totalVideoCount % 2 !== 0);\n\n  const handleClickVideo = useCallback((id: string, type: 'video' | 'presentation') => {\n    if (!selectedVideo || (id !== selectedVideo.id || type !== selectedVideo.type)) {\n      setSelectedVideo({\n        id,\n        type,\n      });\n    } else {\n      setSelectedVideo(undefined);\n    }\n  }, [selectedVideo]);\n\n  return (\n    <div className=\"streams\" onDoubleClick={onDoubleClick}>\n      <div\n        className={buildClassName(\n          'videos',\n          shouldSpanLastVideo && 'span-last-video',\n        )}\n        style={`--column-count: ${selectedVideo ? 1 : columnCount}`}\n      >\n        {selectedVideo && (\n          <GroupCallParticipantVideo\n            key={selectedVideo.id}\n            isFullscreen\n            onClick={handleClickVideo}\n            participant={participants![selectedVideo.id]}\n            type={selectedVideo.type}\n          />\n        )}\n\n        {!selectedVideo ? presentationParticipants.map((participant) => (\n          <GroupCallParticipantVideo\n            key={participant.id}\n            onClick={handleClickVideo}\n            participant={participant}\n            type=\"presentation\"\n          />\n        )) : undefined}\n        {!selectedVideo ? videoParticipants.map((participant) => (\n          <GroupCallParticipantVideo\n            key={participant.id}\n            onClick={handleClickVideo}\n            participant={participant}\n            type=\"video\"\n          />\n        )) : undefined}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(withGlobal<OwnProps>(\n  (global): StateProps => {\n    const { participants } = selectActiveGroupCall(global) || {};\n    return {\n      participants,\n    };\n  },\n)(GroupCallParticipantStreams));\n","import type {\n  GroupCallConnectionState, GroupCallParticipant as TypeGroupCallParticipant,\n} from '../../../lib/secret-sauce';\nimport {\n  IS_SCREENSHARE_SUPPORTED, switchCameraInput, toggleSpeaker,\n} from '../../../lib/secret-sauce';\nimport type { FC } from '../../../lib/teact/teact';\nimport React, {\n  memo, useCallback, useEffect, useMemo, useRef, useState,\n} from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\nimport '../../../global/actions/calls';\n\nimport type { IAnchorPosition } from '../../../types';\n\nimport {\n  IS_ANDROID,\n  IS_IOS,\n  IS_REQUEST_FULLSCREEN_SUPPORTED,\n} from '../../../util/windowEnvironment';\nimport { LOCAL_TGS_URLS } from '../../common/helpers/animatedAssets';\nimport buildClassName from '../../../util/buildClassName';\nimport {\n  selectGroupCall,\n  selectGroupCallParticipant,\n  selectIsAdminInActiveGroupCall,\n} from '../../../global/selectors/calls';\nimport { selectTabState } from '../../../global/selectors';\nimport useFlag from '../../../hooks/useFlag';\nimport useLang from '../../../hooks/useLang';\nimport useAppLayout from '../../../hooks/useAppLayout';\n\nimport Loading from '../../ui/Loading';\nimport Button from '../../ui/Button';\nimport DropdownMenu from '../../ui/DropdownMenu';\nimport MenuItem from '../../ui/MenuItem';\nimport Modal from '../../ui/Modal';\nimport MicrophoneButton from './MicrophoneButton';\nimport AnimatedIcon from '../../common/AnimatedIcon';\nimport Checkbox from '../../ui/Checkbox';\nimport GroupCallParticipantMenu from './GroupCallParticipantMenu';\nimport GroupCallParticipantList from './GroupCallParticipantList';\nimport GroupCallParticipantStreams from './GroupCallParticipantStreams';\n\nimport './GroupCall.scss';\n\nconst CAMERA_FLIP_PLAY_SEGMENT: [number, number] = [0, 10];\nconst PARTICIPANT_HEIGHT = 60;\n\nexport type OwnProps = {\n  groupCallId: string;\n};\n\ntype StateProps = {\n  isCallPanelVisible: boolean;\n  connectionState: GroupCallConnectionState;\n  title?: string;\n  meParticipant?: TypeGroupCallParticipant;\n  participantsCount?: number;\n  isSpeakerEnabled?: boolean;\n  isAdmin: boolean;\n  participants: Record<string, TypeGroupCallParticipant>;\n};\n\nconst GroupCall: FC<OwnProps & StateProps> = ({\n  groupCallId,\n  isCallPanelVisible,\n  connectionState,\n  isSpeakerEnabled,\n  title,\n  meParticipant,\n  isAdmin,\n  participants,\n\n}) => {\n  const {\n    toggleGroupCallVideo,\n    toggleGroupCallPresentation,\n    leaveGroupCall,\n    toggleGroupCallPanel,\n    connectToActiveGroupCall,\n    playGroupCallSound,\n  } = getActions();\n\n  const lang = useLang();\n  // eslint-disable-next-line no-null/no-null\n  const containerRef = useRef<HTMLDivElement>(null);\n  const { isMobile, isLandscape } = useAppLayout();\n\n  const [isLeaving, setIsLeaving] = useState(false);\n  const [isFullscreen, openFullscreen, closeFullscreen] = useFlag();\n  const [isSidebarOpen, openSidebar, closeSidebar] = useFlag(true);\n  const hasVideoParticipants = Object.values(participants).some(({ video, presentation }) => video || presentation);\n  const isLandscapeLayout = isFullscreen && (!isMobile || isLandscape) && hasVideoParticipants;\n\n  const [participantMenu, setParticipantMenu] = useState<{\n    participant: TypeGroupCallParticipant;\n    anchor: IAnchorPosition;\n  } | undefined>();\n  const [isParticipantMenuOpen, openParticipantMenu, closeParticipantMenu] = useFlag();\n\n  const [isConfirmLeaveModalOpen, openConfirmLeaveModal, closeConfirmLeaveModal] = useFlag();\n  const [isEndGroupCallModal, setIsEndGroupCallModal] = useState(false);\n  const [shouldEndGroupCall, setShouldEndGroupCall] = useState(false);\n\n  const hasVideo = meParticipant?.hasVideoStream;\n  const hasPresentation = meParticipant?.hasPresentationStream;\n  const isConnecting = connectionState !== 'connected';\n  const canSelfUnmute = meParticipant?.canSelfUnmute;\n  const shouldRaiseHand = !canSelfUnmute && meParticipant?.isMuted;\n  const handleOpenParticipantMenu = useCallback((anchor: HTMLDivElement, participant: TypeGroupCallParticipant) => {\n    const rect = anchor.getBoundingClientRect();\n    const container = containerRef.current!;\n\n    setParticipantMenu({\n      anchor: { x: rect.left, y: rect.top - container.offsetTop + PARTICIPANT_HEIGHT },\n      participant,\n    });\n\n    openParticipantMenu();\n  }, [openParticipantMenu]);\n\n  useEffect(() => {\n    if (connectionState === 'connected') {\n      playGroupCallSound({ sound: 'join' });\n    } else if (connectionState === 'reconnecting') {\n      playGroupCallSound({ sound: 'connecting' });\n    }\n  }, [connectionState, playGroupCallSound]);\n\n  const handleCloseConfirmLeaveModal = useCallback(() => {\n    closeConfirmLeaveModal();\n    setIsEndGroupCallModal(false);\n  }, [closeConfirmLeaveModal]);\n\n  const MainButton: FC<{ onTrigger: () => void; isOpen?: boolean }> = useMemo(() => {\n    return ({ onTrigger, isOpen }) => (\n      <Button\n        round\n        size=\"smaller\"\n        color=\"translucent\"\n        className={isOpen ? 'active' : undefined}\n        onClick={onTrigger}\n        ariaLabel={lang('AccDescrMoreOptions')}\n      >\n        <i className=\"icon icon-more\" />\n      </Button>\n    );\n  }, [lang]);\n\n  const handleToggleFullscreen = useCallback(() => {\n    if (!containerRef.current) return;\n\n    if (isFullscreen) {\n      document.exitFullscreen().then(closeFullscreen);\n    } else {\n      containerRef.current.requestFullscreen().then(openFullscreen);\n    }\n  }, [closeFullscreen, isFullscreen, openFullscreen]);\n\n  const handleToggleSidebar = useCallback(() => {\n    if (isSidebarOpen) {\n      closeSidebar();\n    } else {\n      openSidebar();\n    }\n  }, [closeSidebar, isSidebarOpen, openSidebar]);\n\n  const handleStreamsDoubleClick = useCallback(() => {\n    if (!IS_REQUEST_FULLSCREEN_SUPPORTED) return;\n\n    if (!isFullscreen) {\n      closeSidebar();\n      handleToggleFullscreen();\n    } else {\n      handleToggleFullscreen();\n    }\n  }, [closeSidebar, handleToggleFullscreen, isFullscreen]);\n\n  const toggleFullscreen = useCallback(() => {\n    if (isFullscreen) {\n      closeFullscreen();\n    } else {\n      openFullscreen();\n    }\n  }, [closeFullscreen, isFullscreen, openFullscreen]);\n\n  const handleClose = useCallback(() => {\n    toggleGroupCallPanel();\n    if (isFullscreen) {\n      closeFullscreen();\n    }\n  }, [closeFullscreen, isFullscreen, toggleGroupCallPanel]);\n\n  useEffect(() => {\n    if (!IS_REQUEST_FULLSCREEN_SUPPORTED) return undefined;\n    const container = containerRef.current;\n    if (!container) return undefined;\n\n    container.addEventListener('fullscreenchange', toggleFullscreen);\n\n    return () => {\n      container.removeEventListener('fullscreenchange', toggleFullscreen);\n    };\n  }, [toggleFullscreen]);\n\n  const handleClickVideoOrSpeaker = () => {\n    if (shouldRaiseHand) {\n      toggleSpeaker();\n    } else {\n      toggleGroupCallVideo();\n    }\n  };\n\n  useEffect(() => {\n    connectToActiveGroupCall();\n  }, [connectToActiveGroupCall, groupCallId]);\n\n  const endGroupCall = useCallback(() => {\n    setIsEndGroupCallModal(true);\n    setShouldEndGroupCall(true);\n    openConfirmLeaveModal();\n    if (isFullscreen) {\n      handleToggleFullscreen();\n    }\n  }, [handleToggleFullscreen, isFullscreen, openConfirmLeaveModal]);\n\n  const handleLeaveGroupCall = useCallback(() => {\n    if (isAdmin && !isConfirmLeaveModalOpen) {\n      openConfirmLeaveModal();\n      if (isFullscreen) {\n        handleToggleFullscreen();\n      }\n      return;\n    }\n    playGroupCallSound({ sound: 'leave' });\n    setIsLeaving(true);\n    closeConfirmLeaveModal();\n  }, [\n    closeConfirmLeaveModal, handleToggleFullscreen, isAdmin, isConfirmLeaveModalOpen, isFullscreen,\n    openConfirmLeaveModal, playGroupCallSound,\n  ]);\n\n  const handleCloseAnimationEnd = useCallback(() => {\n    if (isLeaving) {\n      leaveGroupCall({\n        shouldDiscard: shouldEndGroupCall,\n      });\n    }\n  }, [isLeaving, leaveGroupCall, shouldEndGroupCall]);\n\n  const handleToggleGroupCallPresentation = useCallback(() => {\n    toggleGroupCallPresentation();\n  }, [toggleGroupCallPresentation]);\n\n  return (\n    <Modal\n      isOpen={!isCallPanelVisible && !isLeaving}\n      onClose={toggleGroupCallPanel}\n      className={buildClassName(\n        'GroupCall',\n        (isMobile && !isLandscape) && 'single-column',\n        isLandscapeLayout && 'landscape',\n        !isSidebarOpen && 'no-sidebar',\n      )}\n      dialogRef={containerRef}\n      onCloseAnimationEnd={handleCloseAnimationEnd}\n    >\n      <div className=\"header\">\n        <h3>{title || lang('VoipGroupVoiceChat')}</h3>\n        {IS_REQUEST_FULLSCREEN_SUPPORTED && (\n          <Button\n            round\n            size=\"smaller\"\n            color=\"translucent\"\n            onClick={handleToggleFullscreen}\n            ariaLabel={lang(isFullscreen ? 'AccExitFullscreen' : 'AccSwitchToFullscreen')}\n          >\n            <i className={buildClassName('icon', isFullscreen ? 'icon-smallscreen' : 'icon-fullscreen')} />\n          </Button>\n        )}\n        {isLandscapeLayout && (\n          <Button\n            round\n            size=\"smaller\"\n            color=\"translucent\"\n            onClick={handleToggleSidebar}\n          >\n            <i className=\"icon icon-sidebar\" />\n          </Button>\n        )}\n        {((IS_SCREENSHARE_SUPPORTED && !shouldRaiseHand) || isAdmin) && (\n          <DropdownMenu\n            positionX=\"right\"\n            trigger={MainButton}\n          >\n            {IS_SCREENSHARE_SUPPORTED && !shouldRaiseHand && (\n              <MenuItem\n                icon=\"share-screen-outlined\"\n                onClick={handleToggleGroupCallPresentation}\n              >\n                {lang(hasPresentation ? 'VoipChatStopScreenCapture' : 'VoipChatStartScreenCapture')}\n              </MenuItem>\n            )}\n            {isAdmin && (\n              <MenuItem\n                icon=\"phone-discard-outline\"\n                onClick={endGroupCall}\n                destructive\n              >\n                {lang('VoipGroupLeaveAlertEndChat')}\n              </MenuItem>\n            )}\n          </DropdownMenu>\n        )}\n        <Button\n          round\n          size=\"smaller\"\n          color=\"translucent\"\n          onClick={handleClose}\n        >\n          <i className=\"icon icon-close\" />\n        </Button>\n      </div>\n\n      <div className=\"scrollable custom-scroll\">\n        <GroupCallParticipantStreams onDoubleClick={handleStreamsDoubleClick} />\n\n        {(!isLandscapeLayout || isSidebarOpen)\n        && <GroupCallParticipantList openParticipantMenu={handleOpenParticipantMenu} />}\n      </div>\n\n      <GroupCallParticipantMenu\n        participant={participantMenu?.participant}\n        anchor={participantMenu?.anchor}\n        isDropdownOpen={isParticipantMenuOpen}\n        closeDropdown={closeParticipantMenu}\n      />\n\n      <div className=\"buttons\">\n        {isConnecting && <Loading />}\n\n        <div className=\"button-wrapper\">\n          <div className=\"video-buttons\">\n            {hasVideo && (IS_ANDROID || IS_IOS) && (\n              <button className=\"smaller-button\" onClick={switchCameraInput}>\n                <AnimatedIcon\n                  tgsUrl={LOCAL_TGS_URLS.CameraFlip}\n                  playSegment={CAMERA_FLIP_PLAY_SEGMENT}\n                  size={24}\n                />\n              </button>\n            )}\n            <button\n              className={buildClassName(\n                'small-button',\n                shouldRaiseHand ? 'speaker' : 'camera',\n                (hasVideo || (shouldRaiseHand && isSpeakerEnabled)) && 'active',\n              )}\n              onClick={handleClickVideoOrSpeaker}\n            >\n              <i className={buildClassName(\n                'icon',\n                shouldRaiseHand ? 'icon-speaker' : (hasVideo ? 'icon-video-stop' : 'icon-video'),\n              )}\n              />\n            </button>\n          </div>\n\n          <div className=\"button-text\">\n            {lang(shouldRaiseHand ? 'VoipSpeaker' : 'VoipCamera')}\n          </div>\n        </div>\n\n        <MicrophoneButton />\n\n        <div className=\"button-wrapper\">\n          <button className=\"small-button leave\" onClick={handleLeaveGroupCall}>\n            <i className=\"icon icon-phone-discard\" />\n          </button>\n\n          <div className=\"button-text\">\n            {lang('VoipGroupLeave')}\n          </div>\n        </div>\n      </div>\n\n      <Modal\n        isOpen={isConfirmLeaveModalOpen}\n        onClose={handleCloseConfirmLeaveModal}\n        className=\"error\"\n        title={lang(isEndGroupCallModal ? 'VoipGroupEndAlertTitle' : 'VoipGroupLeaveAlertTitle')}\n      >\n        <p>{lang(isEndGroupCallModal ? 'VoipGroupEndAlertText' : 'VoipGroupLeaveAlertText')}</p>\n        {!isEndGroupCallModal && (\n          <Checkbox\n            label={lang('VoipGroupEndChat')}\n            checked={shouldEndGroupCall}\n            onCheck={setShouldEndGroupCall}\n          />\n        )}\n        <div className=\"dialog-buttons\">\n          <Button isText className=\"confirm-dialog-button\" onClick={handleLeaveGroupCall}>\n            {lang(isEndGroupCallModal ? 'VoipGroupEnd' : 'VoipGroupLeave')}\n          </Button>\n          <Button isText className=\"confirm-dialog-button\" onClick={handleCloseConfirmLeaveModal}>\n            {lang('Cancel')}\n          </Button>\n        </div>\n      </Modal>\n    </Modal>\n  );\n};\n\nexport default memo(withGlobal<OwnProps>(\n  (global, { groupCallId }): StateProps => {\n    const {\n      connectionState, title, isSpeakerDisabled, participants, participantsCount,\n    } = selectGroupCall(global, groupCallId)! || {};\n\n    return {\n      connectionState,\n      title,\n      isSpeakerEnabled: !isSpeakerDisabled,\n      participantsCount,\n      meParticipant: selectGroupCallParticipant(global, groupCallId, global.currentUserId!),\n      isCallPanelVisible: Boolean(selectTabState(global).isCallPanelVisible),\n      isAdmin: selectIsAdminInActiveGroupCall(global),\n      participants,\n    };\n  },\n)(GroupCall));\n","import type { FC } from '../../lib/teact/teact';\nimport React, { memo, useEffect } from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { ApiGroupCall, ApiUser } from '../../api/types';\n\nimport { selectActiveGroupCall, selectPhoneCallUser } from '../../global/selectors/calls';\nimport { selectTabState } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport useLang from '../../hooks/useLang';\n\nimport './ActiveCallHeader.scss';\n\ntype StateProps = {\n  isCallPanelVisible?: boolean;\n  groupCall?: ApiGroupCall;\n  phoneCallUser?: ApiUser;\n};\n\nconst ActiveCallHeader: FC<StateProps> = ({\n  groupCall,\n  phoneCallUser,\n  isCallPanelVisible,\n}) => {\n  const { toggleGroupCallPanel } = getActions();\n\n  const lang = useLang();\n\n  useEffect(() => {\n    document.body.classList.toggle('has-call-header', Boolean(isCallPanelVisible));\n\n    return () => {\n      document.body.classList.toggle('has-call-header', false);\n    };\n  }, [isCallPanelVisible]);\n\n  function handleToggleGroupCallPanel() {\n    toggleGroupCallPanel();\n  }\n\n  if (!groupCall && !phoneCallUser) return undefined;\n\n  return (\n    <div\n      className={buildClassName(\n        'ActiveCallHeader',\n        isCallPanelVisible && 'open',\n      )}\n      onClick={handleToggleGroupCallPanel}\n    >\n      <span className=\"title\">{phoneCallUser?.firstName || groupCall?.title || lang('VoipGroupVoiceChat')}</span>\n    </div>\n  );\n};\n\nexport default memo(withGlobal(\n  (global): StateProps => {\n    const tabState = selectTabState(global);\n    return {\n      groupCall: tabState.isMasterTab ? selectActiveGroupCall(global) : undefined,\n      isCallPanelVisible: tabState.isCallPanelVisible,\n      phoneCallUser: tabState.isMasterTab ? selectPhoneCallUser(global) : undefined,\n    };\n  },\n)(ActiveCallHeader));\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"eWbOLx__FZXR1sqKEJek\",\"button\":\"XKOJvKiD4DsRfJLLhnw2\",\"active\":\"qvAVe7qcyaEvRQQ1StFI\",\"button-text\":\"wnAniFJmQ7ocVtjRHNey\",\"buttonText\":\"wnAniFJmQ7ocVtjRHNey\"};","import type { FC } from '../../../lib/teact/teact';\nimport React, { memo } from '../../../lib/teact/teact';\n\nimport buildClassName from '../../../util/buildClassName';\n\nimport Button from '../../ui/Button';\n\nimport styles from './PhoneCallButton.module.scss';\n\ntype OwnProps = {\n  onClick: VoidFunction;\n  label: string;\n  icon?: string;\n  iconClassName?: string;\n  customIcon?: React.ReactNode;\n  className?: string;\n  isDisabled?: boolean;\n  isActive?: boolean;\n};\n\nconst PhoneCallButton: FC<OwnProps> = ({\n  onClick,\n  label,\n  customIcon,\n  icon,\n  iconClassName,\n  className,\n  isDisabled,\n  isActive,\n}) => {\n  return (\n    <div className={styles.root}>\n      <Button\n        round\n        className={buildClassName(className, styles.button, isActive && styles.active)}\n        onClick={onClick}\n        disabled={isDisabled}\n      >\n        {customIcon || <i className={buildClassName(iconClassName, 'icon', `icon-${icon}`)} />}\n      </Button>\n      <div className={styles.buttonText}>{label}</div>\n    </div>\n  );\n};\n\nexport default memo(PhoneCallButton);\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"AddQYAOZJv2f7U7qIfC3\",\"blurred\":\"anFtHj7Wvsv4M_2I2EFF\",\"single-column\":\"Oi7aFYBAbl4bYichdt52\",\"singleColumn\":\"Oi7aFYBAbl4bYichdt52\",\"header\":\"_iK8HccGNSmmo2wL7tMs\",\"close-button\":\"U66J7V5JKTCiktgwYpcC\",\"closeButton\":\"U66J7V5JKTCiktgwYpcC\",\"emojis-backdrop\":\"IekzemHkkO4bfrWHmxlv\",\"emojisBackdrop\":\"IekzemHkkO4bfrWHmxlv\",\"open\":\"hiNHKiq2owo1FvdT9a5g\",\"emojis\":\"BjOb1fDymE5GCiJ4g6YN\",\"emoji-tooltip\":\"Ci9ie86NFinrXvowDx23\",\"emojiTooltip\":\"Ci9ie86NFinrXvowDx23\",\"user-info\":\"eiM2IbZjKKAwrfNtXtAy\",\"userInfo\":\"eiM2IbZjKKAwrfNtXtAy\",\"buttons\":\"AtK8DjRToL8Uk7ZAY25p\",\"leave\":\"uI2mkCTKDcqYPu64xKOk\",\"accept\":\"PC2FeM0OEDDW0TVFGMkk\",\"accept-icon\":\"hBxp1Loj3vj4DtnculDA\",\"acceptIcon\":\"hBxp1Loj3vj4DtnculDA\",\"main-video\":\"lXMZESnc4CBKQbvV7qkL\",\"mainVideo\":\"lXMZESnc4CBKQbvV7qkL\",\"second-video\":\"cnQvI_xwAbO0EEwRcLsg\",\"secondVideo\":\"cnQvI_xwAbO0EEwRcLsg\",\"visible\":\"XaD79h6hSiEi0ypkn5OK\",\"fullscreen\":\"NlF9_Kb2le_3B712PZnO\"};","import type { FC } from '../../../lib/teact/teact';\nimport React, {\n  memo, useCallback, useEffect, useMemo, useRef,\n} from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\nimport '../../../global/actions/calls';\n\nimport type { ApiPhoneCall, ApiUser } from '../../../api/types';\n\nimport {\n  IS_ANDROID,\n  IS_IOS,\n  IS_REQUEST_FULLSCREEN_SUPPORTED,\n} from '../../../util/windowEnvironment';\nimport { LOCAL_TGS_URLS } from '../../common/helpers/animatedAssets';\nimport { selectTabState } from '../../../global/selectors';\nimport buildClassName from '../../../util/buildClassName';\nimport { selectPhoneCallUser } from '../../../global/selectors/calls';\nimport useLang from '../../../hooks/useLang';\nimport renderText from '../../common/helpers/renderText';\nimport useFlag from '../../../hooks/useFlag';\nimport { formatMediaDuration } from '../../../util/dateFormat';\nimport {\n  getStreams, IS_SCREENSHARE_SUPPORTED, switchCameraInputP2p, toggleStreamP2p,\n} from '../../../lib/secret-sauce';\nimport useInterval from '../../../hooks/useInterval';\nimport useForceUpdate from '../../../hooks/useForceUpdate';\nimport useAppLayout from '../../../hooks/useAppLayout';\n\nimport Modal from '../../ui/Modal';\nimport Avatar from '../../common/Avatar';\nimport Button from '../../ui/Button';\nimport PhoneCallButton from './PhoneCallButton';\nimport AnimatedIcon from '../../common/AnimatedIcon';\n\nimport styles from './PhoneCall.module.scss';\n\ntype StateProps = {\n  user?: ApiUser;\n  phoneCall?: ApiPhoneCall;\n  isOutgoing: boolean;\n  isCallPanelVisible?: boolean;\n};\n\nconst PhoneCall: FC<StateProps> = ({\n  user,\n  isOutgoing,\n  phoneCall,\n  isCallPanelVisible,\n}) => {\n  const lang = useLang();\n  const {\n    hangUp, requestMasterAndAcceptCall, playGroupCallSound, toggleGroupCallPanel, connectToActivePhoneCall,\n  } = getActions();\n  // eslint-disable-next-line no-null/no-null\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const [isFullscreen, openFullscreen, closeFullscreen] = useFlag();\n  const { isMobile } = useAppLayout();\n\n  const toggleFullscreen = useCallback(() => {\n    if (isFullscreen) {\n      closeFullscreen();\n    } else {\n      openFullscreen();\n    }\n  }, [closeFullscreen, isFullscreen, openFullscreen]);\n\n  const handleToggleFullscreen = useCallback(() => {\n    if (!containerRef.current) return;\n\n    if (isFullscreen) {\n      document.exitFullscreen().then(closeFullscreen);\n    } else {\n      containerRef.current.requestFullscreen().then(openFullscreen);\n    }\n  }, [closeFullscreen, isFullscreen, openFullscreen]);\n\n  useEffect(() => {\n    if (!IS_REQUEST_FULLSCREEN_SUPPORTED) return undefined;\n    const container = containerRef.current;\n    if (!container) return undefined;\n\n    container.addEventListener('fullscreenchange', toggleFullscreen);\n\n    return () => {\n      container.removeEventListener('fullscreenchange', toggleFullscreen);\n    };\n  }, [toggleFullscreen]);\n\n  const handleClose = useCallback(() => {\n    toggleGroupCallPanel();\n    if (isFullscreen) {\n      closeFullscreen();\n    }\n  }, [closeFullscreen, isFullscreen, toggleGroupCallPanel]);\n\n  const isDiscarded = phoneCall?.state === 'discarded';\n  const isBusy = phoneCall?.reason === 'busy';\n\n  const isIncomingRequested = phoneCall?.state === 'requested' && !isOutgoing;\n  const isOutgoingRequested = (phoneCall?.state === 'requested' || phoneCall?.state === 'waiting') && isOutgoing;\n  const isActive = phoneCall?.state === 'active';\n  const isConnected = phoneCall?.isConnected;\n\n  const [isHangingUp, startHangingUp, stopHangingUp] = useFlag();\n  const handleHangUp = useCallback(() => {\n    startHangingUp();\n    hangUp();\n  }, [hangUp, startHangingUp]);\n\n  useEffect(() => {\n    if (isHangingUp) {\n      playGroupCallSound({ sound: 'end' });\n    } else if (isIncomingRequested) {\n      playGroupCallSound({ sound: 'incoming' });\n    } else if (isBusy) {\n      playGroupCallSound({ sound: 'busy' });\n    } else if (isDiscarded) {\n      playGroupCallSound({ sound: 'end' });\n    } else if (isOutgoingRequested) {\n      playGroupCallSound({ sound: 'ringing' });\n    } else if (isConnected) {\n      playGroupCallSound({ sound: 'connect' });\n    }\n  }, [isBusy, isDiscarded, isIncomingRequested, isOutgoingRequested, isConnected, playGroupCallSound, isHangingUp]);\n\n  useEffect(() => {\n    if (phoneCall?.id) {\n      stopHangingUp();\n    } else {\n      connectToActivePhoneCall();\n    }\n  }, [connectToActivePhoneCall, phoneCall?.id, stopHangingUp]);\n\n  const forceUpdate = useForceUpdate();\n\n  useInterval(() => {\n    forceUpdate();\n  }, isConnected ? 1000 : undefined);\n\n  const callStatus = useMemo(() => {\n    const state = phoneCall?.state;\n    if (isHangingUp) {\n      return lang('lng_call_status_hanging');\n    }\n    if (isBusy) return 'busy';\n    if (state === 'requesting') {\n      return lang('lng_call_status_requesting');\n    } else if (state === 'requested') {\n      return isOutgoing ? lang('lng_call_status_ringing') : lang('lng_call_status_incoming');\n    } else if (state === 'waiting') {\n      return lang('lng_call_status_waiting');\n    } else if (state === 'active' && isConnected) {\n      return undefined;\n    } else {\n      return lang('lng_call_status_exchanging');\n    }\n  }, [isBusy, isConnected, isHangingUp, isOutgoing, lang, phoneCall?.state]);\n\n  const hasVideo = phoneCall?.videoState === 'active';\n  const hasPresentation = phoneCall?.screencastState === 'active';\n\n  const streams = getStreams();\n  const hasOwnAudio = streams?.ownAudio?.getTracks()[0].enabled;\n  const hasOwnPresentation = streams?.ownPresentation?.getTracks()[0].enabled;\n  const hasOwnVideo = streams?.ownVideo?.getTracks()[0].enabled;\n\n  const [isHidingPresentation, startHidingPresentation, stopHidingPresentation] = useFlag();\n  const [isHidingVideo, startHidingVideo, stopHidingVideo] = useFlag();\n\n  const handleTogglePresentation = useCallback(() => {\n    if (hasOwnPresentation) {\n      startHidingPresentation();\n    }\n    if (hasOwnVideo) {\n      startHidingVideo();\n    }\n    setTimeout(async () => {\n      await toggleStreamP2p('presentation');\n      stopHidingPresentation();\n      stopHidingVideo();\n    }, 250);\n  }, [\n    hasOwnPresentation, hasOwnVideo, startHidingPresentation, startHidingVideo, stopHidingPresentation, stopHidingVideo,\n  ]);\n\n  const handleToggleVideo = useCallback(() => {\n    if (hasOwnVideo) {\n      startHidingVideo();\n    }\n    if (hasOwnPresentation) {\n      startHidingPresentation();\n    }\n    setTimeout(async () => {\n      await toggleStreamP2p('video');\n      stopHidingPresentation();\n      stopHidingVideo();\n    }, 250);\n  }, [\n    hasOwnPresentation, hasOwnVideo, startHidingPresentation, startHidingVideo, stopHidingPresentation, stopHidingVideo,\n  ]);\n\n  const handleToggleAudio = useCallback(() => {\n    void toggleStreamP2p('audio');\n  }, []);\n\n  const [isEmojiOpen, openEmoji, closeEmoji] = useFlag();\n\n  const [isFlipping, startFlipping, stopFlipping] = useFlag();\n\n  const handleFlipCamera = useCallback(() => {\n    startFlipping();\n    switchCameraInputP2p();\n    setTimeout(stopFlipping, 250);\n  }, [startFlipping, stopFlipping]);\n\n  const timeElapsed = phoneCall?.startDate && (Number(new Date()) / 1000 - phoneCall.startDate);\n\n  useEffect(() => {\n    if (phoneCall?.state === 'discarded') {\n      setTimeout(hangUp, 250);\n    }\n  }, [hangUp, phoneCall?.reason, phoneCall?.state]);\n\n  return (\n    <Modal\n      isOpen={phoneCall && phoneCall?.state !== 'discarded' && !isCallPanelVisible}\n      onClose={handleClose}\n      className={buildClassName(\n        styles.root,\n        isMobile && styles.singleColumn,\n      )}\n      dialogRef={containerRef}\n    >\n      <Avatar\n        user={user}\n        size=\"jumbo\"\n        className={hasVideo || hasPresentation ? styles.blurred : ''}\n      />\n      {phoneCall?.screencastState === 'active' && streams?.presentation\n        && <video className={styles.mainVideo} muted autoPlay playsInline srcObject={streams.presentation} />}\n      {phoneCall?.videoState === 'active' && streams?.video\n        && <video className={styles.mainVideo} muted autoPlay playsInline srcObject={streams.video} />}\n      <video\n        className={buildClassName(\n          styles.secondVideo,\n          !isHidingPresentation && hasOwnPresentation && styles.visible,\n          isFullscreen && styles.fullscreen,\n        )}\n        muted\n        autoPlay\n        playsInline\n        srcObject={streams?.ownPresentation}\n      />\n      <video\n        className={buildClassName(\n          styles.secondVideo,\n          !isHidingVideo && hasOwnVideo && styles.visible,\n          isFullscreen && styles.fullscreen,\n        )}\n        muted\n        autoPlay\n        playsInline\n        srcObject={streams?.ownVideo}\n      />\n      <div className={styles.header}>\n        {IS_REQUEST_FULLSCREEN_SUPPORTED && (\n          <Button\n            round\n            size=\"smaller\"\n            color=\"translucent\"\n            onClick={handleToggleFullscreen}\n            ariaLabel={lang(isFullscreen ? 'AccExitFullscreen' : 'AccSwitchToFullscreen')}\n          >\n            <i className={buildClassName('icon', isFullscreen ? 'icon-smallscreen' : 'icon-fullscreen')} />\n          </Button>\n        )}\n\n        <Button\n          round\n          size=\"smaller\"\n          color=\"translucent\"\n          onClick={handleClose}\n          className={styles.closeButton}\n        >\n          <i className=\"icon icon-close\" />\n        </Button>\n      </div>\n      <div\n        className={buildClassName(styles.emojisBackdrop, isEmojiOpen && styles.open)}\n        onClick={!isEmojiOpen ? openEmoji : closeEmoji}\n      >\n        <div className={buildClassName(styles.emojis, isEmojiOpen && styles.open)}>\n          {phoneCall?.isConnected && phoneCall?.emojis && renderText(phoneCall.emojis, ['emoji'])}\n        </div>\n        <div className={buildClassName(styles.emojiTooltip, isEmojiOpen && styles.open)}>\n          {lang('CallEmojiKeyTooltip', user?.firstName).replace('%%', '%')}\n        </div>\n      </div>\n      <div className={styles.userInfo}>\n        <h1>{user?.firstName}</h1>\n        <span className={styles.status}>{callStatus || formatMediaDuration(timeElapsed || 0)}</span>\n      </div>\n      <div className={styles.buttons}>\n        <PhoneCallButton\n          onClick={handleToggleAudio}\n          icon=\"microphone\"\n          isDisabled={!isActive}\n          isActive={hasOwnAudio}\n          label={lang(hasOwnAudio ? 'lng_call_mute_audio' : 'lng_call_unmute_audio')}\n        />\n        <PhoneCallButton\n          onClick={handleToggleVideo}\n          icon=\"video\"\n          isDisabled={!isActive}\n          isActive={hasOwnVideo}\n          label={lang(hasOwnVideo ? 'lng_call_stop_video' : 'lng_call_start_video')}\n        />\n        {hasOwnVideo && (IS_ANDROID || IS_IOS) && (\n          <PhoneCallButton\n            onClick={handleFlipCamera}\n            customIcon={(\n              <AnimatedIcon\n                tgsUrl={LOCAL_TGS_URLS.CameraFlip}\n                playSegment={!isFlipping ? [0, 1] : [0, 10]}\n                size={32}\n              />\n            )}\n            isDisabled={!isActive}\n            label={lang('VoipFlip')}\n          />\n        )}\n        {IS_SCREENSHARE_SUPPORTED && (\n          <PhoneCallButton\n            onClick={handleTogglePresentation}\n            icon=\"share-screen\"\n            isDisabled={!isActive}\n            isActive={hasOwnPresentation}\n            label={lang('lng_call_screencast')}\n          />\n        )}\n        {isIncomingRequested && (\n          <PhoneCallButton\n            onClick={requestMasterAndAcceptCall}\n            icon=\"phone-discard\"\n            isDisabled={isDiscarded}\n            label={lang('lng_call_accept')}\n            className={styles.accept}\n            iconClassName={styles.acceptIcon}\n          />\n        )}\n        <PhoneCallButton\n          onClick={handleHangUp}\n          icon=\"phone-discard\"\n          isDisabled={isDiscarded}\n          label={lang(isIncomingRequested ? 'lng_call_decline' : 'lng_call_end_call')}\n          className={styles.leave}\n        />\n      </div>\n    </Modal>\n  );\n};\n\nexport default memo(withGlobal(\n  (global): StateProps => {\n    const { phoneCall, currentUserId } = global;\n    const { isCallPanelVisible, isMasterTab } = selectTabState(global);\n    const user = selectPhoneCallUser(global);\n\n    return {\n      isCallPanelVisible: Boolean(isCallPanelVisible),\n      user,\n      isOutgoing: phoneCall?.adminId === currentUserId,\n      phoneCall: isMasterTab ? phoneCall : undefined,\n    };\n  },\n)(PhoneCall));\n","// extracted by mini-css-extract-plugin\nexport default {\"stars\":\"wLqZtZzJMOmPkr1Z7kT5\",\"star\":\"OLQPS_OeztNYIaL15tdz\",\"isFilled\":\"o_nOyYqj5URif5S86StK\",\"comment\":\"ZToDNX6q1Yhf4aDPyuJF\",\"visible\":\"HdCq8jVctaJoit7bdgZd\"};","import React, {\n  memo, useRef, useState, useCallback,\n} from '../../../lib/teact/teact';\nimport { getActions } from '../../../global';\n\nimport type { FC } from '../../../lib/teact/teact';\n\nimport useLang from '../../../hooks/useLang';\nimport buildClassName from '../../../util/buildClassName';\n\nimport Modal from '../../ui/Modal';\nimport Button from '../../ui/Button';\nimport InputText from '../../ui/InputText';\n\nimport styles from './RatePhoneCallModal.module.scss';\n\nexport type OwnProps = {\n  isOpen?: boolean;\n};\n\nconst RatePhoneCallModal: FC<OwnProps> = ({\n  isOpen,\n}) => {\n  const { closeCallRatingModal, setCallRating } = getActions();\n\n  // eslint-disable-next-line no-null/no-null\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const lang = useLang();\n  const [rating, setRating] = useState<number | undefined>();\n\n  const handleSend = useCallback(() => {\n    if (!rating) {\n      closeCallRatingModal();\n      return;\n    }\n    setCallRating({\n      rating: rating + 1,\n      comment: inputRef.current?.value || '',\n    });\n  }, [closeCallRatingModal, rating, setCallRating]);\n\n  function handleClickStar(index: number) {\n    return () => setRating(rating === index ? undefined : index);\n  }\n\n  const handleCancelClick = useCallback(() => {\n    closeCallRatingModal();\n  }, [closeCallRatingModal]);\n\n  return (\n    <Modal title={lang('lng_call_rate_label')} className=\"narrow\" onClose={closeCallRatingModal} isOpen={isOpen}>\n      <div className={styles.stars}>\n        {new Array(5).fill(undefined).map((_, i) => {\n          const isFilled = rating !== undefined && rating >= i;\n          return (\n            <i\n              className={buildClassName(\n                'icon',\n                isFilled ? 'icon-favorite-filled' : 'icon-favorite',\n                isFilled && styles.isFilled,\n                styles.star,\n              )}\n              onClick={handleClickStar(i)}\n            />\n          );\n        })}\n      </div>\n      <InputText\n        ref={inputRef}\n        placeholder={lang('lng_call_rate_comment')}\n        className={buildClassName(styles.comment, rating !== 4 && rating !== undefined && styles.visible)}\n      />\n\n      <div className=\"dialog-buttons mt-2\">\n        <Button className=\"confirm-dialog-button\" isText onClick={handleSend}>\n          {lang('Send')}\n        </Button>\n        <Button className=\"confirm-dialog-button\" isText onClick={handleCancelClick}>{lang('Cancel')}</Button>\n      </div>\n    </Modal>\n  );\n};\n\nexport default memo(RatePhoneCallModal);\n","import { IS_IOS, IS_SAFARI } from '../util/windowEnvironment';\nimport { initializeSoundsForSafari } from '../global/actions/ui/calls';\n\nexport { default as GroupCall } from '../components/calls/group/GroupCall';\nexport { default as ActiveCallHeader } from '../components/calls/ActiveCallHeader';\nexport { default as PhoneCall } from '../components/calls/phone/PhoneCall';\nexport { default as RatePhoneCallModal } from '../components/calls/phone/RatePhoneCallModal';\n\nif (IS_SAFARI || IS_IOS) {\n  document.addEventListener('click', initializeSoundsForSafari, { once: true });\n}\n"],"names":["toTelegramSource","source","fromTelegramSource","getAmplitude","array","scale","arguments","length","undefined","total","i","rms","Math","sqrt","min","p2pPayloadTypeToConference","p","id","name","feedbackTypes","clockrate","parameters","channels","THRESHOLD","IS_SCREENSHARE_SUPPORTED","navigator","mediaDevices","IS_ECHO_CANCELLATION_SUPPORTED","getSupportedConstraints","echoCancellation","IS_NOISE_SUPPRESSION_SUPPORTED","noiseSuppression","sessionDescription","isP2p","sdp","Error","sections","split","map","s","reduce","acc","el","match","hasOwnProperty","filter","Boolean","lookup","prefix","sectionName","find","line","startsWith","substr","Object","values","section","parseExtmaps","l","uri","Number","parsePayloadTypes","payloads","data","fbParams","type","subtype","d","q","value","some","z","payload","assign","f","keys","rawSource","sourceAudio","rawSourceVideo","rawSourceScreencast","hash","fingerprint","setup","console","log","oo_oo","ufrag","pwd","fingerprints","ssrc","semantics","sources","slice","audioExtmap","videoExtmap","screencastExtmap","audioPayloadTypes","videoPayloadTypes","screencastPayloadTypes","oo_cm","eval","e","_len","v","Array","_key","consoleLog","conference","isAnswer","isPresentation","lines","add","push","sessionId","ssrcs","audioExtensions","videoExtensions","transport","candidates","mid","join","addCandidate","c","sdpString","str","foundation","component","protocol","priority","ip","port","generation","addTransport","forEach","addPayloadType","payloadType","parametersString","key","fbParam","addSsrcEntry","entry","payloadTypes","isVideo","isMain","_ref","isRemoved","sourceGroups","sourceGroup","ssrcTelegram","endpoint","silence","ctx","oscillator","createOscillator","dst","connect","createMediaStreamDestination","start","MediaStream","stream","getAudioTracks","enabled","black","width","height","canvas","document","createElement","getContext","fillRect","captureStream","getVideoTracks","state","leavePresentation","isFromToggle","screenshareDataChannel","close","screenshareConnection","onUpdate","getUserStreams","userId","streams","setVolume","volume","participantFunctions","isStreamEnabled","streamType","myId","getTracks","updateGroupCallStreams","hasAudioStream","hasVideoStream","hasPresentationStream","amplitude","speaking","getUserStream","facing","getDisplayMedia","audio","video","getUserMedia","facingMode","async","switchCameraInput","connection","track","sender","getSenders","newStream","replaceTrack","toggleStream","audioContext","createMediaStreamSource","analyser","createAnalyser","minDecibels","maxDecibels","smoothingTimeConstant","fftSize","getCurrentAmplitude","Uint8Array","frequencyBinCount","getByteFrequencyData","stop","updateConnectionState","connectionState","leaveGroupCall","dataChannel","analyserInterval","clearInterval","analyzeAmplitudes","prevAmplitude","createDataChannel","onopen","onmessage","JSON","parse","colibriClass","onerror","error","handleUpdateGroupCallParticipants","updatedParticipants","participants","participant","isSelf","newEndpoints","isMuted","canSelfUnmute","isLeft","isAudioLeft","isMutedByMe","isVideoLeft","isVideoJoined","isPresentationLeft","presentation","hasVideo","hasAudio","hasPresentation","lastMid","toString","updatingParticipantsQueue","buildSdp","setRemoteDescription","answer","createAnswer","setLocalDescription","newConference","answerNew","handleTrack","audioElement","mediaStream","kind","onended","window","AudioContext","gainNode","createGain","gain","muteNode","destination","addTrack","test","Audio","srcObject","muted","remove","toggleMute","initializeConnection","resolve","RTCPeerConnection","oniceconnectionstatechange","iceConnectionState","ontrack","onnegotiationneeded","offer","createOffer","offerToReceiveVideo","offerToReceiveAudio","parseSdp","audioSsrc","videoSsrc","screenshareConference","audioStream","videoStream","updateStreams","mediaState","toggleStreamP2p","ownAudio","ownVideo","ownPresentation","blackVideo","blackPresentation","sendMediaState","stopPhoneCall","emitSignalingData","videoRotation","isBatteryLow","videoState","screencastState","filterVP8","mediaContent","isOutgoing","idx","findIndex","vp8PayloadType","rtxIdx","apt","sendInitialSetup","ssrcGroups","rtpExtensions","screencast","processSignalingMessage","message","gotInitialSetup","candidate","Promise","all","addIceCandidate","sdpMLineIndex","xmlns","Date","now","addActionHandler","global","actions","isFromLibrary","shouldDiscard","shouldRemove","rejoin","tabId","getCurrentTabId","groupCall","selectActiveGroupCall","updateActiveGroupCall","participantsCount","setGlobal","callApi","call","getGlobal","removeGroupCall","removeGroupCallAudioElement","groupCalls","activeGroupCallId","toggleGroupCallPanel","force","afterHangUp","requestMasterAndJoinGroupCall","user","selectUser","currentUserId","videoStopped","raiseHand","participantId","floor","GROUP_CALL_VOLUME_MULTIPLIER","params","startSharingScreen","presentationPaused","showNotification","getGroupCallAudioElement","getGroupCallAudioContext","play","catch","warn","setInterval","joinGroupCall","apiUpdate","result","inviteHash","loadMoreGroupCallParticipants","chatId","chat","selectChat","loadFullChat","phoneCall","selectPhoneCallUser","dhConfig","gAHash","addUsers","buildCollectionByKey","users","hangUp","gB","stringify","encodedData","updateTabState","ratingPhoneCall","rating","comment","selectTabState","setTimeout","EMOJI_DATA","Uint16Array","EMOJI_OFFSETS","update","toggleGroupCallPresentation","selectGroupCallParticipant","updateGroupCallParticipant","omit","updateGroupCall","isSpeakerDisabled","groupCallId","handleUpdateGroupCallConnection","ARE_CALLS_SUPPORTED","adminId","isBusy","accessHash","connections","libraryVersions","version","langProvider","firstName","needRating","isCallPanelVisible","gA","keyFingerprint","emojis","newCall","gAOrB","shouldStartVideo","conn","iceServers","urls","isTurn","isStun","username","credentialType","credential","password","iceCandidatePoolSize","slnc","screenshare","onicecandidate","onconnectionstatechange","transceiver","dc","negotiated","joinPhoneCall","sendSignalingData","isConnected","then","vibrateShort","vibrate","memo","withGlobal","meParticipant","raiseHandRating","hasRequestedToSpeak","noAudioStream","toggleGroupCallMute","requestToSpeak","playGroupCallSound","getActions","lang","useLang","muteMouseDownState","useRef","isRequestingToSpeak","setIsRequestingToSpeak","useState","isConnecting","shouldRaiseHand","prevShouldRaiseHand","usePrevious","useEffect","sound","playSegment","useMemo","r","random","animatedIconName","buttonText","React","className","buildClassName","onMouseDown","handleMouseDownMute","current","onMouseUp","handleMouseUpMute","AnimatedIcon","tgsUrl","LOCAL_TGS_URLS","size","SPEAKER_ICON_DISABLED_SEGMENT","SPEAKER_ICON_ENABLED_SEGMENT","isAdmin","selectIsAdminInActiveGroupCall","closeDropdown","isDropdownOpen","anchor","setGroupCallParticipantVolume","openChat","isDeleteUserModalOpen","openDeleteUserModal","closeDeleteUserModal","useFlag","isRaiseHand","localVolume","setLocalVolume","GROUP_CALL_DEFAULT_VOLUME","runThrottled","ms","noFirst","deps","useThrottledCallback","cb","useRunThrottled","handleRemove","useCallback","stopPropagation","handleCancelRequestToSpeak","handleMute","handleOpenProfile","speakerIconPlaySegment","Menu","isOpen","positionX","autoClose","style","buildStyle","y","onClose","max","onChange","target","MenuItem","icon","onClick","destructive","DeleteMemberModal","noColor","isSpeaking","prevIsRaiseHand","prevIsMuted","microphoneColor","color","_ref2","isUser","openParticipantMenu","anchorRef","aboutText","aboutColor","replace","about","lastName","title","handleOnClick","ref","Avatar","OutlinedMicrophoneIcon","createGroupCallInviteLink","participantsIds","handleLoadMoreGroupCallParticipants","viewportIds","getMore","useInfiniteScroll","InfiniteScroll","items","onLoadMore","GroupCallParticipant","isActive","isFullscreen","handleClick","GROUP_CALL_THUMB_VIDEO_DISABLED","autoPlay","playsInline","onDoubleClick","selectedVideo","setSelectedVideo","presentationParticipants","videoParticipants","totalVideoCount","columnCount","shouldSpanLastVideo","handleClickVideo","GroupCallParticipantVideo","CAMERA_FLIP_PLAY_SEGMENT","_ref4","selectGroupCall","isSpeakerEnabled","toggleGroupCallVideo","connectToActiveGroupCall","containerRef","isMobile","isLandscape","useAppLayout","isLeaving","setIsLeaving","openFullscreen","closeFullscreen","isSidebarOpen","openSidebar","closeSidebar","hasVideoParticipants","isLandscapeLayout","participantMenu","setParticipantMenu","isParticipantMenuOpen","closeParticipantMenu","isConfirmLeaveModalOpen","openConfirmLeaveModal","closeConfirmLeaveModal","isEndGroupCallModal","setIsEndGroupCallModal","shouldEndGroupCall","setShouldEndGroupCall","handleOpenParticipantMenu","rect","getBoundingClientRect","container","x","left","top","offsetTop","handleCloseConfirmLeaveModal","MainButton","_ref3","onTrigger","Button","round","ariaLabel","handleToggleFullscreen","exitFullscreen","requestFullscreen","handleToggleSidebar","handleStreamsDoubleClick","IS_REQUEST_FULLSCREEN_SUPPORTED","toggleFullscreen","handleClose","addEventListener","removeEventListener","endGroupCall","handleLeaveGroupCall","handleCloseAnimationEnd","handleToggleGroupCallPresentation","Modal","dialogRef","onCloseAnimationEnd","DropdownMenu","trigger","GroupCallParticipantStreams","GroupCallParticipantList","GroupCallParticipantMenu","Loading","IS_ANDROID","IS_IOS","handleClickVideoOrSpeaker","MicrophoneButton","Checkbox","label","checked","onCheck","isText","tabState","isMasterTab","phoneCallUser","body","classList","toggle","customIcon","iconClassName","isDisabled","disabled","requestMasterAndAcceptCall","connectToActivePhoneCall","isDiscarded","reason","isIncomingRequested","isOutgoingRequested","isHangingUp","startHangingUp","stopHangingUp","handleHangUp","forceUpdate","useForceUpdate","useInterval","callStatus","hasOwnAudio","hasOwnPresentation","hasOwnVideo","isHidingPresentation","startHidingPresentation","stopHidingPresentation","isHidingVideo","startHidingVideo","stopHidingVideo","handleTogglePresentation","handleToggleVideo","handleToggleAudio","isEmojiOpen","openEmoji","closeEmoji","isFlipping","startFlipping","stopFlipping","handleFlipCamera","switchCameraInputP2p","timeElapsed","startDate","styles","renderText","formatMediaDuration","PhoneCallButton","closeCallRatingModal","setCallRating","inputRef","setRating","handleSend","handleCancelClick","fill","_","isFilled","index","InputText","placeholder","IS_SAFARI","initializeSoundsForSafari","once"],"sourceRoot":""}